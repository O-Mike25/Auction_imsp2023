function xO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function F0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VT={exports:{}},Zh={},FT={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu=Symbol.for("react.element"),bO=Symbol.for("react.portal"),SO=Symbol.for("react.fragment"),CO=Symbol.for("react.strict_mode"),TO=Symbol.for("react.profiler"),RO=Symbol.for("react.provider"),IO=Symbol.for("react.context"),PO=Symbol.for("react.forward_ref"),AO=Symbol.for("react.suspense"),$O=Symbol.for("react.memo"),kO=Symbol.for("react.lazy"),$1=Symbol.iterator;function DO(e){return e===null||typeof e!="object"?null:(e=$1&&e[$1]||e["@@iterator"],typeof e=="function"?e:null)}var jT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UT=Object.assign,BT={};function Ja(e,t,n){this.props=e,this.context=t,this.refs=BT,this.updater=n||jT}Ja.prototype.isReactComponent={};Ja.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ja.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zT(){}zT.prototype=Ja.prototype;function j0(e,t,n){this.props=e,this.context=t,this.refs=BT,this.updater=n||jT}var U0=j0.prototype=new zT;U0.constructor=j0;UT(U0,Ja.prototype);U0.isPureReactComponent=!0;var k1=Array.isArray,HT=Object.prototype.hasOwnProperty,B0={current:null},WT={key:!0,ref:!0,__self:!0,__source:!0};function GT(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)HT.call(t,r)&&!WT.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Eu,type:e,key:i,ref:s,props:o,_owner:B0.current}}function NO(e,t){return{$$typeof:Eu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function z0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Eu}function MO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var D1=/\/+/g;function Mm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MO(""+e.key):t.toString(36)}function df(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Eu:case bO:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Mm(s,0):r,k1(o)?(n="",e!=null&&(n=e.replace(D1,"$&/")+"/"),df(o,t,n,"",function(c){return c})):o!=null&&(z0(o)&&(o=NO(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(D1,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",k1(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Mm(i,a);s+=df(i,t,n,l,o)}else if(l=DO(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Mm(i,a++),s+=df(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function pd(e,t,n){if(e==null)return e;var r=[],o=0;return df(e,r,"","",function(i){return t.call(n,i,o++)}),r}function OO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fn={current:null},ff={transition:null},LO={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:ff,ReactCurrentOwner:B0};be.Children={map:pd,forEach:function(e,t,n){pd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pd(e,function(){t++}),t},toArray:function(e){return pd(e,function(t){return t})||[]},only:function(e){if(!z0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Ja;be.Fragment=SO;be.Profiler=TO;be.PureComponent=j0;be.StrictMode=CO;be.Suspense=AO;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LO;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=UT({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=B0.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)HT.call(t,l)&&!WT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Eu,type:e.type,key:o,ref:i,props:r,_owner:s}};be.createContext=function(e){return e={$$typeof:IO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RO,_context:e},e.Consumer=e};be.createElement=GT;be.createFactory=function(e){var t=GT.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:PO,render:e}};be.isValidElement=z0;be.lazy=function(e){return{$$typeof:kO,_payload:{_status:-1,_result:e},_init:OO}};be.memo=function(e,t){return{$$typeof:$O,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=ff.transition;ff.transition={};try{e()}finally{ff.transition=t}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(e,t){return fn.current.useCallback(e,t)};be.useContext=function(e){return fn.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return fn.current.useDeferredValue(e)};be.useEffect=function(e,t){return fn.current.useEffect(e,t)};be.useId=function(){return fn.current.useId()};be.useImperativeHandle=function(e,t,n){return fn.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return fn.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return fn.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return fn.current.useMemo(e,t)};be.useReducer=function(e,t,n){return fn.current.useReducer(e,t,n)};be.useRef=function(e){return fn.current.useRef(e)};be.useState=function(e){return fn.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return fn.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return fn.current.useTransition()};be.version="18.2.0";FT.exports=be;var d=FT.exports;const mn=F0(d),H0=xO({__proto__:null,default:mn},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO=d,FO=Symbol.for("react.element"),jO=Symbol.for("react.fragment"),UO=Object.prototype.hasOwnProperty,BO=VO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zO={key:!0,ref:!0,__self:!0,__source:!0};function KT(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)UO.call(t,r)&&!zO.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:FO,type:e,key:i,ref:s,props:o,_owner:BO.current}}Zh.Fragment=jO;Zh.jsx=KT;Zh.jsxs=KT;VT.exports=Zh;var x=VT.exports,yv={},qT={exports:{}},Ln={},QT={exports:{}},XT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,R){var $=k.length;k.push(R);e:for(;0<$;){var V=$-1>>>1,L=k[V];if(0<o(L,R))k[V]=R,k[$]=L,$=V;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var R=k[0],$=k.pop();if($!==R){k[0]=$;e:for(var V=0,L=k.length,se=L>>>1;V<se;){var ee=2*(V+1)-1,Te=k[ee],$e=ee+1,te=k[$e];if(0>o(Te,$))$e<L&&0>o(te,Te)?(k[V]=te,k[$e]=$,V=$e):(k[V]=Te,k[ee]=$,V=ee);else if($e<L&&0>o(te,$))k[V]=te,k[$e]=$,V=$e;else break e}}return R}function o(k,R){var $=k.sortIndex-R.sortIndex;return $!==0?$:k.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(k){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=k)r(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(c)}}function _(k){if(m=!1,E(k),!g)if(n(l)!==null)g=!0,W(b);else{var R=n(c);R!==null&&Z(_,R.startTime-k)}}function b(k,R){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var $=h;try{for(E(R),f=n(l);f!==null&&(!(f.expirationTime>R)||k&&!B());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var L=V(f.expirationTime<=R);R=e.unstable_now(),typeof L=="function"?f.callback=L:f===n(l)&&r(l),E(R)}else r(l);f=n(l)}if(f!==null)var se=!0;else{var ee=n(c);ee!==null&&Z(_,ee.startTime-R),se=!1}return se}finally{f=null,h=$,p=!1}}var S=!1,C=null,T=-1,I=5,M=-1;function B(){return!(e.unstable_now()-M<I)}function j(){if(C!==null){var k=e.unstable_now();M=k;var R=!0;try{R=C(!0,k)}finally{R?q():(S=!1,C=null)}}else S=!1}var q;if(typeof y=="function")q=function(){y(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,U=N.port2;N.port1.onmessage=j,q=function(){U.postMessage(null)}}else q=function(){w(j,0)};function W(k){C=k,S||(S=!0,q())}function Z(k,R){T=w(function(){k(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,W(b))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var $=h;h=R;try{return k()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,R){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=h;h=k;try{return R()}finally{h=$}},e.unstable_scheduleCallback=function(k,R,$){var V=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,k){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,k={id:u++,callback:R,priorityLevel:k,startTime:$,expirationTime:L,sortIndex:-1},$>V?(k.sortIndex=$,t(c,k),n(l)===null&&k===n(c)&&(m?(v(T),T=-1):m=!0,Z(_,$-V))):(k.sortIndex=L,t(l,k),g||p||(g=!0,W(b))),k},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(k){var R=h;return function(){var $=h;h=R;try{return k.apply(this,arguments)}finally{h=$}}}})(XT);QT.exports=XT;var HO=QT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT=d,Nn=HO;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JT=new Set,Rc={};function hs(e,t){Ra(e,t),Ra(e+"Capture",t)}function Ra(e,t){for(Rc[e]=t,e=0;e<t.length;e++)JT.add(t[e])}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wv=Object.prototype.hasOwnProperty,WO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N1={},M1={};function GO(e){return wv.call(M1,e)?!0:wv.call(N1,e)?!1:WO.test(e)?M1[e]=!0:(N1[e]=!0,!1)}function KO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qO(e,t,n,r){if(t===null||typeof t>"u"||KO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var W0=/[\-:]([a-z])/g;function G0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W0,G0);Bt[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W0,G0);Bt[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W0,G0);Bt[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function K0(e,t,n,r){var o=Bt.hasOwnProperty(t)?Bt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qO(t,n,o,r)&&(n=null),r||o===null?GO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var So=YT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,md=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),_v=Symbol.for("react.profiler"),ZT=Symbol.for("react.provider"),eR=Symbol.for("react.context"),Q0=Symbol.for("react.forward_ref"),Ev=Symbol.for("react.suspense"),xv=Symbol.for("react.suspense_list"),X0=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),tR=Symbol.for("react.offscreen"),O1=Symbol.iterator;function bl(e){return e===null||typeof e!="object"?null:(e=O1&&e[O1]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,Om;function Hl(e){if(Om===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Om=t&&t[1]||""}return`
`+Om+e}var Lm=!1;function Vm(e,t){if(!e||Lm)return"";Lm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Lm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hl(e):""}function QO(e){switch(e.tag){case 5:return Hl(e.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return e=Vm(e.type,!1),e;case 11:return e=Vm(e.type.render,!1),e;case 1:return e=Vm(e.type,!0),e;default:return""}}function bv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ks:return"Fragment";case Gs:return"Portal";case _v:return"Profiler";case q0:return"StrictMode";case Ev:return"Suspense";case xv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eR:return(e.displayName||"Context")+".Consumer";case ZT:return(e._context.displayName||"Context")+".Provider";case Q0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X0:return t=e.displayName||null,t!==null?t:bv(e.type)||"Memo";case No:t=e._payload,e=e._init;try{return bv(e(t))}catch{}}return null}function XO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bv(t);case 8:return t===q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function si(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YO(e){var t=nR(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gd(e){e._valueTracker||(e._valueTracker=YO(e))}function rR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nR(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ff(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sv(e,t){var n=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function L1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=si(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oR(e,t){t=t.checked,t!=null&&K0(e,"checked",t,!1)}function Cv(e,t){oR(e,t);var n=si(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tv(e,t.type,si(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function V1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tv(e,t,n){(t!=="number"||Ff(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wl=Array.isArray;function da(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+si(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Rv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function F1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Wl(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:si(n)}}function iR(e,t){var n=si(t.value),r=si(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function j1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vd,aR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ic(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JO=["Webkit","ms","Moz","O"];Object.keys(nc).forEach(function(e){JO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nc[t]=nc[e]})});function lR(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nc.hasOwnProperty(e)&&nc[e]?(""+t).trim():t+"px"}function cR(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=lR(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ZO=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pv(e,t){if(t){if(ZO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Av(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=null;function Y0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kv=null,fa=null,ha=null;function U1(e){if(e=Su(e)){if(typeof kv!="function")throw Error(z(280));var t=e.stateNode;t&&(t=op(t),kv(e.stateNode,e.type,t))}}function uR(e){fa?ha?ha.push(e):ha=[e]:fa=e}function dR(){if(fa){var e=fa,t=ha;if(ha=fa=null,U1(e),t)for(e=0;e<t.length;e++)U1(t[e])}}function fR(e,t){return e(t)}function hR(){}var Fm=!1;function pR(e,t,n){if(Fm)return e(t,n);Fm=!0;try{return fR(e,t,n)}finally{Fm=!1,(fa!==null||ha!==null)&&(hR(),dR())}}function Pc(e,t){var n=e.stateNode;if(n===null)return null;var r=op(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Dv=!1;if(fo)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){Dv=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Dv=!1}function eL(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var rc=!1,jf=null,Uf=!1,Nv=null,tL={onError:function(e){rc=!0,jf=e}};function nL(e,t,n,r,o,i,s,a,l){rc=!1,jf=null,eL.apply(tL,arguments)}function rL(e,t,n,r,o,i,s,a,l){if(nL.apply(this,arguments),rc){if(rc){var c=jf;rc=!1,jf=null}else throw Error(z(198));Uf||(Uf=!0,Nv=c)}}function ps(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B1(e){if(ps(e)!==e)throw Error(z(188))}function oL(e){var t=e.alternate;if(!t){if(t=ps(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return B1(o),e;if(i===r)return B1(o),t;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function gR(e){return e=oL(e),e!==null?vR(e):null}function vR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vR(e);if(t!==null)return t;e=e.sibling}return null}var yR=Nn.unstable_scheduleCallback,z1=Nn.unstable_cancelCallback,iL=Nn.unstable_shouldYield,sL=Nn.unstable_requestPaint,ft=Nn.unstable_now,aL=Nn.unstable_getCurrentPriorityLevel,J0=Nn.unstable_ImmediatePriority,wR=Nn.unstable_UserBlockingPriority,Bf=Nn.unstable_NormalPriority,lL=Nn.unstable_LowPriority,_R=Nn.unstable_IdlePriority,ep=null,Pr=null;function cL(e){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(ep,e,void 0,(e.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:fL,uL=Math.log,dL=Math.LN2;function fL(e){return e>>>=0,e===0?32:31-(uL(e)/dL|0)|0}var yd=64,wd=4194304;function Gl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Gl(a):(i&=s,i!==0&&(r=Gl(i)))}else s=n&~o,s!==0?r=Gl(s):i!==0&&(r=Gl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-lr(t),o=1<<n,r|=e[n],t&=~o;return r}function hL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-lr(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=hL(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Mv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ER(){var e=yd;return yd<<=1,!(yd&4194240)&&(yd=64),e}function jm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lr(t),e[t]=n}function mL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-lr(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Z0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Le=0;function xR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bR,ew,SR,CR,TR,Ov=!1,_d=[],Go=null,Ko=null,qo=null,Ac=new Map,$c=new Map,Lo=[],gL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H1(e,t){switch(e){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":Ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(t.pointerId)}}function Cl(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Su(t),t!==null&&ew(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function vL(e,t,n,r,o){switch(t){case"focusin":return Go=Cl(Go,e,t,n,r,o),!0;case"dragenter":return Ko=Cl(Ko,e,t,n,r,o),!0;case"mouseover":return qo=Cl(qo,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ac.set(i,Cl(Ac.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,$c.set(i,Cl($c.get(i)||null,e,t,n,r,o)),!0}return!1}function RR(e){var t=Mi(e.target);if(t!==null){var n=ps(t);if(n!==null){if(t=n.tag,t===13){if(t=mR(n),t!==null){e.blockedOn=t,TR(e.priority,function(){SR(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$v=r,n.target.dispatchEvent(r),$v=null}else return t=Su(n),t!==null&&ew(t),e.blockedOn=n,!1;t.shift()}return!0}function W1(e,t,n){hf(e)&&n.delete(t)}function yL(){Ov=!1,Go!==null&&hf(Go)&&(Go=null),Ko!==null&&hf(Ko)&&(Ko=null),qo!==null&&hf(qo)&&(qo=null),Ac.forEach(W1),$c.forEach(W1)}function Tl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ov||(Ov=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,yL)))}function kc(e){function t(o){return Tl(o,e)}if(0<_d.length){Tl(_d[0],e);for(var n=1;n<_d.length;n++){var r=_d[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Go!==null&&Tl(Go,e),Ko!==null&&Tl(Ko,e),qo!==null&&Tl(qo,e),Ac.forEach(t),$c.forEach(t),n=0;n<Lo.length;n++)r=Lo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lo.length&&(n=Lo[0],n.blockedOn===null);)RR(n),n.blockedOn===null&&Lo.shift()}var pa=So.ReactCurrentBatchConfig,Hf=!0;function wL(e,t,n,r){var o=Le,i=pa.transition;pa.transition=null;try{Le=1,tw(e,t,n,r)}finally{Le=o,pa.transition=i}}function _L(e,t,n,r){var o=Le,i=pa.transition;pa.transition=null;try{Le=4,tw(e,t,n,r)}finally{Le=o,pa.transition=i}}function tw(e,t,n,r){if(Hf){var o=Lv(e,t,n,r);if(o===null)Xm(e,t,r,Wf,n),H1(e,r);else if(vL(o,e,t,n,r))r.stopPropagation();else if(H1(e,r),t&4&&-1<gL.indexOf(e)){for(;o!==null;){var i=Su(o);if(i!==null&&bR(i),i=Lv(e,t,n,r),i===null&&Xm(e,t,r,Wf,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Xm(e,t,r,null,n)}}var Wf=null;function Lv(e,t,n,r){if(Wf=null,e=Y0(r),e=Mi(e),e!==null)if(t=ps(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mR(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wf=e,null}function IR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aL()){case J0:return 1;case wR:return 4;case Bf:case lL:return 16;case _R:return 536870912;default:return 16}default:return 16}}var Bo=null,nw=null,pf=null;function PR(){if(pf)return pf;var e,t=nw,n=t.length,r,o="value"in Bo?Bo.value:Bo.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return pf=o.slice(e,1<r?1-r:void 0)}function mf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ed(){return!0}function G1(){return!1}function Vn(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ed:G1,this.isPropagationStopped=G1,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ed)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ed)},persist:function(){},isPersistent:Ed}),t}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rw=Vn(Za),bu=rt({},Za,{view:0,detail:0}),EL=Vn(bu),Um,Bm,Rl,tp=rt({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ow,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rl&&(Rl&&e.type==="mousemove"?(Um=e.screenX-Rl.screenX,Bm=e.screenY-Rl.screenY):Bm=Um=0,Rl=e),Um)},movementY:function(e){return"movementY"in e?e.movementY:Bm}}),K1=Vn(tp),xL=rt({},tp,{dataTransfer:0}),bL=Vn(xL),SL=rt({},bu,{relatedTarget:0}),zm=Vn(SL),CL=rt({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),TL=Vn(CL),RL=rt({},Za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IL=Vn(RL),PL=rt({},Za,{data:0}),q1=Vn(PL),AL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$L={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kL[e])?!!t[e]:!1}function ow(){return DL}var NL=rt({},bu,{key:function(e){if(e.key){var t=AL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$L[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ow,charCode:function(e){return e.type==="keypress"?mf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ML=Vn(NL),OL=rt({},tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q1=Vn(OL),LL=rt({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ow}),VL=Vn(LL),FL=rt({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),jL=Vn(FL),UL=rt({},tp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BL=Vn(UL),zL=[9,13,27,32],iw=fo&&"CompositionEvent"in window,oc=null;fo&&"documentMode"in document&&(oc=document.documentMode);var HL=fo&&"TextEvent"in window&&!oc,AR=fo&&(!iw||oc&&8<oc&&11>=oc),X1=String.fromCharCode(32),Y1=!1;function $R(e,t){switch(e){case"keyup":return zL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function WL(e,t){switch(e){case"compositionend":return kR(t);case"keypress":return t.which!==32?null:(Y1=!0,X1);case"textInput":return e=t.data,e===X1&&Y1?null:e;default:return null}}function GL(e,t){if(qs)return e==="compositionend"||!iw&&$R(e,t)?(e=PR(),pf=nw=Bo=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AR&&t.locale!=="ko"?null:t.data;default:return null}}var KL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KL[e.type]:t==="textarea"}function DR(e,t,n,r){uR(r),t=Gf(t,"onChange"),0<t.length&&(n=new rw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ic=null,Dc=null;function qL(e){HR(e,0)}function np(e){var t=Ys(e);if(rR(t))return e}function QL(e,t){if(e==="change")return t}var NR=!1;if(fo){var Hm;if(fo){var Wm="oninput"in document;if(!Wm){var Z1=document.createElement("div");Z1.setAttribute("oninput","return;"),Wm=typeof Z1.oninput=="function"}Hm=Wm}else Hm=!1;NR=Hm&&(!document.documentMode||9<document.documentMode)}function ex(){ic&&(ic.detachEvent("onpropertychange",MR),Dc=ic=null)}function MR(e){if(e.propertyName==="value"&&np(Dc)){var t=[];DR(t,Dc,e,Y0(e)),pR(qL,t)}}function XL(e,t,n){e==="focusin"?(ex(),ic=t,Dc=n,ic.attachEvent("onpropertychange",MR)):e==="focusout"&&ex()}function YL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return np(Dc)}function JL(e,t){if(e==="click")return np(t)}function ZL(e,t){if(e==="input"||e==="change")return np(t)}function eV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:eV;function Nc(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!wv.call(t,o)||!pr(e[o],t[o]))return!1}return!0}function tx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nx(e,t){var n=tx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tx(n)}}function OR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?OR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LR(){for(var e=window,t=Ff();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ff(e.document)}return t}function sw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tV(e){var t=LR(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&OR(n.ownerDocument.documentElement,n)){if(r!==null&&sw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=nx(n,i);var s=nx(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nV=fo&&"documentMode"in document&&11>=document.documentMode,Qs=null,Vv=null,sc=null,Fv=!1;function rx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fv||Qs==null||Qs!==Ff(r)||(r=Qs,"selectionStart"in r&&sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sc&&Nc(sc,r)||(sc=r,r=Gf(Vv,"onSelect"),0<r.length&&(t=new rw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qs)))}function xd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xs={animationend:xd("Animation","AnimationEnd"),animationiteration:xd("Animation","AnimationIteration"),animationstart:xd("Animation","AnimationStart"),transitionend:xd("Transition","TransitionEnd")},Gm={},VR={};fo&&(VR=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function rp(e){if(Gm[e])return Gm[e];if(!Xs[e])return e;var t=Xs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in VR)return Gm[e]=t[n];return e}var FR=rp("animationend"),jR=rp("animationiteration"),UR=rp("animationstart"),BR=rp("transitionend"),zR=new Map,ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(e,t){zR.set(e,t),hs(t,[e])}for(var Km=0;Km<ox.length;Km++){var qm=ox[Km],rV=qm.toLowerCase(),oV=qm[0].toUpperCase()+qm.slice(1);wi(rV,"on"+oV)}wi(FR,"onAnimationEnd");wi(jR,"onAnimationIteration");wi(UR,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(BR,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function ix(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rL(r,t,void 0,e),e.currentTarget=null}function HR(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;ix(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;ix(o,a,c),i=l}}}if(Uf)throw e=Nv,Uf=!1,Nv=null,e}function Be(e,t){var n=t[Hv];n===void 0&&(n=t[Hv]=new Set);var r=e+"__bubble";n.has(r)||(WR(t,e,2,!1),n.add(r))}function Qm(e,t,n){var r=0;t&&(r|=4),WR(n,e,r,t)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Mc(e){if(!e[bd]){e[bd]=!0,JT.forEach(function(n){n!=="selectionchange"&&(iV.has(n)||Qm(n,!1,e),Qm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bd]||(t[bd]=!0,Qm("selectionchange",!1,t))}}function WR(e,t,n,r){switch(IR(t)){case 1:var o=wL;break;case 4:o=_L;break;default:o=tw}n=o.bind(null,t,n,e),o=void 0,!Dv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Xm(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Mi(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}pR(function(){var c=i,u=Y0(n),f=[];e:{var h=zR.get(e);if(h!==void 0){var p=rw,g=e;switch(e){case"keypress":if(mf(n)===0)break e;case"keydown":case"keyup":p=ML;break;case"focusin":g="focus",p=zm;break;case"focusout":g="blur",p=zm;break;case"beforeblur":case"afterblur":p=zm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=K1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VL;break;case FR:case jR:case UR:p=TL;break;case BR:p=jL;break;case"scroll":p=EL;break;case"wheel":p=BL;break;case"copy":case"cut":case"paste":p=IL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Q1}var m=(t&4)!==0,w=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,E;y!==null;){E=y;var _=E.stateNode;if(E.tag===5&&_!==null&&(E=_,v!==null&&(_=Pc(y,v),_!=null&&m.push(Oc(y,_,E)))),w)break;y=y.return}0<m.length&&(h=new p(h,g,null,n,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==$v&&(g=n.relatedTarget||n.fromElement)&&(Mi(g)||g[ho]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Mi(g):null,g!==null&&(w=ps(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=K1,_="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Q1,_="onPointerLeave",v="onPointerEnter",y="pointer"),w=p==null?h:Ys(p),E=g==null?h:Ys(g),h=new m(_,y+"leave",p,n,u),h.target=w,h.relatedTarget=E,_=null,Mi(u)===c&&(m=new m(v,y+"enter",g,n,u),m.target=E,m.relatedTarget=w,_=m),w=_,p&&g)t:{for(m=p,v=g,y=0,E=m;E;E=Ms(E))y++;for(E=0,_=v;_;_=Ms(_))E++;for(;0<y-E;)m=Ms(m),y--;for(;0<E-y;)v=Ms(v),E--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ms(m),v=Ms(v)}m=null}else m=null;p!==null&&sx(f,h,p,m,!1),g!==null&&w!==null&&sx(f,w,g,m,!0)}}e:{if(h=c?Ys(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=QL;else if(J1(h))if(NR)b=ZL;else{b=YL;var S=XL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=JL);if(b&&(b=b(e,c))){DR(f,b,n,u);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Tv(h,"number",h.value)}switch(S=c?Ys(c):window,e){case"focusin":(J1(S)||S.contentEditable==="true")&&(Qs=S,Vv=c,sc=null);break;case"focusout":sc=Vv=Qs=null;break;case"mousedown":Fv=!0;break;case"contextmenu":case"mouseup":case"dragend":Fv=!1,rx(f,n,u);break;case"selectionchange":if(nV)break;case"keydown":case"keyup":rx(f,n,u)}var C;if(iw)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else qs?$R(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(AR&&n.locale!=="ko"&&(qs||T!=="onCompositionStart"?T==="onCompositionEnd"&&qs&&(C=PR()):(Bo=u,nw="value"in Bo?Bo.value:Bo.textContent,qs=!0)),S=Gf(c,T),0<S.length&&(T=new q1(T,e,null,n,u),f.push({event:T,listeners:S}),C?T.data=C:(C=kR(n),C!==null&&(T.data=C)))),(C=HL?WL(e,n):GL(e,n))&&(c=Gf(c,"onBeforeInput"),0<c.length&&(u=new q1("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}HR(f,t)})}function Oc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gf(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Pc(e,n),i!=null&&r.unshift(Oc(e,i,o)),i=Pc(e,t),i!=null&&r.push(Oc(e,i,o))),e=e.return}return r}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sx(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Pc(n,i),l!=null&&s.unshift(Oc(n,l,a))):o||(l=Pc(n,i),l!=null&&s.push(Oc(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var sV=/\r\n?/g,aV=/\u0000|\uFFFD/g;function ax(e){return(typeof e=="string"?e:""+e).replace(sV,`
`).replace(aV,"")}function Sd(e,t,n){if(t=ax(t),ax(e)!==t&&n)throw Error(z(425))}function Kf(){}var jv=null,Uv=null;function Bv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zv=typeof setTimeout=="function"?setTimeout:void 0,lV=typeof clearTimeout=="function"?clearTimeout:void 0,lx=typeof Promise=="function"?Promise:void 0,cV=typeof queueMicrotask=="function"?queueMicrotask:typeof lx<"u"?function(e){return lx.resolve(null).then(e).catch(uV)}:zv;function uV(e){setTimeout(function(){throw e})}function Ym(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),kc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);kc(t)}function Qo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var el=Math.random().toString(36).slice(2),Sr="__reactFiber$"+el,Lc="__reactProps$"+el,ho="__reactContainer$"+el,Hv="__reactEvents$"+el,dV="__reactListeners$"+el,fV="__reactHandles$"+el;function Mi(e){var t=e[Sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ho]||n[Sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cx(e);e!==null;){if(n=e[Sr])return n;e=cx(e)}return t}e=n,n=e.parentNode}return null}function Su(e){return e=e[Sr]||e[ho],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function op(e){return e[Lc]||null}var Wv=[],Js=-1;function _i(e){return{current:e}}function We(e){0>Js||(e.current=Wv[Js],Wv[Js]=null,Js--)}function je(e,t){Js++,Wv[Js]=e.current,e.current=t}var ai={},tn=_i(ai),wn=_i(!1),Yi=ai;function Ia(e,t){var n=e.type.contextTypes;if(!n)return ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _n(e){return e=e.childContextTypes,e!=null}function qf(){We(wn),We(tn)}function ux(e,t,n){if(tn.current!==ai)throw Error(z(168));je(tn,t),je(wn,n)}function GR(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(z(108,XO(e)||"Unknown",o));return rt({},n,r)}function Qf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ai,Yi=tn.current,je(tn,e),je(wn,wn.current),!0}function dx(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=GR(e,t,Yi),r.__reactInternalMemoizedMergedChildContext=e,We(wn),We(tn),je(tn,e)):We(wn),je(wn,n)}var Kr=null,ip=!1,Jm=!1;function KR(e){Kr===null?Kr=[e]:Kr.push(e)}function hV(e){ip=!0,KR(e)}function Ei(){if(!Jm&&Kr!==null){Jm=!0;var e=0,t=Le;try{var n=Kr;for(Le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kr=null,ip=!1}catch(o){throw Kr!==null&&(Kr=Kr.slice(e+1)),yR(J0,Ei),o}finally{Le=t,Jm=!1}}return null}var Zs=[],ea=0,Xf=null,Yf=0,zn=[],Hn=0,Ji=null,Xr=1,Yr="";function Ii(e,t){Zs[ea++]=Yf,Zs[ea++]=Xf,Xf=e,Yf=t}function qR(e,t,n){zn[Hn++]=Xr,zn[Hn++]=Yr,zn[Hn++]=Ji,Ji=e;var r=Xr;e=Yr;var o=32-lr(r)-1;r&=~(1<<o),n+=1;var i=32-lr(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xr=1<<32-lr(t)+o|n<<o|r,Yr=i+e}else Xr=1<<i|n<<o|r,Yr=e}function aw(e){e.return!==null&&(Ii(e,1),qR(e,1,0))}function lw(e){for(;e===Xf;)Xf=Zs[--ea],Zs[ea]=null,Yf=Zs[--ea],Zs[ea]=null;for(;e===Ji;)Ji=zn[--Hn],zn[Hn]=null,Yr=zn[--Hn],zn[Hn]=null,Xr=zn[--Hn],zn[Hn]=null}var Dn=null,Pn=null,Ye=!1,ar=null;function QR(e,t){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dn=e,Pn=Qo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dn=e,Pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ji!==null?{id:Xr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dn=e,Pn=null,!0):!1;default:return!1}}function Gv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kv(e){if(Ye){var t=Pn;if(t){var n=t;if(!fx(e,t)){if(Gv(e))throw Error(z(418));t=Qo(n.nextSibling);var r=Dn;t&&fx(e,t)?QR(r,n):(e.flags=e.flags&-4097|2,Ye=!1,Dn=e)}}else{if(Gv(e))throw Error(z(418));e.flags=e.flags&-4097|2,Ye=!1,Dn=e}}}function hx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dn=e}function Cd(e){if(e!==Dn)return!1;if(!Ye)return hx(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bv(e.type,e.memoizedProps)),t&&(t=Pn)){if(Gv(e))throw XR(),Error(z(418));for(;t;)QR(e,t),t=Qo(t.nextSibling)}if(hx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pn=Qo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pn=null}}else Pn=Dn?Qo(e.stateNode.nextSibling):null;return!0}function XR(){for(var e=Pn;e;)e=Qo(e.nextSibling)}function Pa(){Pn=Dn=null,Ye=!1}function cw(e){ar===null?ar=[e]:ar.push(e)}var pV=So.ReactCurrentBatchConfig;function or(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Jf=_i(null),Zf=null,ta=null,uw=null;function dw(){uw=ta=Zf=null}function fw(e){var t=Jf.current;We(Jf),e._currentValue=t}function qv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ma(e,t){Zf=e,uw=ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yn=!0),e.firstContext=null)}function Qn(e){var t=e._currentValue;if(uw!==e)if(e={context:e,memoizedValue:t,next:null},ta===null){if(Zf===null)throw Error(z(308));ta=e,Zf.dependencies={lanes:0,firstContext:e}}else ta=ta.next=e;return t}var Oi=null;function hw(e){Oi===null?Oi=[e]:Oi.push(e)}function YR(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,hw(t)):(n.next=o.next,o.next=n),t.interleaved=n,po(e,r)}function po(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mo=!1;function pw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,po(e,n)}return o=r.interleaved,o===null?(t.next=t,hw(r)):(t.next=o.next,o.next=t),r.interleaved=t,po(e,n)}function gf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Z0(e,n)}}function px(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eh(e,t,n,r){var o=e.updateQueue;Mo=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;s=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=rt({},f,h);break e;case 2:Mo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(u===null&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);es|=s,e.lanes=s,e.memoizedState=f}}function mx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(z(191,o));o.call(r)}}}var ZR=new YT.Component().refs;function Qv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sp={isMounted:function(e){return(e=e._reactInternals)?ps(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cn(),o=Jo(e),i=ro(r,o);i.payload=t,n!=null&&(i.callback=n),t=Xo(e,i,o),t!==null&&(cr(t,e,o,r),gf(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cn(),o=Jo(e),i=ro(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xo(e,i,o),t!==null&&(cr(t,e,o,r),gf(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cn(),r=Jo(e),o=ro(n,r);o.tag=2,t!=null&&(o.callback=t),t=Xo(e,o,r),t!==null&&(cr(t,e,r,n),gf(t,e,r))}};function gx(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Nc(n,r)||!Nc(o,i):!0}function eI(e,t,n){var r=!1,o=ai,i=t.contextType;return typeof i=="object"&&i!==null?i=Qn(i):(o=_n(t)?Yi:tn.current,r=t.contextTypes,i=(r=r!=null)?Ia(e,o):ai),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function vx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sp.enqueueReplaceState(t,t.state,null)}function Xv(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ZR,pw(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Qn(i):(i=_n(t)?Yi:tn.current,o.context=Ia(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qv(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&sp.enqueueReplaceState(o,o.state,null),eh(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Il(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===ZR&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Td(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yx(e){var t=e._init;return t(e._payload)}function tI(e){function t(v,y){if(e){var E=v.deletions;E===null?(v.deletions=[y],v.flags|=16):E.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function o(v,y){return v=Zo(v,y),v.index=0,v.sibling=null,v}function i(v,y,E){return v.index=E,e?(E=v.alternate,E!==null?(E=E.index,E<y?(v.flags|=2,y):E):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,E,_){return y===null||y.tag!==6?(y=ig(E,v.mode,_),y.return=v,y):(y=o(y,E),y.return=v,y)}function l(v,y,E,_){var b=E.type;return b===Ks?u(v,y,E.props.children,_,E.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===No&&yx(b)===y.type)?(_=o(y,E.props),_.ref=Il(v,y,E),_.return=v,_):(_=xf(E.type,E.key,E.props,null,v.mode,_),_.ref=Il(v,y,E),_.return=v,_)}function c(v,y,E,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=sg(E,v.mode,_),y.return=v,y):(y=o(y,E.children||[]),y.return=v,y)}function u(v,y,E,_,b){return y===null||y.tag!==7?(y=Gi(E,v.mode,_,b),y.return=v,y):(y=o(y,E),y.return=v,y)}function f(v,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ig(""+y,v.mode,E),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case md:return E=xf(y.type,y.key,y.props,null,v.mode,E),E.ref=Il(v,null,y),E.return=v,E;case Gs:return y=sg(y,v.mode,E),y.return=v,y;case No:var _=y._init;return f(v,_(y._payload),E)}if(Wl(y)||bl(y))return y=Gi(y,v.mode,E,null),y.return=v,y;Td(v,y)}return null}function h(v,y,E,_){var b=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return b!==null?null:a(v,y,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case md:return E.key===b?l(v,y,E,_):null;case Gs:return E.key===b?c(v,y,E,_):null;case No:return b=E._init,h(v,y,b(E._payload),_)}if(Wl(E)||bl(E))return b!==null?null:u(v,y,E,_,null);Td(v,E)}return null}function p(v,y,E,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(E)||null,a(y,v,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case md:return v=v.get(_.key===null?E:_.key)||null,l(y,v,_,b);case Gs:return v=v.get(_.key===null?E:_.key)||null,c(y,v,_,b);case No:var S=_._init;return p(v,y,E,S(_._payload),b)}if(Wl(_)||bl(_))return v=v.get(E)||null,u(y,v,_,b,null);Td(y,_)}return null}function g(v,y,E,_){for(var b=null,S=null,C=y,T=y=0,I=null;C!==null&&T<E.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var M=h(v,C,E[T],_);if(M===null){C===null&&(C=I);break}e&&C&&M.alternate===null&&t(v,C),y=i(M,y,T),S===null?b=M:S.sibling=M,S=M,C=I}if(T===E.length)return n(v,C),Ye&&Ii(v,T),b;if(C===null){for(;T<E.length;T++)C=f(v,E[T],_),C!==null&&(y=i(C,y,T),S===null?b=C:S.sibling=C,S=C);return Ye&&Ii(v,T),b}for(C=r(v,C);T<E.length;T++)I=p(C,v,T,E[T],_),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?T:I.key),y=i(I,y,T),S===null?b=I:S.sibling=I,S=I);return e&&C.forEach(function(B){return t(v,B)}),Ye&&Ii(v,T),b}function m(v,y,E,_){var b=bl(E);if(typeof b!="function")throw Error(z(150));if(E=b.call(E),E==null)throw Error(z(151));for(var S=b=null,C=y,T=y=0,I=null,M=E.next();C!==null&&!M.done;T++,M=E.next()){C.index>T?(I=C,C=null):I=C.sibling;var B=h(v,C,M.value,_);if(B===null){C===null&&(C=I);break}e&&C&&B.alternate===null&&t(v,C),y=i(B,y,T),S===null?b=B:S.sibling=B,S=B,C=I}if(M.done)return n(v,C),Ye&&Ii(v,T),b;if(C===null){for(;!M.done;T++,M=E.next())M=f(v,M.value,_),M!==null&&(y=i(M,y,T),S===null?b=M:S.sibling=M,S=M);return Ye&&Ii(v,T),b}for(C=r(v,C);!M.done;T++,M=E.next())M=p(C,v,T,M.value,_),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?T:M.key),y=i(M,y,T),S===null?b=M:S.sibling=M,S=M);return e&&C.forEach(function(j){return t(v,j)}),Ye&&Ii(v,T),b}function w(v,y,E,_){if(typeof E=="object"&&E!==null&&E.type===Ks&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case md:e:{for(var b=E.key,S=y;S!==null;){if(S.key===b){if(b=E.type,b===Ks){if(S.tag===7){n(v,S.sibling),y=o(S,E.props.children),y.return=v,v=y;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===No&&yx(b)===S.type){n(v,S.sibling),y=o(S,E.props),y.ref=Il(v,S,E),y.return=v,v=y;break e}n(v,S);break}else t(v,S);S=S.sibling}E.type===Ks?(y=Gi(E.props.children,v.mode,_,E.key),y.return=v,v=y):(_=xf(E.type,E.key,E.props,null,v.mode,_),_.ref=Il(v,y,E),_.return=v,v=_)}return s(v);case Gs:e:{for(S=E.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(v,y.sibling),y=o(y,E.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=sg(E,v.mode,_),y.return=v,v=y}return s(v);case No:return S=E._init,w(v,y,S(E._payload),_)}if(Wl(E))return g(v,y,E,_);if(bl(E))return m(v,y,E,_);Td(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(v,y.sibling),y=o(y,E),y.return=v,v=y):(n(v,y),y=ig(E,v.mode,_),y.return=v,v=y),s(v)):n(v,y)}return w}var Aa=tI(!0),nI=tI(!1),Cu={},Ar=_i(Cu),Vc=_i(Cu),Fc=_i(Cu);function Li(e){if(e===Cu)throw Error(z(174));return e}function mw(e,t){switch(je(Fc,t),je(Vc,e),je(Ar,Cu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iv(t,e)}We(Ar),je(Ar,t)}function $a(){We(Ar),We(Vc),We(Fc)}function rI(e){Li(Fc.current);var t=Li(Ar.current),n=Iv(t,e.type);t!==n&&(je(Vc,e),je(Ar,n))}function gw(e){Vc.current===e&&(We(Ar),We(Vc))}var Ze=_i(0);function th(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zm=[];function vw(){for(var e=0;e<Zm.length;e++)Zm[e]._workInProgressVersionPrimary=null;Zm.length=0}var vf=So.ReactCurrentDispatcher,eg=So.ReactCurrentBatchConfig,Zi=0,nt=null,St=null,Pt=null,nh=!1,ac=!1,jc=0,mV=0;function zt(){throw Error(z(321))}function yw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pr(e[n],t[n]))return!1;return!0}function ww(e,t,n,r,o,i){if(Zi=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vf.current=e===null||e.memoizedState===null?wV:_V,e=n(r,o),ac){i=0;do{if(ac=!1,jc=0,25<=i)throw Error(z(301));i+=1,Pt=St=null,t.updateQueue=null,vf.current=EV,e=n(r,o)}while(ac)}if(vf.current=rh,t=St!==null&&St.next!==null,Zi=0,Pt=St=nt=null,nh=!1,t)throw Error(z(300));return e}function _w(){var e=jc!==0;return jc=0,e}function xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?nt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Xn(){if(St===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Pt===null?nt.memoizedState:Pt.next;if(t!==null)Pt=t,St=e;else{if(e===null)throw Error(z(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Pt===null?nt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Uc(e,t){return typeof t=="function"?t(e):t}function tg(e){var t=Xn(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=St,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((Zi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,nt.lanes|=u,es|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,pr(r,t.memoizedState)||(yn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,nt.lanes|=i,es|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ng(e){var t=Xn(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);pr(i,t.memoizedState)||(yn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function oI(){}function iI(e,t){var n=nt,r=Xn(),o=t(),i=!pr(r.memoizedState,o);if(i&&(r.memoizedState=o,yn=!0),r=r.queue,Ew(lI.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Bc(9,aI.bind(null,n,r,o,t),void 0,null),At===null)throw Error(z(349));Zi&30||sI(n,t,o)}return o}function sI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function aI(e,t,n,r){t.value=n,t.getSnapshot=r,cI(t)&&uI(e)}function lI(e,t,n){return n(function(){cI(t)&&uI(e)})}function cI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pr(e,n)}catch{return!0}}function uI(e){var t=po(e,1);t!==null&&cr(t,e,1,-1)}function wx(e){var t=xr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:e},t.queue=e,e=e.dispatch=yV.bind(null,nt,e),[t.memoizedState,e]}function Bc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dI(){return Xn().memoizedState}function yf(e,t,n,r){var o=xr();nt.flags|=e,o.memoizedState=Bc(1|t,n,void 0,r===void 0?null:r)}function ap(e,t,n,r){var o=Xn();r=r===void 0?null:r;var i=void 0;if(St!==null){var s=St.memoizedState;if(i=s.destroy,r!==null&&yw(r,s.deps)){o.memoizedState=Bc(t,n,i,r);return}}nt.flags|=e,o.memoizedState=Bc(1|t,n,i,r)}function _x(e,t){return yf(8390656,8,e,t)}function Ew(e,t){return ap(2048,8,e,t)}function fI(e,t){return ap(4,2,e,t)}function hI(e,t){return ap(4,4,e,t)}function pI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mI(e,t,n){return n=n!=null?n.concat([e]):null,ap(4,4,pI.bind(null,t,e),n)}function xw(){}function gI(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vI(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yI(e,t,n){return Zi&21?(pr(n,t)||(n=ER(),nt.lanes|=n,es|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yn=!0),e.memoizedState=n)}function gV(e,t){var n=Le;Le=n!==0&&4>n?n:4,e(!0);var r=eg.transition;eg.transition={};try{e(!1),t()}finally{Le=n,eg.transition=r}}function wI(){return Xn().memoizedState}function vV(e,t,n){var r=Jo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_I(e))EI(t,n);else if(n=YR(e,t,n,r),n!==null){var o=cn();cr(n,e,r,o),xI(n,t,r)}}function yV(e,t,n){var r=Jo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_I(e))EI(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,pr(a,s)){var l=t.interleaved;l===null?(o.next=o,hw(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=YR(e,t,o,r),n!==null&&(o=cn(),cr(n,e,r,o),xI(n,t,r))}}function _I(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function EI(e,t){ac=nh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Z0(e,n)}}var rh={readContext:Qn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},wV={readContext:Qn,useCallback:function(e,t){return xr().memoizedState=[e,t===void 0?null:t],e},useContext:Qn,useEffect:_x,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yf(4194308,4,pI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yf(4194308,4,e,t)},useInsertionEffect:function(e,t){return yf(4,2,e,t)},useMemo:function(e,t){var n=xr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vV.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=xr();return e={current:e},t.memoizedState=e},useState:wx,useDebugValue:xw,useDeferredValue:function(e){return xr().memoizedState=e},useTransition:function(){var e=wx(!1),t=e[0];return e=gV.bind(null,e[1]),xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,o=xr();if(Ye){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),At===null)throw Error(z(349));Zi&30||sI(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,_x(lI.bind(null,r,i,e),[e]),r.flags|=2048,Bc(9,aI.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=xr(),t=At.identifierPrefix;if(Ye){var n=Yr,r=Xr;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mV++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_V={readContext:Qn,useCallback:gI,useContext:Qn,useEffect:Ew,useImperativeHandle:mI,useInsertionEffect:fI,useLayoutEffect:hI,useMemo:vI,useReducer:tg,useRef:dI,useState:function(){return tg(Uc)},useDebugValue:xw,useDeferredValue:function(e){var t=Xn();return yI(t,St.memoizedState,e)},useTransition:function(){var e=tg(Uc)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:oI,useSyncExternalStore:iI,useId:wI,unstable_isNewReconciler:!1},EV={readContext:Qn,useCallback:gI,useContext:Qn,useEffect:Ew,useImperativeHandle:mI,useInsertionEffect:fI,useLayoutEffect:hI,useMemo:vI,useReducer:ng,useRef:dI,useState:function(){return ng(Uc)},useDebugValue:xw,useDeferredValue:function(e){var t=Xn();return St===null?t.memoizedState=e:yI(t,St.memoizedState,e)},useTransition:function(){var e=ng(Uc)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:oI,useSyncExternalStore:iI,useId:wI,unstable_isNewReconciler:!1};function ka(e,t){try{var n="",r=t;do n+=QO(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function rg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xV=typeof WeakMap=="function"?WeakMap:Map;function bI(e,t,n){n=ro(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ih||(ih=!0,ay=r),Yv(e,t)},n}function SI(e,t,n){n=ro(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Yv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yv(e,t),typeof r!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ex(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xV;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=OV.bind(null,e,t,n),t.then(e,e))}function xx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bx(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ro(-1,1),t.tag=2,Xo(n,t,1))),n.lanes|=1),e)}var bV=So.ReactCurrentOwner,yn=!1;function an(e,t,n,r){t.child=e===null?nI(t,null,n,r):Aa(t,e.child,n,r)}function Sx(e,t,n,r,o){n=n.render;var i=t.ref;return ma(t,o),r=ww(e,t,n,r,i,o),n=_w(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mo(e,t,o)):(Ye&&n&&aw(t),t.flags|=1,an(e,t,r,o),t.child)}function Cx(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Aw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,CI(e,t,i,r,o)):(e=xf(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nc,n(s,r)&&e.ref===t.ref)return mo(e,t,o)}return t.flags|=1,e=Zo(i,r),e.ref=t.ref,e.return=t,t.child=e}function CI(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Nc(i,r)&&e.ref===t.ref)if(yn=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(yn=!0);else return t.lanes=e.lanes,mo(e,t,o)}return Jv(e,t,n,r,o)}function TI(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ra,Tn),Tn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(ra,Tn),Tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(ra,Tn),Tn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,je(ra,Tn),Tn|=r;return an(e,t,o,n),t.child}function RI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jv(e,t,n,r,o){var i=_n(n)?Yi:tn.current;return i=Ia(t,i),ma(t,o),n=ww(e,t,n,r,i,o),r=_w(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mo(e,t,o)):(Ye&&r&&aw(t),t.flags|=1,an(e,t,n,o),t.child)}function Tx(e,t,n,r,o){if(_n(n)){var i=!0;Qf(t)}else i=!1;if(ma(t,o),t.stateNode===null)wf(e,t),eI(t,n,r),Xv(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qn(c):(c=_n(n)?Yi:tn.current,c=Ia(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&vx(t,s,r,c),Mo=!1;var h=t.memoizedState;s.state=h,eh(t,r,s,o),l=t.memoizedState,a!==r||h!==l||wn.current||Mo?(typeof u=="function"&&(Qv(t,n,u,r),l=t.memoizedState),(a=Mo||gx(t,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,JR(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:or(t.type,a),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=_n(n)?Yi:tn.current,l=Ia(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&vx(t,s,r,l),Mo=!1,h=t.memoizedState,s.state=h,eh(t,r,s,o);var g=t.memoizedState;a!==f||h!==g||wn.current||Mo?(typeof p=="function"&&(Qv(t,n,p,r),g=t.memoizedState),(c=Mo||gx(t,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Zv(e,t,n,r,i,o)}function Zv(e,t,n,r,o,i){RI(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&dx(t,n,!1),mo(e,t,i);r=t.stateNode,bV.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Aa(t,e.child,null,i),t.child=Aa(t,null,a,i)):an(e,t,a,i),t.memoizedState=r.state,o&&dx(t,n,!0),t.child}function II(e){var t=e.stateNode;t.pendingContext?ux(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ux(e,t.context,!1),mw(e,t.containerInfo)}function Rx(e,t,n,r,o){return Pa(),cw(o),t.flags|=256,an(e,t,n,r),t.child}var ey={dehydrated:null,treeContext:null,retryLane:0};function ty(e){return{baseLanes:e,cachePool:null,transitions:null}}function PI(e,t,n){var r=t.pendingProps,o=Ze.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),je(Ze,o&1),e===null)return Kv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=up(s,r,0,null),e=Gi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ty(n),t.memoizedState=ey,e):bw(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return SV(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Zo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Zo(a,i):(i=Gi(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?ty(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=ey,r}return i=e.child,e=i.sibling,r=Zo(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bw(e,t){return t=up({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rd(e,t,n,r){return r!==null&&cw(r),Aa(t,e.child,null,n),e=bw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SV(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=rg(Error(z(422))),Rd(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=up({mode:"visible",children:r.children},o,0,null),i=Gi(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Aa(t,e.child,null,s),t.child.memoizedState=ty(s),t.memoizedState=ey,i);if(!(t.mode&1))return Rd(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=rg(i,r,void 0),Rd(e,t,s,r)}if(a=(s&e.childLanes)!==0,yn||a){if(r=At,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,po(e,o),cr(r,e,o,-1))}return Pw(),r=rg(Error(z(421))),Rd(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=LV.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Pn=Qo(o.nextSibling),Dn=t,Ye=!0,ar=null,e!==null&&(zn[Hn++]=Xr,zn[Hn++]=Yr,zn[Hn++]=Ji,Xr=e.id,Yr=e.overflow,Ji=t),t=bw(t,r.children),t.flags|=4096,t)}function Ix(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qv(e.return,t,n)}function og(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function AI(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(an(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ix(e,n,t);else if(e.tag===19)Ix(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&th(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),og(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&th(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}og(t,!0,n,null,i);break;case"together":og(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),es|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Zo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CV(e,t,n){switch(t.tag){case 3:II(t),Pa();break;case 5:rI(t);break;case 1:_n(t.type)&&Qf(t);break;case 4:mw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;je(Jf,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?PI(e,t,n):(je(Ze,Ze.current&1),e=mo(e,t,n),e!==null?e.sibling:null);je(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return AI(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),je(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,TI(e,t,n)}return mo(e,t,n)}var $I,ny,kI,DI;$I=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ny=function(){};kI=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Li(Ar.current);var i=null;switch(n){case"input":o=Sv(e,o),r=Sv(e,r),i=[];break;case"select":o=rt({},o,{value:void 0}),r=rt({},r,{value:void 0}),i=[];break;case"textarea":o=Rv(e,o),r=Rv(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kf)}Pv(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};DI=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pl(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TV(e,t,n){var r=t.pendingProps;switch(lw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return _n(t.type)&&qf(),Ht(t),null;case 3:return r=t.stateNode,$a(),We(wn),We(tn),vw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ar!==null&&(uy(ar),ar=null))),ny(e,t),Ht(t),null;case 5:gw(t);var o=Li(Fc.current);if(n=t.type,e!==null&&t.stateNode!=null)kI(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Ht(t),null}if(e=Li(Ar.current),Cd(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Sr]=t,r[Lc]=i,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(o=0;o<Kl.length;o++)Be(Kl[o],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":L1(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":F1(r,i),Be("invalid",r)}Pv(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Sd(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Sd(r.textContent,a,e),o=["children",""+a]):Rc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Be("scroll",r)}switch(n){case"input":gd(r),V1(r,i,!0);break;case"textarea":gd(r),j1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Kf)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sR(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Sr]=t,e[Lc]=r,$I(e,t,!1,!1),t.stateNode=e;e:{switch(s=Av(n,r),n){case"dialog":Be("cancel",e),Be("close",e),o=r;break;case"iframe":case"object":case"embed":Be("load",e),o=r;break;case"video":case"audio":for(o=0;o<Kl.length;o++)Be(Kl[o],e);o=r;break;case"source":Be("error",e),o=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),o=r;break;case"details":Be("toggle",e),o=r;break;case"input":L1(e,r),o=Sv(e,r),Be("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=rt({},r,{value:void 0}),Be("invalid",e);break;case"textarea":F1(e,r),o=Rv(e,r),Be("invalid",e);break;default:o=r}Pv(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?cR(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aR(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ic(e,l):typeof l=="number"&&Ic(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",e):l!=null&&K0(e,i,l,s))}switch(n){case"input":gd(e),V1(e,r,!1);break;case"textarea":gd(e),j1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+si(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?da(e,!!r.multiple,i,!1):r.defaultValue!=null&&da(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)DI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Li(Fc.current),Li(Ar.current),Cd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Sr]=t,(i=r.nodeValue!==n)&&(e=Dn,e!==null))switch(e.tag){case 3:Sd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sd(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=t,t.stateNode=r}return Ht(t),null;case 13:if(We(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&Pn!==null&&t.mode&1&&!(t.flags&128))XR(),Pa(),t.flags|=98560,i=!1;else if(i=Cd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Sr]=t}else Pa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),i=!1}else ar!==null&&(uy(ar),ar=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?Ct===0&&(Ct=3):Pw())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return $a(),ny(e,t),e===null&&Mc(t.stateNode.containerInfo),Ht(t),null;case 10:return fw(t.type._context),Ht(t),null;case 17:return _n(t.type)&&qf(),Ht(t),null;case 19:if(We(Ze),i=t.memoizedState,i===null)return Ht(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Pl(i,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=th(e),s!==null){for(t.flags|=128,Pl(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Ze,Ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&ft()>Da&&(t.flags|=128,r=!0,Pl(i,!1),t.lanes=4194304)}else{if(!r)if(e=th(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ye)return Ht(t),null}else 2*ft()-i.renderingStartTime>Da&&n!==1073741824&&(t.flags|=128,r=!0,Pl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ft(),t.sibling=null,n=Ze.current,je(Ze,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return Iw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function RV(e,t){switch(lw(t),t.tag){case 1:return _n(t.type)&&qf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $a(),We(wn),We(tn),vw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gw(t),null;case 13:if(We(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ze),null;case 4:return $a(),null;case 10:return fw(t.type._context),null;case 22:case 23:return Iw(),null;case 24:return null;default:return null}}var Id=!1,qt=!1,IV=typeof WeakSet=="function"?WeakSet:Set,X=null;function na(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(e,t,r)}else n.current=null}function ry(e,t,n){try{n()}catch(r){st(e,t,r)}}var Px=!1;function PV(e,t){if(jv=Hf,e=LR(),sw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===o&&(a=s),h===i&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uv={focusedElem:e,selectionRange:n},Hf=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:or(t.type,m),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(_){st(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return g=Px,Px=!1,g}function lc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&ry(t,n,i)}o=o.next}while(o!==r)}}function lp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function NI(e){var t=e.alternate;t!==null&&(e.alternate=null,NI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[Lc],delete t[Hv],delete t[dV],delete t[fV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MI(e){return e.tag===5||e.tag===3||e.tag===4}function Ax(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kf));else if(r!==4&&(e=e.child,e!==null))for(iy(e,t,n),e=e.sibling;e!==null;)iy(e,t,n),e=e.sibling}function sy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sy(e,t,n),e=e.sibling;e!==null;)sy(e,t,n),e=e.sibling}var Ot=null,ir=!1;function Ro(e,t,n){for(n=n.child;n!==null;)OI(e,t,n),n=n.sibling}function OI(e,t,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(ep,n)}catch{}switch(n.tag){case 5:qt||na(n,t);case 6:var r=Ot,o=ir;Ot=null,Ro(e,t,n),Ot=r,ir=o,Ot!==null&&(ir?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(ir?(e=Ot,n=n.stateNode,e.nodeType===8?Ym(e.parentNode,n):e.nodeType===1&&Ym(e,n),kc(e)):Ym(Ot,n.stateNode));break;case 4:r=Ot,o=ir,Ot=n.stateNode.containerInfo,ir=!0,Ro(e,t,n),Ot=r,ir=o;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ry(n,t,s),o=o.next}while(o!==r)}Ro(e,t,n);break;case 1:if(!qt&&(na(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,t,a)}Ro(e,t,n);break;case 21:Ro(e,t,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Ro(e,t,n),qt=r):Ro(e,t,n);break;default:Ro(e,t,n)}}function $x(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IV),t.forEach(function(r){var o=VV.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function nr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,ir=!1;break e;case 3:Ot=a.stateNode.containerInfo,ir=!0;break e;case 4:Ot=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(Ot===null)throw Error(z(160));OI(i,s,o),Ot=null,ir=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){st(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LI(t,e),t=t.sibling}function LI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(t,e),Er(e),r&4){try{lc(3,e,e.return),lp(3,e)}catch(m){st(e,e.return,m)}try{lc(5,e,e.return)}catch(m){st(e,e.return,m)}}break;case 1:nr(t,e),Er(e),r&512&&n!==null&&na(n,n.return);break;case 5:if(nr(t,e),Er(e),r&512&&n!==null&&na(n,n.return),e.flags&32){var o=e.stateNode;try{Ic(o,"")}catch(m){st(e,e.return,m)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&oR(o,i),Av(a,s);var c=Av(a,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?cR(o,f):u==="dangerouslySetInnerHTML"?aR(o,f):u==="children"?Ic(o,f):K0(o,u,f,c)}switch(a){case"input":Cv(o,i);break;case"textarea":iR(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?da(o,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?da(o,!!i.multiple,i.defaultValue,!0):da(o,!!i.multiple,i.multiple?[]:"",!1))}o[Lc]=i}catch(m){st(e,e.return,m)}}break;case 6:if(nr(t,e),Er(e),r&4){if(e.stateNode===null)throw Error(z(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(m){st(e,e.return,m)}}break;case 3:if(nr(t,e),Er(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kc(t.containerInfo)}catch(m){st(e,e.return,m)}break;case 4:nr(t,e),Er(e);break;case 13:nr(t,e),Er(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Tw=ft())),r&4&&$x(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(qt=(c=qt)||u,nr(t,e),qt=c):nr(t,e),Er(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(X=e,u=e.child;u!==null;){for(f=X=u;X!==null;){switch(h=X,p=h.child,h.tag){case 0:case 11:case 14:case 15:lc(4,h,h.return);break;case 1:na(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){st(r,n,m)}}break;case 5:na(h,h.return);break;case 22:if(h.memoizedState!==null){Dx(f);continue}}p!==null?(p.return=h,X=p):Dx(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{o=f.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lR("display",s))}catch(m){st(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){st(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nr(t,e),Er(e),r&4&&$x(e);break;case 21:break;default:nr(t,e),Er(e)}}function Er(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(MI(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ic(o,""),r.flags&=-33);var i=Ax(e);sy(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Ax(e);iy(e,a,s);break;default:throw Error(z(161))}}catch(l){st(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AV(e,t,n){X=e,VI(e)}function VI(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var o=X,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Id;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||qt;a=Id;var c=qt;if(Id=s,(qt=l)&&!c)for(X=o;X!==null;)s=X,l=s.child,s.tag===22&&s.memoizedState!==null?Nx(o):l!==null?(l.return=s,X=l):Nx(o);for(;i!==null;)X=i,VI(i),i=i.sibling;X=o,Id=a,qt=c}kx(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,X=i):kx(e)}}function kx(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||lp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:or(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&mx(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mx(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&kc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}qt||t.flags&512&&oy(t)}catch(h){st(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Dx(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Nx(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lp(4,t)}catch(l){st(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){st(t,o,l)}}var i=t.return;try{oy(t)}catch(l){st(t,i,l)}break;case 5:var s=t.return;try{oy(t)}catch(l){st(t,s,l)}}}catch(l){st(t,t.return,l)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var $V=Math.ceil,oh=So.ReactCurrentDispatcher,Sw=So.ReactCurrentOwner,Kn=So.ReactCurrentBatchConfig,Pe=0,At=null,yt=null,jt=0,Tn=0,ra=_i(0),Ct=0,zc=null,es=0,cp=0,Cw=0,cc=null,gn=null,Tw=0,Da=1/0,Wr=null,ih=!1,ay=null,Yo=null,Pd=!1,zo=null,sh=0,uc=0,ly=null,_f=-1,Ef=0;function cn(){return Pe&6?ft():_f!==-1?_f:_f=ft()}function Jo(e){return e.mode&1?Pe&2&&jt!==0?jt&-jt:pV.transition!==null?(Ef===0&&(Ef=ER()),Ef):(e=Le,e!==0||(e=window.event,e=e===void 0?16:IR(e.type)),e):1}function cr(e,t,n,r){if(50<uc)throw uc=0,ly=null,Error(z(185));xu(e,n,r),(!(Pe&2)||e!==At)&&(e===At&&(!(Pe&2)&&(cp|=n),Ct===4&&Vo(e,jt)),En(e,r),n===1&&Pe===0&&!(t.mode&1)&&(Da=ft()+500,ip&&Ei()))}function En(e,t){var n=e.callbackNode;pL(e,t);var r=zf(e,e===At?jt:0);if(r===0)n!==null&&z1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&z1(n),t===1)e.tag===0?hV(Mx.bind(null,e)):KR(Mx.bind(null,e)),cV(function(){!(Pe&6)&&Ei()}),n=null;else{switch(xR(r)){case 1:n=J0;break;case 4:n=wR;break;case 16:n=Bf;break;case 536870912:n=_R;break;default:n=Bf}n=GI(n,FI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function FI(e,t){if(_f=-1,Ef=0,Pe&6)throw Error(z(327));var n=e.callbackNode;if(ga()&&e.callbackNode!==n)return null;var r=zf(e,e===At?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ah(e,r);else{t=r;var o=Pe;Pe|=2;var i=UI();(At!==e||jt!==t)&&(Wr=null,Da=ft()+500,Wi(e,t));do try{NV();break}catch(a){jI(e,a)}while(1);dw(),oh.current=i,Pe=o,yt!==null?t=0:(At=null,jt=0,t=Ct)}if(t!==0){if(t===2&&(o=Mv(e),o!==0&&(r=o,t=cy(e,o))),t===1)throw n=zc,Wi(e,0),Vo(e,r),En(e,ft()),n;if(t===6)Vo(e,r);else{if(o=e.current.alternate,!(r&30)&&!kV(o)&&(t=ah(e,r),t===2&&(i=Mv(e),i!==0&&(r=i,t=cy(e,i))),t===1))throw n=zc,Wi(e,0),Vo(e,r),En(e,ft()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:Pi(e,gn,Wr);break;case 3:if(Vo(e,r),(r&130023424)===r&&(t=Tw+500-ft(),10<t)){if(zf(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){cn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=zv(Pi.bind(null,e,gn,Wr),t);break}Pi(e,gn,Wr);break;case 4:if(Vo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-lr(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$V(r/1960))-r,10<r){e.timeoutHandle=zv(Pi.bind(null,e,gn,Wr),r);break}Pi(e,gn,Wr);break;case 5:Pi(e,gn,Wr);break;default:throw Error(z(329))}}}return En(e,ft()),e.callbackNode===n?FI.bind(null,e):null}function cy(e,t){var n=cc;return e.current.memoizedState.isDehydrated&&(Wi(e,t).flags|=256),e=ah(e,t),e!==2&&(t=gn,gn=n,t!==null&&uy(t)),e}function uy(e){gn===null?gn=e:gn.push.apply(gn,e)}function kV(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!pr(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vo(e,t){for(t&=~Cw,t&=~cp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lr(t),r=1<<n;e[n]=-1,t&=~r}}function Mx(e){if(Pe&6)throw Error(z(327));ga();var t=zf(e,0);if(!(t&1))return En(e,ft()),null;var n=ah(e,t);if(e.tag!==0&&n===2){var r=Mv(e);r!==0&&(t=r,n=cy(e,r))}if(n===1)throw n=zc,Wi(e,0),Vo(e,t),En(e,ft()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pi(e,gn,Wr),En(e,ft()),null}function Rw(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(Da=ft()+500,ip&&Ei())}}function ts(e){zo!==null&&zo.tag===0&&!(Pe&6)&&ga();var t=Pe;Pe|=1;var n=Kn.transition,r=Le;try{if(Kn.transition=null,Le=1,e)return e()}finally{Le=r,Kn.transition=n,Pe=t,!(Pe&6)&&Ei()}}function Iw(){Tn=ra.current,We(ra)}function Wi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lV(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(lw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qf();break;case 3:$a(),We(wn),We(tn),vw();break;case 5:gw(r);break;case 4:$a();break;case 13:We(Ze);break;case 19:We(Ze);break;case 10:fw(r.type._context);break;case 22:case 23:Iw()}n=n.return}if(At=e,yt=e=Zo(e.current,null),jt=Tn=t,Ct=0,zc=null,Cw=cp=es=0,gn=cc=null,Oi!==null){for(t=0;t<Oi.length;t++)if(n=Oi[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Oi=null}return e}function jI(e,t){do{var n=yt;try{if(dw(),vf.current=rh,nh){for(var r=nt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}nh=!1}if(Zi=0,Pt=St=nt=null,ac=!1,jc=0,Sw.current=null,n===null||n.return===null){Ct=1,zc=t,yt=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xx(s);if(p!==null){p.flags&=-257,bx(p,s,a,i,t),p.mode&1&&Ex(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){Ex(i,c,t),Pw();break e}l=Error(z(426))}}else if(Ye&&a.mode&1){var w=xx(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),bx(w,s,a,i,t),cw(ka(l,a));break e}}i=l=ka(l,a),Ct!==4&&(Ct=2),cc===null?cc=[i]:cc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=bI(i,l,t);px(i,v);break e;case 1:a=l;var y=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Yo===null||!Yo.has(E)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=SI(i,a,t);px(i,_);break e}}i=i.return}while(i!==null)}zI(n)}catch(b){t=b,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function UI(){var e=oh.current;return oh.current=rh,e===null?rh:e}function Pw(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),At===null||!(es&268435455)&&!(cp&268435455)||Vo(At,jt)}function ah(e,t){var n=Pe;Pe|=2;var r=UI();(At!==e||jt!==t)&&(Wr=null,Wi(e,t));do try{DV();break}catch(o){jI(e,o)}while(1);if(dw(),Pe=n,oh.current=r,yt!==null)throw Error(z(261));return At=null,jt=0,Ct}function DV(){for(;yt!==null;)BI(yt)}function NV(){for(;yt!==null&&!iL();)BI(yt)}function BI(e){var t=WI(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?zI(e):yt=t,Sw.current=null}function zI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=RV(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,yt=null;return}}else if(n=TV(n,t,Tn),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);Ct===0&&(Ct=5)}function Pi(e,t,n){var r=Le,o=Kn.transition;try{Kn.transition=null,Le=1,MV(e,t,n,r)}finally{Kn.transition=o,Le=r}return null}function MV(e,t,n,r){do ga();while(zo!==null);if(Pe&6)throw Error(z(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(mL(e,i),e===At&&(yt=At=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pd||(Pd=!0,GI(Bf,function(){return ga(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kn.transition,Kn.transition=null;var s=Le;Le=1;var a=Pe;Pe|=4,Sw.current=null,PV(e,n),LI(n,e),tV(Uv),Hf=!!jv,Uv=jv=null,e.current=n,AV(n),sL(),Pe=a,Le=s,Kn.transition=i}else e.current=n;if(Pd&&(Pd=!1,zo=e,sh=o),i=e.pendingLanes,i===0&&(Yo=null),cL(n.stateNode),En(e,ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ih)throw ih=!1,e=ay,ay=null,e;return sh&1&&e.tag!==0&&ga(),i=e.pendingLanes,i&1?e===ly?uc++:(uc=0,ly=e):uc=0,Ei(),null}function ga(){if(zo!==null){var e=xR(sh),t=Kn.transition,n=Le;try{if(Kn.transition=null,Le=16>e?16:e,zo===null)var r=!1;else{if(e=zo,zo=null,sh=0,Pe&6)throw Error(z(331));var o=Pe;for(Pe|=4,X=e.current;X!==null;){var i=X,s=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var u=X;switch(u.tag){case 0:case 11:case 15:lc(8,u,i)}var f=u.child;if(f!==null)f.return=u,X=f;else for(;X!==null;){u=X;var h=u.sibling,p=u.return;if(NI(u),u===c){X=null;break}if(h!==null){h.return=p,X=h;break}X=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}X=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,X=s;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,X=v;break e}X=i.return}}var y=e.current;for(X=y;X!==null;){s=X;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,X=E;else e:for(s=y;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lp(9,a)}}catch(b){st(a,a.return,b)}if(a===s){X=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,X=_;break e}X=a.return}}if(Pe=o,Ei(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(ep,e)}catch{}r=!0}return r}finally{Le=n,Kn.transition=t}}return!1}function Ox(e,t,n){t=ka(n,t),t=bI(e,t,1),e=Xo(e,t,1),t=cn(),e!==null&&(xu(e,1,t),En(e,t))}function st(e,t,n){if(e.tag===3)Ox(e,e,n);else for(;t!==null;){if(t.tag===3){Ox(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yo===null||!Yo.has(r))){e=ka(n,e),e=SI(t,e,1),t=Xo(t,e,1),e=cn(),t!==null&&(xu(t,1,e),En(t,e));break}}t=t.return}}function OV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=cn(),e.pingedLanes|=e.suspendedLanes&n,At===e&&(jt&n)===n&&(Ct===4||Ct===3&&(jt&130023424)===jt&&500>ft()-Tw?Wi(e,0):Cw|=n),En(e,t)}function HI(e,t){t===0&&(e.mode&1?(t=wd,wd<<=1,!(wd&130023424)&&(wd=4194304)):t=1);var n=cn();e=po(e,t),e!==null&&(xu(e,t,n),En(e,n))}function LV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),HI(e,n)}function VV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),HI(e,n)}var WI;WI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wn.current)yn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yn=!1,CV(e,t,n);yn=!!(e.flags&131072)}else yn=!1,Ye&&t.flags&1048576&&qR(t,Yf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wf(e,t),e=t.pendingProps;var o=Ia(t,tn.current);ma(t,n),o=ww(null,t,r,e,o,n);var i=_w();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_n(r)?(i=!0,Qf(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,pw(t),o.updater=sp,t.stateNode=o,o._reactInternals=t,Xv(t,r,e,n),t=Zv(null,t,r,!0,i,n)):(t.tag=0,Ye&&i&&aw(t),an(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wf(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=jV(r),e=or(r,e),o){case 0:t=Jv(null,t,r,e,n);break e;case 1:t=Tx(null,t,r,e,n);break e;case 11:t=Sx(null,t,r,e,n);break e;case 14:t=Cx(null,t,r,or(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:or(r,o),Jv(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:or(r,o),Tx(e,t,r,o,n);case 3:e:{if(II(t),e===null)throw Error(z(387));r=t.pendingProps,i=t.memoizedState,o=i.element,JR(e,t),eh(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=ka(Error(z(423)),t),t=Rx(e,t,r,n,o);break e}else if(r!==o){o=ka(Error(z(424)),t),t=Rx(e,t,r,n,o);break e}else for(Pn=Qo(t.stateNode.containerInfo.firstChild),Dn=t,Ye=!0,ar=null,n=nI(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pa(),r===o){t=mo(e,t,n);break e}an(e,t,r,n)}t=t.child}return t;case 5:return rI(t),e===null&&Kv(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Bv(r,o)?s=null:i!==null&&Bv(r,i)&&(t.flags|=32),RI(e,t),an(e,t,s,n),t.child;case 6:return e===null&&Kv(t),null;case 13:return PI(e,t,n);case 4:return mw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Aa(t,null,r,n):an(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:or(r,o),Sx(e,t,r,o,n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:return an(e,t,t.pendingProps.children,n),t.child;case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,je(Jf,r._currentValue),r._currentValue=s,i!==null)if(pr(i.value,s)){if(i.children===o.children&&!wn.current){t=mo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ro(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),qv(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),qv(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}an(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ma(t,n),o=Qn(o),r=r(o),t.flags|=1,an(e,t,r,n),t.child;case 14:return r=t.type,o=or(r,t.pendingProps),o=or(r.type,o),Cx(e,t,r,o,n);case 15:return CI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:or(r,o),wf(e,t),t.tag=1,_n(r)?(e=!0,Qf(t)):e=!1,ma(t,n),eI(t,r,o),Xv(t,r,o,n),Zv(null,t,r,!0,e,n);case 19:return AI(e,t,n);case 22:return TI(e,t,n)}throw Error(z(156,t.tag))};function GI(e,t){return yR(e,t)}function FV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,n,r){return new FV(e,t,n,r)}function Aw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jV(e){if(typeof e=="function")return Aw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Q0)return 11;if(e===X0)return 14}return 2}function Zo(e,t){var n=e.alternate;return n===null?(n=Gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xf(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Aw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ks:return Gi(n.children,o,i,t);case q0:s=8,o|=8;break;case _v:return e=Gn(12,n,t,o|2),e.elementType=_v,e.lanes=i,e;case Ev:return e=Gn(13,n,t,o),e.elementType=Ev,e.lanes=i,e;case xv:return e=Gn(19,n,t,o),e.elementType=xv,e.lanes=i,e;case tR:return up(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZT:s=10;break e;case eR:s=9;break e;case Q0:s=11;break e;case X0:s=14;break e;case No:s=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Gn(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Gi(e,t,n,r){return e=Gn(7,e,r,t),e.lanes=n,e}function up(e,t,n,r){return e=Gn(22,e,r,t),e.elementType=tR,e.lanes=n,e.stateNode={isHidden:!1},e}function ig(e,t,n){return e=Gn(6,e,null,t),e.lanes=n,e}function sg(e,t,n){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UV(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jm(0),this.expirationTimes=jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $w(e,t,n,r,o,i,s,a,l){return e=new UV(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pw(i),e}function BV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KI(e){if(!e)return ai;e=e._reactInternals;e:{if(ps(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_n(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(_n(n))return GR(e,n,t)}return t}function qI(e,t,n,r,o,i,s,a,l){return e=$w(n,r,!0,e,o,i,s,a,l),e.context=KI(null),n=e.current,r=cn(),o=Jo(n),i=ro(r,o),i.callback=t??null,Xo(n,i,o),e.current.lanes=o,xu(e,o,r),En(e,r),e}function dp(e,t,n,r){var o=t.current,i=cn(),s=Jo(o);return n=KI(n),t.context===null?t.context=n:t.pendingContext=n,t=ro(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xo(o,t,s),e!==null&&(cr(e,o,s,i),gf(e,o,s)),s}function lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kw(e,t){Lx(e,t),(e=e.alternate)&&Lx(e,t)}function zV(){return null}var QI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dw(e){this._internalRoot=e}fp.prototype.render=Dw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));dp(e,t,null,null)};fp.prototype.unmount=Dw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ts(function(){dp(null,e,null,null)}),t[ho]=null}};function fp(e){this._internalRoot=e}fp.prototype.unstable_scheduleHydration=function(e){if(e){var t=CR();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lo.length&&t!==0&&t<Lo[n].priority;n++);Lo.splice(n,0,e),n===0&&RR(e)}};function Nw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vx(){}function HV(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=lh(s);i.call(c)}}var s=qI(t,r,e,0,null,!1,!1,"",Vx);return e._reactRootContainer=s,e[ho]=s.current,Mc(e.nodeType===8?e.parentNode:e),ts(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=lh(l);a.call(c)}}var l=$w(e,0,!1,null,null,!1,!1,"",Vx);return e._reactRootContainer=l,e[ho]=l.current,Mc(e.nodeType===8?e.parentNode:e),ts(function(){dp(t,l,n,r)}),l}function pp(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=lh(s);a.call(l)}}dp(t,s,e,o)}else s=HV(n,t,e,o,r);return lh(s)}bR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gl(t.pendingLanes);n!==0&&(Z0(t,n|1),En(t,ft()),!(Pe&6)&&(Da=ft()+500,Ei()))}break;case 13:ts(function(){var r=po(e,1);if(r!==null){var o=cn();cr(r,e,1,o)}}),kw(e,1)}};ew=function(e){if(e.tag===13){var t=po(e,134217728);if(t!==null){var n=cn();cr(t,e,134217728,n)}kw(e,134217728)}};SR=function(e){if(e.tag===13){var t=Jo(e),n=po(e,t);if(n!==null){var r=cn();cr(n,e,t,r)}kw(e,t)}};CR=function(){return Le};TR=function(e,t){var n=Le;try{return Le=e,t()}finally{Le=n}};kv=function(e,t,n){switch(t){case"input":if(Cv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=op(r);if(!o)throw Error(z(90));rR(r),Cv(r,o)}}}break;case"textarea":iR(e,n);break;case"select":t=n.value,t!=null&&da(e,!!n.multiple,t,!1)}};fR=Rw;hR=ts;var WV={usingClientEntryPoint:!1,Events:[Su,Ys,op,uR,dR,Rw]},Al={findFiberByHostInstance:Mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},GV={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:So.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gR(e),e===null?null:e.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||zV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{ep=Ad.inject(GV),Pr=Ad}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WV;Ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nw(t))throw Error(z(200));return BV(e,t,null,n)};Ln.createRoot=function(e,t){if(!Nw(e))throw Error(z(299));var n=!1,r="",o=QI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=$w(e,1,!1,null,null,n,!1,r,o),e[ho]=t.current,Mc(e.nodeType===8?e.parentNode:e),new Dw(t)};Ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=gR(t),e=e===null?null:e.stateNode,e};Ln.flushSync=function(e){return ts(e)};Ln.hydrate=function(e,t,n){if(!hp(t))throw Error(z(200));return pp(null,e,t,!0,n)};Ln.hydrateRoot=function(e,t,n){if(!Nw(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=QI;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=qI(t,null,e,1,n??null,o,!1,i,s),e[ho]=t.current,Mc(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new fp(t)};Ln.render=function(e,t,n){if(!hp(t))throw Error(z(200));return pp(null,e,t,!1,n)};Ln.unmountComponentAtNode=function(e){if(!hp(e))throw Error(z(40));return e._reactRootContainer?(ts(function(){pp(null,null,e,!1,function(){e._reactRootContainer=null,e[ho]=null})}),!0):!1};Ln.unstable_batchedUpdates=Rw;Ln.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hp(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return pp(e,t,n,!1,r)};Ln.version="18.2.0-next-9e3b772b8-20220608";function XI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XI)}catch(e){console.error(e)}}XI(),qT.exports=Ln;var Vr=qT.exports;const YI=F0(Vr);var Fx=Vr;yv.createRoot=Fx.createRoot,yv.hydrateRoot=Fx.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}var gt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gt||(gt={}));const jx="popstate";function KV(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:s,hash:a}=r.location;return Hc("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ns(o)}return QV(t,n,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Na(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qV(){return Math.random().toString(36).substr(2,8)}function Ux(e,t){return{usr:e.state,key:e.key,idx:t}}function Hc(e,t,n,r){return n===void 0&&(n=null),Xe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Co(t):t,{state:n,key:t&&t.key||r||qV()})}function ns(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Co(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function QV(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=gt.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Xe({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=gt.Pop;let w=u(),v=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:v})}function h(w,v){a=gt.Push;let y=Hc(m.location,w,v);n&&n(y,w),c=u()+1;let E=Ux(y,c),_=m.createHref(y);try{s.pushState(E,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;o.location.assign(_)}i&&l&&l({action:a,location:m.location,delta:1})}function p(w,v){a=gt.Replace;let y=Hc(m.location,w,v);n&&n(y,w),c=u();let E=Ux(y,c),_=m.createHref(y);s.replaceState(E,"",_),i&&l&&l({action:a,location:m.location,delta:0})}function g(w){let v=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof w=="string"?w:ns(w);return Ee(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return a},get location(){return e(o,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(jx,f),l=w,()=>{o.removeEventListener(jx,f),l=null}},createHref(w){return t(o,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return s.go(w)}};return m}var bt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bt||(bt={}));const XV=new Set(["lazy","caseSensitive","path","id","index","children"]);function YV(e){return e.index===!0}function dy(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((o,i)=>{let s=[...n,i],a=typeof o.id=="string"?o.id:s.join("-");if(Ee(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ee(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),YV(o)){let l=Xe({},o,t(o),{id:a});return r[a]=l,l}else{let l=Xe({},o,t(o),{id:a,children:void 0});return r[a]=l,o.children&&(l.children=dy(o.children,t,s,r)),l}})}function oa(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Co(t):t,o=tl(r.pathname||"/",n);if(o==null)return null;let i=JI(e);JV(i);let s=null;for(let a=0;s==null&&a<i.length;++a)s=aF(i[a],uF(o));return s}function JI(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=oo([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),JI(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:iF(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of ZI(i.path))o(i,s,l)}),t}function ZI(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=ZI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function JV(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:sF(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZV=/^:\w+$/,eF=3,tF=2,nF=1,rF=10,oF=-2,Bx=e=>e==="*";function iF(e,t){let n=e.split("/"),r=n.length;return n.some(Bx)&&(r+=oF),t&&(r+=tF),n.filter(o=>!Bx(o)).reduce((o,i)=>o+(ZV.test(i)?eF:i===""?nF:rF),r)}function sF(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function aF(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=o==="/"?t:t.slice(o.length)||"/",u=lF({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let f=a.route;i.push({params:r,pathname:oo([o,u.pathname]),pathnameBase:pF(oo([o,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(o=oo([o,u.pathnameBase]))}return i}function lF(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cF(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,f)=>{if(u==="*"){let h=a[f]||"";s=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=dF(a[f]||"",u),c},{}),pathname:i,pathnameBase:s,pattern:e}}function cF(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Na(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function uF(e){try{return decodeURI(e)}catch(t){return Na(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dF(e,t){try{return decodeURIComponent(e)}catch(n){return Na(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function tl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function fF(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Co(e):e;return{pathname:n?n.startsWith("/")?n:hF(n,t):t,search:mF(r),hash:gF(o)}}function hF(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ag(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mw(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Co(e):(o=Xe({},e),Ee(!o.pathname||!o.pathname.includes("?"),ag("?","pathname","search",o)),Ee(!o.pathname||!o.pathname.includes("#"),ag("#","pathname","hash",o)),Ee(!o.search||!o.search.includes("#"),ag("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,a;if(r||s==null)a=n;else{let f=t.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;o.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=fF(o,a),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const oo=e=>e.join("/").replace(/\/\/+/g,"/"),pF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Ow{constructor(t,n,r,o){o===void 0&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function eP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tP=["post","put","patch","delete"],vF=new Set(tP),yF=["get",...tP],wF=new Set(yF),_F=new Set([301,302,303,307,308]),EF=new Set([307,308]),lg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xF={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$l={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bF=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function SF(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Ee(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let P=e.detectErrorBoundary;o=A=>({hasErrorBoundary:P(A)})}else o=bF;let i={},s=dy(e.routes,o,void 0,i),a,l=e.basename||"/",c=Xe({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),u=null,f=new Set,h=null,p=null,g=null,m=e.hydrationData!=null,w=oa(s,e.history.location,l),v=null;if(w==null){let P=Bn(404,{pathname:e.history.location.pathname}),{matches:A,route:F}=Xx(s);w=A,v={[F.id]:P}}let y=!w.some(P=>P.route.lazy)&&(!w.some(P=>P.route.loader)||e.hydrationData!=null),E,_={historyAction:e.history.action,location:e.history.location,matches:w,initialized:y,navigation:lg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},b=gt.Pop,S=!1,C,T=!1,I=!1,M=[],B=[],j=new Map,q=0,N=-1,U=new Map,W=new Set,Z=new Map,k=new Map,R=new Map,$=!1;function V(){return u=e.history.listen(P=>{let{action:A,location:F,delta:J}=P;if($){$=!1;return}Na(R.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=R1({currentLocation:_.location,nextLocation:F,historyAction:A});if(ve&&J!=null){$=!0,e.history.go(J*-1),ud(ve,{state:"blocked",location:F,proceed(){ud(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),e.history.go(J)},reset(){let he=new Map(_.blockers);he.set(ve,$l),ee({blockers:he})}});return}return ye(A,F)}),_.initialized||ye(gt.Pop,_.location),E}function L(){u&&u(),f.clear(),C&&C.abort(),_.fetchers.forEach((P,A)=>_l(A)),_.blockers.forEach((P,A)=>T1(A))}function se(P){return f.add(P),()=>f.delete(P)}function ee(P){_=Xe({},_,P),f.forEach(A=>A(_))}function Te(P,A){var F,J;let ve=_.actionData!=null&&_.navigation.formMethod!=null&&sr(_.navigation.formMethod)&&_.navigation.state==="loading"&&((F=P.state)==null?void 0:F._isRedirect)!==!0,he;A.actionData?Object.keys(A.actionData).length>0?he=A.actionData:he=null:ve?he=_.actionData:he=null;let me=A.loaderData?Qx(_.loaderData,A.loaderData,A.matches||[],A.errors):_.loaderData,ae=_.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((Fe,ke)=>ae.set(ke,$l)));let re=S===!0||_.navigation.formMethod!=null&&sr(_.navigation.formMethod)&&((J=P.state)==null?void 0:J._isRedirect)!==!0;a&&(s=a,a=void 0),T||b===gt.Pop||(b===gt.Push?e.history.push(P,P.state):b===gt.Replace&&e.history.replace(P,P.state)),ee(Xe({},A,{actionData:he,loaderData:me,historyAction:b,location:P,initialized:!0,navigation:lg,revalidation:"idle",restoreScrollPosition:P1(P,A.matches||_.matches),preventScrollReset:re,blockers:ae})),b=gt.Pop,S=!1,T=!1,I=!1,M=[],B=[]}async function $e(P,A){if(typeof P=="number"){e.history.go(P);return}let F=fy(_.location,_.matches,l,c.v7_prependBasename,P,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:J,submission:ve,error:he}=zx(c.v7_normalizeFormMethod,!1,F,A),me=_.location,ae=Hc(_.location,J,A&&A.state);ae=Xe({},ae,e.history.encodeLocation(ae));let re=A&&A.replace!=null?A.replace:void 0,Fe=gt.Push;re===!0?Fe=gt.Replace:re===!1||ve!=null&&sr(ve.formMethod)&&ve.formAction===_.location.pathname+_.location.search&&(Fe=gt.Replace);let ke=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Cn=R1({currentLocation:me,nextLocation:ae,historyAction:Fe});if(Cn){ud(Cn,{state:"blocked",location:ae,proceed(){ud(Cn,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),$e(P,A)},reset(){let Rt=new Map(_.blockers);Rt.set(Cn,$l),ee({blockers:Rt})}});return}return await ye(Fe,ae,{submission:ve,pendingError:he,preventScrollReset:ke,replace:A&&A.replace})}function te(){if(Br(),ee({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){ye(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}ye(b||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function ye(P,A,F){C&&C.abort(),C=null,b=P,T=(F&&F.startUninterruptedRevalidation)===!0,wO(_.location,_.matches),S=(F&&F.preventScrollReset)===!0;let J=a||s,ve=F&&F.overrideNavigation,he=oa(J,A,l);if(!he){let Rt=Bn(404,{pathname:A.pathname}),{matches:pn,route:_r}=Xx(J);Am(),Te(A,{matches:pn,loaderData:{},errors:{[_r.id]:Rt}});return}if(_.initialized&&!I&&PF(_.location,A)&&!(F&&F.submission&&sr(F.submission.formMethod))){Te(A,{matches:he});return}C=new AbortController;let me=Dl(e.history,A,C.signal,F&&F.submission),ae,re;if(F&&F.pendingError)re={[ia(he).route.id]:F.pendingError};else if(F&&F.submission&&sr(F.submission.formMethod)){let Rt=await Me(me,A,F.submission,he,{replace:F.replace});if(Rt.shortCircuited)return;ae=Rt.pendingActionData,re=Rt.pendingActionError,ve=$d(A,F.submission),me=new Request(me.url,{signal:me.signal})}let{shortCircuited:Fe,loaderData:ke,errors:Cn}=await Se(me,A,he,ve,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,ae,re);Fe||(C=null,Te(A,Xe({matches:he},ae?{actionData:ae}:{},{loaderData:ke,errors:Cn})))}async function Me(P,A,F,J,ve){ve===void 0&&(ve={}),Br();let he=NF(A,F);ee({navigation:he});let me,ae=py(J,A);if(!ae.route.action&&!ae.route.lazy)me={type:bt.error,error:Bn(405,{method:P.method,pathname:A.pathname,routeId:ae.route.id})};else if(me=await kl("action",P,ae,J,i,o,l),P.signal.aborted)return{shortCircuited:!0};if(va(me)){let re;return ve&&ve.replace!=null?re=ve.replace:re=me.location===_.location.pathname+_.location.search,await tr(_,me,{submission:F,replace:re}),{shortCircuited:!0}}if(dc(me)){let re=ia(J,ae.route.id);return(ve&&ve.replace)!==!0&&(b=gt.Push),{pendingActionData:{},pendingActionError:{[re.route.id]:me.error}}}if(Vi(me))throw Bn(400,{type:"defer-action"});return{pendingActionData:{[ae.route.id]:me.data}}}async function Se(P,A,F,J,ve,he,me,ae,re){let Fe=J||$d(A,ve),ke=ve||he||Zx(Fe),Cn=a||s,[Rt,pn]=Hx(e.history,_,F,ke,A,I,M,B,Z,W,Cn,l,ae,re);if(Am(qe=>!(F&&F.some(Fn=>Fn.route.id===qe))||Rt&&Rt.some(Fn=>Fn.route.id===qe)),Rt.length===0&&pn.length===0){let qe=S1();return Te(A,Xe({matches:F,loaderData:{},errors:re||null},ae?{actionData:ae}:{},qe?{fetchers:new Map(_.fetchers)}:{})),{shortCircuited:!0}}if(!T){pn.forEach(Fn=>{let Ns=_.fetchers.get(Fn.key),Mt=Nl(void 0,Ns?Ns.data:void 0);_.fetchers.set(Fn.key,Mt)});let qe=ae||_.actionData;ee(Xe({navigation:Fe},qe?Object.keys(qe).length===0?{actionData:null}:{actionData:qe}:{},pn.length>0?{fetchers:new Map(_.fetchers)}:{}))}N=++q,pn.forEach(qe=>{j.has(qe.key)&&Sn(qe.key),qe.controller&&j.set(qe.key,qe.controller)});let _r=()=>pn.forEach(qe=>Sn(qe.key));C&&C.signal.addEventListener("abort",_r);let{results:El,loaderResults:$m,fetcherResults:dd}=await To(_.matches,F,Rt,pn,P);if(P.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",_r),pn.forEach(qe=>j.delete(qe.key));let zr=Yx(El);if(zr)return await tr(_,zr,{replace:me}),{shortCircuited:!0};let{loaderData:fd,errors:km}=qx(_,F,Rt,$m,re,pn,dd,k);k.forEach((qe,Fn)=>{qe.subscribe(Ns=>{(Ns||qe.done)&&k.delete(Fn)})});let Dm=S1(),Nm=C1(N),hd=Dm||Nm||pn.length>0;return Xe({loaderData:fd,errors:km},hd?{fetchers:new Map(_.fetchers)}:{})}function _e(P){return _.fetchers.get(P)||xF}function Re(P,A,F,J){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(P)&&Sn(P);let ve=a||s,he=fy(_.location,_.matches,l,c.v7_prependBasename,F,A,J==null?void 0:J.relative),me=oa(ve,he,l);if(!me){Ds(P,A,Bn(404,{pathname:he}));return}let{path:ae,submission:re,error:Fe}=zx(c.v7_normalizeFormMethod,!0,he,J);if(Fe){Ds(P,A,Fe);return}let ke=py(me,ae);if(S=(J&&J.preventScrollReset)===!0,re&&sr(re.formMethod)){Tt(P,A,ae,ke,me,re);return}Z.set(P,{routeId:A,path:ae}),Nt(P,A,ae,ke,me,re)}async function Tt(P,A,F,J,ve,he){if(Br(),Z.delete(P),!J.route.action&&!J.route.lazy){let Mt=Bn(405,{method:he.formMethod,pathname:F,routeId:A});Ds(P,A,Mt);return}let me=_.fetchers.get(P),ae=MF(he,me);_.fetchers.set(P,ae),ee({fetchers:new Map(_.fetchers)});let re=new AbortController,Fe=Dl(e.history,F,re.signal,he);j.set(P,re);let ke=await kl("action",Fe,J,ve,i,o,l);if(Fe.signal.aborted){j.get(P)===re&&j.delete(P);return}if(va(ke)){j.delete(P),W.add(P);let Mt=Nl(he);return _.fetchers.set(P,Mt),ee({fetchers:new Map(_.fetchers)}),tr(_,ke,{submission:he,isFetchActionRedirect:!0})}if(dc(ke)){Ds(P,A,ke.error);return}if(Vi(ke))throw Bn(400,{type:"defer-action"});let Cn=_.navigation.location||_.location,Rt=Dl(e.history,Cn,re.signal),pn=a||s,_r=_.navigation.state!=="idle"?oa(pn,_.navigation.location,l):_.matches;Ee(_r,"Didn't find any matches after fetcher action");let El=++q;U.set(P,El);let $m=Nl(he,ke.data);_.fetchers.set(P,$m);let[dd,zr]=Hx(e.history,_,_r,he,Cn,I,M,B,Z,W,pn,l,{[J.route.id]:ke.data},void 0);zr.filter(Mt=>Mt.key!==P).forEach(Mt=>{let xl=Mt.key,A1=_.fetchers.get(xl),EO=Nl(void 0,A1?A1.data:void 0);_.fetchers.set(xl,EO),j.has(xl)&&Sn(xl),Mt.controller&&j.set(xl,Mt.controller)}),ee({fetchers:new Map(_.fetchers)});let fd=()=>zr.forEach(Mt=>Sn(Mt.key));re.signal.addEventListener("abort",fd);let{results:km,loaderResults:Dm,fetcherResults:Nm}=await To(_.matches,_r,dd,zr,Rt);if(re.signal.aborted)return;re.signal.removeEventListener("abort",fd),U.delete(P),j.delete(P),zr.forEach(Mt=>j.delete(Mt.key));let hd=Yx(km);if(hd)return tr(_,hd);let{loaderData:qe,errors:Fn}=qx(_,_.matches,dd,Dm,void 0,zr,Nm,k);if(_.fetchers.has(P)){let Mt=bf(ke.data);_.fetchers.set(P,Mt)}let Ns=C1(El);_.navigation.state==="loading"&&El>N?(Ee(b,"Expected pending action"),C&&C.abort(),Te(_.navigation.location,{matches:_r,loaderData:qe,errors:Fn,fetchers:new Map(_.fetchers)})):(ee(Xe({errors:Fn,loaderData:Qx(_.loaderData,qe,_r,Fn)},Ns||zr.length>0?{fetchers:new Map(_.fetchers)}:{})),I=!1)}async function Nt(P,A,F,J,ve,he){let me=_.fetchers.get(P),ae=Nl(he,me?me.data:void 0);_.fetchers.set(P,ae),ee({fetchers:new Map(_.fetchers)});let re=new AbortController,Fe=Dl(e.history,F,re.signal);j.set(P,re);let ke=await kl("loader",Fe,J,ve,i,o,l);if(Vi(ke)&&(ke=await iP(ke,Fe.signal,!0)||ke),j.get(P)===re&&j.delete(P),Fe.signal.aborted)return;if(va(ke)){W.add(P),await tr(_,ke);return}if(dc(ke)){let Rt=ia(_.matches,A);_.fetchers.delete(P),ee({fetchers:new Map(_.fetchers),errors:{[Rt.route.id]:ke.error}});return}Ee(!Vi(ke),"Unhandled fetcher deferred data");let Cn=bf(ke.data);_.fetchers.set(P,Cn),ee({fetchers:new Map(_.fetchers)})}async function tr(P,A,F){let{submission:J,replace:ve,isFetchActionRedirect:he}=F===void 0?{}:F;A.revalidate&&(I=!0);let me=Hc(P.location,A.location,Xe({_isRedirect:!0},he?{_isFetchActionRedirect:!0}:{}));if(Ee(me,"Expected a location on the redirect navigation"),nP.test(A.location)&&n){let Fe=e.history.createURL(A.location),ke=tl(Fe.pathname,l)==null;if(t.location.origin!==Fe.origin||ke){ve?t.location.replace(A.location):t.location.assign(A.location);return}}C=null;let ae=ve===!0?gt.Replace:gt.Push,re=J||Zx(P.navigation);if(EF.has(A.status)&&re&&sr(re.formMethod))await ye(ae,me,{submission:Xe({},re,{formAction:A.location}),preventScrollReset:S});else if(he)await ye(ae,me,{overrideNavigation:$d(me),fetcherSubmission:re,preventScrollReset:S});else{let Fe=$d(me,re);await ye(ae,me,{overrideNavigation:Fe,preventScrollReset:S})}}async function To(P,A,F,J,ve){let he=await Promise.all([...F.map(re=>kl("loader",ve,re,A,i,o,l)),...J.map(re=>re.matches&&re.match&&re.controller?kl("loader",Dl(e.history,re.path,re.controller.signal),re.match,re.matches,i,o,l):{type:bt.error,error:Bn(404,{pathname:re.path})})]),me=he.slice(0,F.length),ae=he.slice(F.length);return await Promise.all([Jx(P,F,me,me.map(()=>ve.signal),!1,_.loaderData),Jx(P,J.map(re=>re.match),ae,J.map(re=>re.controller?re.controller.signal:null),!0)]),{results:he,loaderResults:me,fetcherResults:ae}}function Br(){I=!0,M.push(...Am()),Z.forEach((P,A)=>{j.has(A)&&(B.push(A),Sn(A))})}function Ds(P,A,F){let J=ia(_.matches,A);_l(P),ee({errors:{[J.route.id]:F},fetchers:new Map(_.fetchers)})}function _l(P){let A=_.fetchers.get(P);j.has(P)&&!(A&&A.state==="loading"&&U.has(P))&&Sn(P),Z.delete(P),U.delete(P),W.delete(P),_.fetchers.delete(P)}function Sn(P){let A=j.get(P);Ee(A,"Expected fetch controller: "+P),A.abort(),j.delete(P)}function b1(P){for(let A of P){let F=_e(A),J=bf(F.data);_.fetchers.set(A,J)}}function S1(){let P=[],A=!1;for(let F of W){let J=_.fetchers.get(F);Ee(J,"Expected fetcher: "+F),J.state==="loading"&&(W.delete(F),P.push(F),A=!0)}return b1(P),A}function C1(P){let A=[];for(let[F,J]of U)if(J<P){let ve=_.fetchers.get(F);Ee(ve,"Expected fetcher: "+F),ve.state==="loading"&&(Sn(F),U.delete(F),A.push(F))}return b1(A),A.length>0}function vO(P,A){let F=_.blockers.get(P)||$l;return R.get(P)!==A&&R.set(P,A),F}function T1(P){_.blockers.delete(P),R.delete(P)}function ud(P,A){let F=_.blockers.get(P)||$l;Ee(F.state==="unblocked"&&A.state==="blocked"||F.state==="blocked"&&A.state==="blocked"||F.state==="blocked"&&A.state==="proceeding"||F.state==="blocked"&&A.state==="unblocked"||F.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+A.state);let J=new Map(_.blockers);J.set(P,A),ee({blockers:J})}function R1(P){let{currentLocation:A,nextLocation:F,historyAction:J}=P;if(R.size===0)return;R.size>1&&Na(!1,"A router only supports one blocker at a time");let ve=Array.from(R.entries()),[he,me]=ve[ve.length-1],ae=_.blockers.get(he);if(!(ae&&ae.state==="proceeding")&&me({currentLocation:A,nextLocation:F,historyAction:J}))return he}function Am(P){let A=[];return k.forEach((F,J)=>{(!P||P(J))&&(F.cancel(),A.push(J),k.delete(J))}),A}function yO(P,A,F){if(h=P,g=A,p=F||null,!m&&_.navigation===lg){m=!0;let J=P1(_.location,_.matches);J!=null&&ee({restoreScrollPosition:J})}return()=>{h=null,g=null,p=null}}function I1(P,A){return p&&p(P,A.map(J=>DF(J,_.loaderData)))||P.key}function wO(P,A){if(h&&g){let F=I1(P,A);h[F]=g()}}function P1(P,A){if(h){let F=I1(P,A),J=h[F];if(typeof J=="number")return J}return null}function _O(P){i={},a=dy(P,o,void 0,i)}return E={get basename(){return l},get state(){return _},get routes(){return s},initialize:V,subscribe:se,enableScrollRestoration:yO,navigate:$e,fetch:Re,revalidate:te,createHref:P=>e.history.createHref(P),encodeLocation:P=>e.history.encodeLocation(P),getFetcher:_e,deleteFetcher:_l,dispose:L,getBlocker:vO,deleteBlocker:T1,_internalFetchControllers:j,_internalActiveDeferreds:k,_internalSetRoutes:_O},E}function CF(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function fy(e,t,n,r,o,i,s){let a,l;if(i!=null&&s!=="path"){a=[];for(let u of t)if(a.push(u),u.route.id===i){l=u;break}}else a=t,l=t[t.length-1];let c=Mw(o||".",mp(a).map(u=>u.pathnameBase),tl(e.pathname,n)||e.pathname,s==="path");return o==null&&(c.search=e.search,c.hash=e.hash),(o==null||o===""||o===".")&&l&&l.route.index&&!Lw(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:oo([n,c.pathname])),ns(c)}function zx(e,t,n,r){if(!r||!CF(r))return{path:n};if(r.formMethod&&!kF(r.formMethod))return{path:n,error:Bn(405,{method:r.formMethod})};let o=()=>({path:n,error:Bn(400,{type:"invalid-body"})}),i=r.formMethod||"get",s=e?i.toUpperCase():i.toLowerCase(),a=oP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!sr(s))return o();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[m,w]=g;return""+p+m+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!sr(s))return o();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return o()}}}Ee(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=hy(r.formData),c=r.formData;else if(r.body instanceof FormData)l=hy(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Kx(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Kx(l)}catch{return o()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(sr(u.formMethod))return{path:n,submission:u};let f=Co(n);return t&&f.search&&Lw(f.search)&&l.append("index",""),f.search="?"+l,{path:ns(f),submission:u}}function TF(e,t){let n=e;if(t){let r=e.findIndex(o=>o.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Hx(e,t,n,r,o,i,s,a,l,c,u,f,h,p){let g=p?Object.values(p)[0]:h?Object.values(h)[0]:void 0,m=e.createURL(t.location),w=e.createURL(o),v=p?Object.keys(p)[0]:void 0,E=TF(n,v).filter((b,S)=>{if(b.route.lazy)return!0;if(b.route.loader==null)return!1;if(RF(t.loaderData,t.matches[S],b)||s.some(I=>I===b.route.id))return!0;let C=t.matches[S],T=b;return Wx(b,Xe({currentUrl:m,currentParams:C.params,nextUrl:w,nextParams:T.params},r,{actionResult:g,defaultShouldRevalidate:i||m.pathname+m.search===w.pathname+w.search||m.search!==w.search||rP(C,T)}))}),_=[];return l.forEach((b,S)=>{if(!n.some(j=>j.route.id===b.routeId))return;let C=oa(u,b.path,f);if(!C){_.push({key:S,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let T=t.fetchers.get(S),I=T&&T.state!=="idle"&&T.data===void 0&&!c.has(S),M=py(C,b.path);(a.includes(S)||I||Wx(M,Xe({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:i})))&&_.push({key:S,routeId:b.routeId,path:b.path,matches:C,match:M,controller:new AbortController})}),[E,_]}function RF(e,t,n){let r=!t||n.route.id!==t.route.id,o=e[n.route.id]===void 0;return r||o}function rP(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Wx(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Gx(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let o=n[e.id];Ee(o,"No route found in manifest");let i={};for(let s in r){let l=o[s]!==void 0&&s!=="hasErrorBoundary";Na(!l,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!XV.has(s)&&(i[s]=r[s])}Object.assign(o,i),Object.assign(o,Xe({},t(o),{lazy:void 0}))}async function kl(e,t,n,r,o,i,s,a){a===void 0&&(a={});let l,c,u,f=g=>{let m,w=new Promise((v,y)=>m=y);return u=()=>m(),t.signal.addEventListener("abort",u),Promise.race([g({request:t,params:n.params,context:a.requestContext}),w])};try{let g=n.route[e];if(n.route.lazy)if(g)c=(await Promise.all([f(g),Gx(n.route,i,o)]))[0];else if(await Gx(n.route,i,o),g=n.route[e],g)c=await f(g);else if(e==="action"){let m=new URL(t.url),w=m.pathname+m.search;throw Bn(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:bt.data,data:void 0};else if(g)c=await f(g);else{let m=new URL(t.url),w=m.pathname+m.search;throw Bn(404,{pathname:w})}Ee(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){l=bt.error,c=g}finally{u&&t.signal.removeEventListener("abort",u)}if($F(c)){let g=c.status;if(_F.has(g)){let v=c.headers.get("Location");if(Ee(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!nP.test(v))v=fy(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,v);else if(!a.isStaticRequest){let y=new URL(t.url),E=v.startsWith("//")?new URL(y.protocol+v):new URL(v),_=tl(E.pathname,s)!=null;E.origin===y.origin&&_&&(v=E.pathname+E.search+E.hash)}if(a.isStaticRequest)throw c.headers.set("Location",v),c;return{type:bt.redirect,status:g,location:v,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||bt.data,response:c};let m,w=c.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?m=await c.json():m=await c.text(),l===bt.error?{type:l,error:new Ow(g,c.statusText,m),headers:c.headers}:{type:bt.data,data:m,statusCode:c.status,headers:c.headers}}if(l===bt.error)return{type:l,error:c};if(AF(c)){var h,p;return{type:bt.deferred,deferredData:c,statusCode:(h=c.init)==null?void 0:h.status,headers:((p=c.init)==null?void 0:p.headers)&&new Headers(c.init.headers)}}return{type:bt.data,data:c}}function Dl(e,t,n,r){let o=e.createURL(oP(t)).toString(),i={signal:n};if(r&&sr(r.formMethod)){let{formMethod:s,formEncType:a}=r;i.method=s.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=hy(r.formData):i.body=r.formData}return new Request(o,i)}function hy(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Kx(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function IF(e,t,n,r,o){let i={},s=null,a,l=!1,c={};return n.forEach((u,f)=>{let h=t[f].route.id;if(Ee(!va(u),"Cannot handle redirect results in processLoaderData"),dc(u)){let p=ia(e,h),g=u.error;r&&(g=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=g),i[h]=void 0,l||(l=!0,a=eP(u.error)?u.error.status:500),u.headers&&(c[h]=u.headers)}else Vi(u)?(o.set(h,u.deferredData),i[h]=u.deferredData.data):i[h]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[h]=u.headers)}),r&&(s=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:c}}function qx(e,t,n,r,o,i,s,a){let{loaderData:l,errors:c}=IF(t,n,r,o,a);for(let u=0;u<i.length;u++){let{key:f,match:h,controller:p}=i[u];Ee(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let g=s[u];if(!(p&&p.signal.aborted))if(dc(g)){let m=ia(e.matches,h==null?void 0:h.route.id);c&&c[m.route.id]||(c=Xe({},c,{[m.route.id]:g.error})),e.fetchers.delete(f)}else if(va(g))Ee(!1,"Unhandled fetcher revalidation redirect");else if(Vi(g))Ee(!1,"Unhandled fetcher deferred data");else{let m=bf(g.data);e.fetchers.set(f,m)}}return{loaderData:l,errors:c}}function Qx(e,t,n,r){let o=Xe({},t);for(let i of n){let s=i.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(o[s]=t[s]):e[s]!==void 0&&i.route.loader&&(o[s]=e[s]),r&&r.hasOwnProperty(s))break}return o}function ia(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Xx(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Bn(e,t){let{pathname:n,routeId:r,method:o,type:i}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",o&&n&&r?a="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?a="defer() is not supported in actions":i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",o&&n&&r?a="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(a='Invalid request method "'+o.toUpperCase()+'"')),new Ow(e||500,s,new Error(a),!0)}function Yx(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(va(n))return n}}function oP(e){let t=typeof e=="string"?Co(e):e;return ns(Xe({},t,{hash:""}))}function PF(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Vi(e){return e.type===bt.deferred}function dc(e){return e.type===bt.error}function va(e){return(e&&e.type)===bt.redirect}function AF(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function $F(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function kF(e){return wF.has(e.toLowerCase())}function sr(e){return vF.has(e.toLowerCase())}async function Jx(e,t,n,r,o,i){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let c=e.find(f=>f.route.id===l.route.id),u=c!=null&&!rP(c,l)&&(i&&i[l.route.id])!==void 0;if(Vi(a)&&(o||u)){let f=r[s];Ee(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await iP(a,f,o).then(h=>{h&&(n[s]=h||n[s])})}}}async function iP(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:bt.data,data:e.deferredData.unwrappedData}}catch(o){return{type:bt.error,error:o}}return{type:bt.data,data:e.deferredData.data}}}function Lw(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function DF(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function py(e,t){let n=typeof t=="string"?Co(t).search:t.search;if(e[e.length-1].route.index&&Lw(n||""))return e[e.length-1];let r=mp(e);return r[r.length-1]}function Zx(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:s}=e;if(!(!t||!n||!r)){if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function $d(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function NF(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Nl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function MF(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function bf(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ch.apply(this,arguments)}const gp=d.createContext(null),Vw=d.createContext(null),ms=d.createContext(null),vp=d.createContext(null),xi=d.createContext({outlet:null,matches:[],isDataRoute:!1}),sP=d.createContext(null);function OF(e,t){let{relative:n}=t===void 0?{}:t;Tu()||Ee(!1);let{basename:r,navigator:o}=d.useContext(ms),{hash:i,pathname:s,search:a}=Fw(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:oo([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Tu(){return d.useContext(vp)!=null}function Fr(){return Tu()||Ee(!1),d.useContext(vp).location}function aP(e){d.useContext(ms).static||d.useLayoutEffect(e)}function nl(){let{isDataRoute:e}=d.useContext(xi);return e?XF():LF()}function LF(){Tu()||Ee(!1);let e=d.useContext(gp),{basename:t,navigator:n}=d.useContext(ms),{matches:r}=d.useContext(xi),{pathname:o}=Fr(),i=JSON.stringify(mp(r).map(l=>l.pathnameBase)),s=d.useRef(!1);return aP(()=>{s.current=!0}),d.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=Mw(l,JSON.parse(i),o,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:oo([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,i,o,e])}const VF=d.createContext(null);function FF(e){let t=d.useContext(xi).outlet;return t&&d.createElement(VF.Provider,{value:e},t)}function Fw(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=d.useContext(xi),{pathname:o}=Fr(),i=JSON.stringify(mp(r).map(s=>s.pathnameBase));return d.useMemo(()=>Mw(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function jF(e,t,n){Tu()||Ee(!1);let{navigator:r}=d.useContext(ms),{matches:o}=d.useContext(xi),i=o[o.length-1],s=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Fr(),c;if(t){var u;let m=typeof t=="string"?Co(t):t;a==="/"||(u=m.pathname)!=null&&u.startsWith(a)||Ee(!1),c=m}else c=l;let f=c.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",p=oa(e,{pathname:h}),g=WF(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:oo([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:oo([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n);return t&&g?d.createElement(vp.Provider,{value:{location:ch({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:gt.Pop}},g):g}function UF(){let e=QF(),t=eP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:o},n):null,i)}const BF=d.createElement(UF,null);class zF extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?d.createElement(xi.Provider,{value:this.props.routeContext},d.createElement(sP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HF(e){let{routeContext:t,match:n,children:r}=e,o=d.useContext(gp);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(xi.Provider,{value:t},r)}function WF(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let i=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=i.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||Ee(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let u=l.route.id?s==null?void 0:s[l.route.id]:null,f=null;n&&(f=l.route.errorElement||BF);let h=t.concat(i.slice(0,c+1)),p=()=>{let g;return u?g=f:l.route.Component?g=d.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,d.createElement(HF,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?d.createElement(zF,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var my;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(my||(my={}));var Wc;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Wc||(Wc={}));function GF(e){let t=d.useContext(gp);return t||Ee(!1),t}function KF(e){let t=d.useContext(Vw);return t||Ee(!1),t}function qF(e){let t=d.useContext(xi);return t||Ee(!1),t}function lP(e){let t=qF(),n=t.matches[t.matches.length-1];return n.route.id||Ee(!1),n.route.id}function QF(){var e;let t=d.useContext(sP),n=KF(Wc.UseRouteError),r=lP(Wc.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function XF(){let{router:e}=GF(my.UseNavigateStable),t=lP(Wc.UseNavigateStable),n=d.useRef(!1);return aP(()=>{n.current=!0}),d.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,ch({fromRouteId:t},i)))},[e,t])}const YF="startTransition",eb=H0[YF];function JF(e){let{fallbackElement:t,router:n,future:r}=e,[o,i]=d.useState(n.state),{v7_startTransition:s}=r||{},a=d.useCallback(f=>{s&&eb?eb(()=>i(f)):i(f)},[i,s]);d.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=d.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:f=>n.navigate(f),push:(f,h,p)=>n.navigate(f,{state:h,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(f,h,p)=>n.navigate(f,{replace:!0,state:h,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[n]),c=n.basename||"/",u=d.useMemo(()=>({router:n,navigator:l,static:!1,basename:c}),[n,l,c]);return d.createElement(d.Fragment,null,d.createElement(gp.Provider,{value:u},d.createElement(Vw.Provider,{value:o},d.createElement(t4,{basename:c,location:o.location,navigationType:o.historyAction,navigator:l},o.initialized?d.createElement(ZF,{routes:n.routes,state:o}):t))),null)}function ZF(e){let{routes:t,state:n}=e;return jF(t,void 0,n)}function e4(e){return FF(e.context)}function t4(e){let{basename:t="/",children:n=null,location:r,navigationType:o=gt.Pop,navigator:i,static:s=!1}=e;Tu()&&Ee(!1);let a=t.replace(/^\/*/,"/"),l=d.useMemo(()=>({basename:a,navigator:i,static:s}),[a,i,s]);typeof r=="string"&&(r=Co(r));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:p="default"}=r,g=d.useMemo(()=>{let m=tl(c,a);return m==null?null:{location:{pathname:m,search:u,hash:f,state:h,key:p},navigationType:o}},[a,c,u,f,h,p,o]);return g==null?null:d.createElement(ms.Provider,{value:l},d.createElement(vp.Provider,{children:n,value:g}))}var tb;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(tb||(tb={}));new Promise(()=>{});function n4(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:d.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:d.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ma.apply(this,arguments)}function cP(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function r4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function o4(e,t){return e.button===0&&(!t||t==="_self")&&!r4(e)}const i4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],s4=["aria-current","caseSensitive","className","end","style","to","children"];function a4(e,t){return SF({basename:t==null?void 0:t.basename,future:Ma({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:KV({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||l4(),routes:e,mapRouteProperties:n4}).initialize()}function l4(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ma({},t,{errors:c4(t.errors)})),t}function c4(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,o]of t)if(o&&o.__type==="RouteErrorResponse")n[r]=new Ow(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){let i=new Error(o.message);i.stack="",n[r]=i}else n[r]=o;return n}const u4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yp=d.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:u}=t,f=cP(t,i4),{basename:h}=d.useContext(ms),p,g=!1;if(typeof c=="string"&&d4.test(c)&&(p=c,u4))try{let y=new URL(window.location.href),E=c.startsWith("//")?new URL(y.protocol+c):new URL(c),_=tl(E.pathname,h);E.origin===y.origin&&_!=null?c=_+E.search+E.hash:g=!0}catch{}let m=OF(c,{relative:o}),w=f4(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:o});function v(y){r&&r(y),y.defaultPrevented||w(y)}return d.createElement("a",Ma({},f,{href:p||m,onClick:g||i?r:v,ref:n,target:l}))}),uP=d.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:s=!1,style:a,to:l,children:c}=t,u=cP(t,s4),f=Fw(l,{relative:u.relative}),h=Fr(),p=d.useContext(Vw),{navigator:g}=d.useContext(ms),m=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=h.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;o||(w=w.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase());let y=w===m||!s&&w.startsWith(m)&&w.charAt(m.length)==="/",E=v!=null&&(v===m||!s&&v.startsWith(m)&&v.charAt(m.length)==="/"),_=y?r:void 0,b;typeof i=="function"?b=i({isActive:y,isPending:E}):b=[i,y?"active":null,E?"pending":null].filter(Boolean).join(" ");let S=typeof a=="function"?a({isActive:y,isPending:E}):a;return d.createElement(yp,Ma({},u,{"aria-current":_,className:b,ref:n,style:S,to:l}),typeof c=="function"?c({isActive:y,isPending:E}):c)});var nb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(nb||(nb={}));var rb;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rb||(rb={}));function f4(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s}=t===void 0?{}:t,a=nl(),l=Fr(),c=Fw(e,{relative:s});return d.useCallback(u=>{if(o4(u,n)){u.preventDefault();let f=r!==void 0?r:ns(l)===ns(c);a(e,{replace:f,state:o,preventScrollReset:i,relative:s})}},[l,a,c,r,o,n,e,i,s])}var Un=(e=>(e.OPEN="open",e.CLOSE="close",e))(Un||{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},h4=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=e[n++],s=e[n++],a=e[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return t.join("")},fP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const i=e[o],s=o+1<e.length,a=s?e[o+1]:0,l=o+2<e.length,c=l?e[o+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dP(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):h4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0;++o;const c=o<e.length?n[e.charAt(o)]:64;++o;const f=o<e.length?n[e.charAt(o)]:64;if(++o,i==null||a==null||c==null||f==null)throw new p4;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class p4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m4=function(e){const t=dP(e);return fP.encodeByteArray(t,!0)},uh=function(e){return m4(e).replace(/\./g,"")},hP=function(e){try{return fP.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=()=>g4().__FIREBASE_DEFAULTS__,y4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},w4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hP(e[1]);return t&&JSON.parse(t)},wp=()=>{try{return v4()||y4()||w4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},pP=e=>{var t,n;return(n=(t=wp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},mP=e=>{const t=pP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},gP=()=>{var e;return(e=wp())===null||e===void 0?void 0:e.config},vP=e=>{var t;return(t=wp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[uh(JSON.stringify(n)),uh(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function x4(){var e;const t=(e=wp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b4(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function S4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C4(){const e=nn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T4(){try{return typeof indexedDB=="object"}catch{return!1}}function R4(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;t(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="FirebaseError";class jr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=I4,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,i=this.errors[t],s=i?P4(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new jr(o,a,r)}}function P4(e,t){return e.replace(A4,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const A4=/\{\$([^}]+)}/g;function $4(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function dh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const i=e[o],s=t[o];if(ob(i)&&ob(s)){if(!dh(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function ob(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ql(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,i]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(i)}}),t}function Ql(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function k4(e,t){const n=new D4(e,t);return n.subscribe.bind(n)}class D4{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");N4(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=cg),o.error===void 0&&(o.error=cg),o.complete===void 0&&(o.complete=cg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N4(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(e){return e&&e._delegate?e._delegate:e}class li{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new _4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(L4(t))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(t=Ai){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ai){return this.instances.has(t)}getOptions(t=Ai){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(t,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&t(s,o),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O4(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ai){return this.component?this.component.multipleInstances?t:Ai:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O4(e){return e===Ai?void 0:e}function L4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new M4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ne||(Ne={}));const F4={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},j4=Ne.INFO,U4={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},B4=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=U4[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jw{constructor(t){this.name=t,this._logLevel=j4,this._logHandler=B4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?F4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...t),this._logHandler(this,Ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...t),this._logHandler(this,Ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...t),this._logHandler(this,Ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...t),this._logHandler(this,Ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...t),this._logHandler(this,Ne.ERROR,...t)}}const z4=(e,t)=>t.some(n=>e instanceof n);let ib,sb;function H4(){return ib||(ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W4(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wP=new WeakMap,gy=new WeakMap,_P=new WeakMap,ug=new WeakMap,Uw=new WeakMap;function G4(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{n(ei(e.result)),o()},s=()=>{r(e.error),o()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&wP.set(n,e)}).catch(()=>{}),Uw.set(t,e),t}function K4(e){if(gy.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});gy.set(e,t)}let vy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return gy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_P.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function q4(e){vy=e(vy)}function Q4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(dg(this),t,...n);return _P.set(r,t.sort?t.sort():[t]),ei(r)}:W4().includes(e)?function(...t){return e.apply(dg(this),t),ei(wP.get(this))}:function(...t){return ei(e.apply(dg(this),t))}}function X4(e){return typeof e=="function"?Q4(e):(e instanceof IDBTransaction&&K4(e),z4(e,H4())?new Proxy(e,vy):e)}function ei(e){if(e instanceof IDBRequest)return G4(e);if(ug.has(e))return ug.get(e);const t=X4(e);return t!==e&&(ug.set(e,t),Uw.set(t,e)),t}const dg=e=>Uw.get(e);function Y4(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(e,t),a=ei(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ei(s.result),l.oldVersion,l.newVersion,ei(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const J4=["get","getKey","getAll","getAllKeys","count"],Z4=["put","add","delete","clear"],fg=new Map;function ab(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fg.get(t))return fg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Z4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||J4.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return fg.set(t,i),i}q4(e=>({...e,get:(t,n,r)=>ab(t,n)||e.get(t,n,r),has:(t,n)=>!!ab(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function t3(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yy="@firebase/app",lb="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new jw("@firebase/app"),n3="@firebase/app-compat",r3="@firebase/analytics-compat",o3="@firebase/analytics",i3="@firebase/app-check-compat",s3="@firebase/app-check",a3="@firebase/auth",l3="@firebase/auth-compat",c3="@firebase/database",u3="@firebase/database-compat",d3="@firebase/functions",f3="@firebase/functions-compat",h3="@firebase/installations",p3="@firebase/installations-compat",m3="@firebase/messaging",g3="@firebase/messaging-compat",v3="@firebase/performance",y3="@firebase/performance-compat",w3="@firebase/remote-config",_3="@firebase/remote-config-compat",E3="@firebase/storage",x3="@firebase/storage-compat",b3="@firebase/firestore",S3="@firebase/firestore-compat",C3="firebase",T3="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="[DEFAULT]",R3={[yy]:"fire-core",[n3]:"fire-core-compat",[o3]:"fire-analytics",[r3]:"fire-analytics-compat",[s3]:"fire-app-check",[i3]:"fire-app-check-compat",[a3]:"fire-auth",[l3]:"fire-auth-compat",[c3]:"fire-rtdb",[u3]:"fire-rtdb-compat",[d3]:"fire-fn",[f3]:"fire-fn-compat",[h3]:"fire-iid",[p3]:"fire-iid-compat",[m3]:"fire-fcm",[g3]:"fire-fcm-compat",[v3]:"fire-perf",[y3]:"fire-perf-compat",[w3]:"fire-rc",[_3]:"fire-rc-compat",[E3]:"fire-gcs",[x3]:"fire-gcs-compat",[b3]:"fire-fst",[S3]:"fire-fst-compat","fire-js":"fire-js",[C3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,_y=new Map;function I3(e,t){try{e.container.addComponent(t)}catch(n){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function os(e){const t=e.name;if(_y.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;_y.set(t,e);for(const n of fh.values())I3(n,e);return!0}function _p(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ti=new Ru("app","Firebase",P3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=T3;function EP(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:wy,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw ti.create("bad-app-name",{appName:String(o)});if(n||(n=gP()),!n)throw ti.create("no-options");const i=fh.get(o);if(i){if(dh(n,i.options)&&dh(r,i.config))return i;throw ti.create("duplicate-app",{appName:o})}const s=new V4(o);for(const l of _y.values())s.addComponent(l);const a=new A3(n,r,s);return fh.set(o,a),a}function Bw(e=wy){const t=fh.get(e);if(!t&&e===wy&&gP())return EP();if(!t)throw ti.create("no-app",{appName:e});return t}function $r(e,t,n){var r;let o=(r=R3[e])!==null&&r!==void 0?r:e;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${t}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(a.join(" "));return}os(new li(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="firebase-heartbeat-database",k3=1,Gc="firebase-heartbeat-store";let hg=null;function xP(){return hg||(hg=Y4($3,k3,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Gc)}}}).catch(e=>{throw ti.create("idb-open",{originalErrorMessage:e.message})})),hg}async function D3(e){try{return await(await xP()).transaction(Gc).objectStore(Gc).get(bP(e))}catch(t){if(t instanceof jr)rs.warn(t.message);else{const n=ti.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});rs.warn(n.message)}}}async function cb(e,t){try{const r=(await xP()).transaction(Gc,"readwrite");await r.objectStore(Gc).put(t,bP(e)),await r.done}catch(n){if(n instanceof jr)rs.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function bP(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=1024,M3=30*24*60*60*1e3;class O3{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ub();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const i=new Date(o.date).valueOf();return Date.now()-i<=M3}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ub(),{heartbeatsToSend:n,unsentEntries:r}=L3(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function ub(){return new Date().toISOString().substring(0,10)}function L3(e,t=N3){const n=[];let r=e.slice();for(const o of e){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),db(n)>t){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),db(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T4()?R4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await D3(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return cb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return cb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function db(e){return uh(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(e){os(new li("platform-logger",t=>new e3(t),"PRIVATE")),os(new li("heartbeat",t=>new O3(t),"PRIVATE")),$r(yy,lb,e),$r(yy,lb,"esm2017"),$r("fire-js","")}F3("");var j3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,zw=zw||{},pe=j3||self;function Ep(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Pu(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function U3(e){return Object.prototype.hasOwnProperty.call(e,pg)&&e[pg]||(e[pg]=++B3)}var pg="closure_uid_"+(1e9*Math.random()>>>0),B3=0;function z3(e,t,n){return e.call.apply(e.bind,arguments)}function H3(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Jt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jt=z3:Jt=H3,Jt.apply(null,arguments)}function kd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function kt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,o,i){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[o].apply(r,s)}}function bi(){this.s=this.s,this.o=this.o}var W3=0;bi.prototype.s=!1;bi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),W3!=0)&&U3(this)};bi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SP=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Hw(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function fb(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ep(r)){const o=e.length||0,i=r.length||0;e.length=o+i;for(let s=0;s<i;s++)e[o+s]=r[s]}else e.push(r)}}function Zt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var G3=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pe.addEventListener("test",()=>{},t),pe.removeEventListener("test",()=>{},t)}catch{}return e}();function Kc(e){return/^[\s\xa0]*$/.test(e)}function xp(){var e=pe.navigator;return e&&(e=e.userAgent)?e:""}function Cr(e){return xp().indexOf(e)!=-1}function Ww(e){return Ww[" "](e),e}Ww[" "]=function(){};function K3(e,t){var n=F6;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var q3=Cr("Opera"),Oa=Cr("Trident")||Cr("MSIE"),CP=Cr("Edge"),Ey=CP||Oa,TP=Cr("Gecko")&&!(xp().toLowerCase().indexOf("webkit")!=-1&&!Cr("Edge"))&&!(Cr("Trident")||Cr("MSIE"))&&!Cr("Edge"),Q3=xp().toLowerCase().indexOf("webkit")!=-1&&!Cr("Edge");function RP(){var e=pe.document;return e?e.documentMode:void 0}var xy;e:{var mg="",gg=function(){var e=xp();if(TP)return/rv:([^\);]+)(\)|;)/.exec(e);if(CP)return/Edge\/([\d\.]+)/.exec(e);if(Oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Q3)return/WebKit\/(\S+)/.exec(e);if(q3)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(gg&&(mg=gg?gg[1]:""),Oa){var vg=RP();if(vg!=null&&vg>parseFloat(mg)){xy=String(vg);break e}}xy=mg}var by;if(pe.document&&Oa){var hb=RP();by=hb||parseInt(xy,10)||void 0}else by=void 0;var X3=by;function qc(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(TP){e:{try{Ww(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Y3[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qc.$.h.call(this)}}kt(qc,Zt);var Y3={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Au="closure_listenable_"+(1e6*Math.random()|0),J3=0;function Z3(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=o,this.key=++J3,this.fa=this.ia=!1}function bp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Gw(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function e6(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function IP(e){const t={};for(const n in e)t[n]=e[n];return t}const pb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PP(e,t){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(let i=0;i<pb.length;i++)n=pb[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Sp(e){this.src=e,this.g={},this.h=0}Sp.prototype.add=function(e,t,n,r,o){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var s=Cy(e,t,r,o);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new Z3(t,this.src,i,!!r,o),t.ia=n,e.push(t)),t};function Sy(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=SP(r,t),i;(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(bp(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Cy(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return o}return-1}var Kw="closure_lm_"+(1e6*Math.random()|0),yg={};function AP(e,t,n,r,o){if(r&&r.once)return kP(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)AP(e,t[i],n,r,o);return null}return n=Xw(n),e&&e[Au]?e.O(t,n,Pu(r)?!!r.capture:!!r,o):$P(e,t,n,!1,r,o)}function $P(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var s=Pu(o)?!!o.capture:!!o,a=Qw(e);if(a||(e[Kw]=a=new Sp(e)),n=a.add(t,n,r,s,i),n.proxy)return n;if(r=t6(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)G3||(o=s),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(NP(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function t6(){function e(n){return t.call(e.src,e.listener,n)}const t=n6;return e}function kP(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)kP(e,t[i],n,r,o);return null}return n=Xw(n),e&&e[Au]?e.P(t,n,Pu(r)?!!r.capture:!!r,o):$P(e,t,n,!0,r,o)}function DP(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)DP(e,t[i],n,r,o);else r=Pu(r)?!!r.capture:!!r,n=Xw(n),e&&e[Au]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Cy(i,n,r,o),-1<n&&(bp(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Qw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Cy(t,n,r,o)),(n=-1<e?t[e]:null)&&qw(n))}function qw(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Au])Sy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(NP(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Qw(t))?(Sy(n,e),n.h==0&&(n.src=null,t[Kw]=null)):bp(e)}}}function NP(e){return e in yg?yg[e]:yg[e]="on"+e}function n6(e,t){if(e.fa)e=!0;else{t=new qc(t,this);var n=e.listener,r=e.la||e.src;e.ia&&qw(e),e=n.call(r,t)}return e}function Qw(e){return e=e[Kw],e instanceof Sp?e:null}var wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xw(e){return typeof e=="function"?e:(e[wg]||(e[wg]=function(t){return e.handleEvent(t)}),e[wg])}function $t(){bi.call(this),this.i=new Sp(this),this.S=this,this.J=null}kt($t,bi);$t.prototype[Au]=!0;$t.prototype.removeEventListener=function(e,t,n,r){DP(this,e,t,n,r)};function Ut(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Zt(t,e);else if(t instanceof Zt)t.target=t.target||e;else{var o=t;t=new Zt(r,e),PP(t,o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];o=Dd(s,r,!0,t)&&o}if(s=t.g=e,o=Dd(s,r,!0,t)&&o,o=Dd(s,r,!1,t)&&o,n)for(i=0;i<n.length;i++)s=t.g=n[i],o=Dd(s,r,!1,t)&&o}$t.prototype.N=function(){if($t.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)bp(n[r]);delete e.g[t],e.h--}}this.J=null};$t.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};$t.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Dd(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Sy(e.i,s),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var Yw=pe.JSON.stringify;class r6{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function o6(){var e=Jw;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class i6{constructor(){this.h=this.g=null}add(t,n){const r=MP.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var MP=new r6(()=>new s6,e=>e.reset());class s6{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function a6(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function l6(e){pe.setTimeout(()=>{throw e},0)}let Qc,Xc=!1,Jw=new i6,OP=()=>{const e=pe.Promise.resolve(void 0);Qc=()=>{e.then(c6)}};var c6=()=>{for(var e;e=o6();){try{e.h.call(e.g)}catch(n){l6(n)}var t=MP;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Xc=!1};function Cp(e,t){$t.call(this),this.h=e||1,this.g=t||pe,this.j=Jt(this.qb,this),this.l=Date.now()}kt(Cp,$t);K=Cp.prototype;K.ga=!1;K.T=null;K.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ut(this,"tick"),this.ga&&(Zw(this),this.start()))}};K.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zw(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}K.N=function(){Cp.$.N.call(this),Zw(this),delete this.g};function e_(e,t,n){if(typeof e=="function")n&&(e=Jt(e,n));else if(e&&typeof e.handleEvent=="function")e=Jt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:pe.setTimeout(e,t||0)}function LP(e){e.g=e_(()=>{e.g=null,e.i&&(e.i=!1,LP(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class u6 extends bi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:LP(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(e){bi.call(this),this.h=e,this.g={}}kt(Yc,bi);var mb=[];function VP(e,t,n,r){Array.isArray(n)||(n&&(mb[0]=n.toString()),n=mb);for(var o=0;o<n.length;o++){var i=AP(t,n[o],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function FP(e){Gw(e.g,function(t,n){this.g.hasOwnProperty(n)&&qw(t)},e),e.g={}}Yc.prototype.N=function(){Yc.$.N.call(this),FP(this)};Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tp(){this.g=!0}Tp.prototype.Ea=function(){this.g=!1};function d6(e,t,n,r,o,i){e.info(function(){if(e.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");s=2<=f.length&&f[1]=="type"?s+(u+"="+c+"&"):s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+s})}function f6(e,t,n,r,o,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+i+" "+s})}function sa(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+p6(e,n)+(r?" "+r:"")})}function h6(e,t){e.info(function(){return"TIMEOUT: "+t})}Tp.prototype.info=function(){};function p6(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if(i!="noop"&&i!="stop"&&i!="close")for(var s=1;s<o.length;s++)o[s]=""}}}}return Yw(n)}catch{return t}}var vs={},gb=null;function Rp(){return gb=gb||new $t}vs.Ta="serverreachability";function jP(e){Zt.call(this,vs.Ta,e)}kt(jP,Zt);function Jc(e){const t=Rp();Ut(t,new jP(t))}vs.STAT_EVENT="statevent";function UP(e,t){Zt.call(this,vs.STAT_EVENT,e),this.stat=t}kt(UP,Zt);function ln(e){const t=Rp();Ut(t,new UP(t,e))}vs.Ua="timingevent";function BP(e,t){Zt.call(this,vs.Ua,e),this.size=t}kt(BP,Zt);function $u(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){e()},t)}var Ip={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function t_(){}t_.prototype.h=null;function vb(e){return e.h||(e.h=e.i())}function HP(){}var ku={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function n_(){Zt.call(this,"d")}kt(n_,Zt);function r_(){Zt.call(this,"c")}kt(r_,Zt);var Ty;function Pp(){}kt(Pp,t_);Pp.prototype.g=function(){return new XMLHttpRequest};Pp.prototype.i=function(){return{}};Ty=new Pp;function Du(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Yc(this),this.P=m6,e=Ey?125:void 0,this.V=new Cp(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WP}function WP(){this.i=null,this.g="",this.h=!1}var m6=45e3,Ry={},hh={};K=Du.prototype;K.setTimeout=function(e){this.P=e};function Iy(e,t,n){e.L=1,e.v=$p(go(t)),e.s=n,e.S=!0,GP(e,null)}function GP(e,t){e.G=Date.now(),Nu(e),e.A=go(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),eA(n.i,"t",r),e.C=0,n=e.l.J,e.h=new WP,e.g=EA(e.l,n?t:null,!e.s),0<e.O&&(e.M=new u6(Jt(e.Pa,e,e.g),e.O)),VP(e.U,e.g,"readystatechange",e.nb),t=e.I?IP(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Jc(),d6(e.j,e.u,e.A,e.m,e.W,e.s)}K.nb=function(e){e=e.target;const t=this.M;t&&Tr(e)==3?t.l():this.Pa(e)};K.Pa=function(e){try{if(e==this.g)e:{const u=Tr(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>u)&&(u!=3||Ey||this.g&&(this.h.h||this.g.ja()||Eb(this.g)))){this.J||u!=4||t==7||(t==8||0>=f?Jc(3):Jc(2)),Ap(this);var n=this.g.da();this.ca=n;t:if(KP(this)){var r=Eb(this.g);e="";var o=r.length,i=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),fc(this);var s="";break t}this.h.i=new pe.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==o-1});r.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,f6(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kc(a)){var c=a;break t}}c=null}if(n=c)sa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Py(this,n);else{this.i=!1,this.o=3,ln(12),Fi(this),fc(this);break e}}this.S?(qP(this,u,s),Ey&&this.i&&u==3&&(VP(this.U,this.V,"tick",this.mb),this.V.start())):(sa(this.j,this.m,s,null),Py(this,s)),u==4&&Fi(this),this.i&&!this.J&&(u==4?vA(this.l,this):(this.i=!1,Nu(this)))}else O6(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),Fi(this),fc(this)}}}catch{}finally{}};function KP(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function qP(e,t,n){let r=!0,o;for(;!e.J&&e.C<n.length;)if(o=g6(e,n),o==hh){t==4&&(e.o=4,ln(14),r=!1),sa(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Ry){e.o=4,ln(15),sa(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else sa(e.j,e.m,o,null),Py(e,o);KP(e)&&o!=hh&&o!=Ry&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ln(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),c_(t),t.M=!0,ln(11))):(sa(e.j,e.m,n,"[Invalid Chunked Response]"),Fi(e),fc(e))}K.mb=function(){if(this.g){var e=Tr(this.g),t=this.g.ja();this.C<t.length&&(Ap(this),qP(this,e,t),this.i&&e!=4&&Nu(this))}};function g6(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?hh:(n=Number(t.substring(n,r)),isNaN(n)?Ry:(r+=1,r+n>t.length?hh:(t=t.slice(r,r+n),e.C=r+n,t)))}K.cancel=function(){this.J=!0,Fi(this)};function Nu(e){e.Y=Date.now()+e.P,QP(e,e.P)}function QP(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=$u(Jt(e.lb,e),t)}function Ap(e){e.B&&(pe.clearTimeout(e.B),e.B=null)}K.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(h6(this.j,this.A),this.L!=2&&(Jc(),ln(17)),Fi(this),this.o=2,fc(this)):QP(this,this.Y-e)};function fc(e){e.l.H==0||e.J||vA(e.l,e)}function Fi(e){Ap(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Zw(e.V),FP(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Py(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Ay(n.i,e))){if(!e.K&&Ay(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)gh(n),Np(n);else break e;l_(n),ln(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=$u(Jt(n.ib,n),6e3));if(1>=rA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ji(n,11)}else if((e.K||n.g==e)&&gh(n),!Kc(t))for(o=n.Ja.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const f=c[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(o_(i,i.h),i.h=null))}if(r.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ze(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=_A(r,r.J?r.pa:null,r.Y),s.K){oA(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Ap(a),Nu(a)),r.g=s}else mA(r);0<n.j.length&&Mp(n)}else c[0]!="stop"&&c[0]!="close"||ji(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ji(n,7):a_(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Jc(4)}catch{}}function v6(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Ep(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function y6(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Ep(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function XP(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Ep(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=y6(e),r=v6(e),o=r.length,i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}var YP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w6(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Ki(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ki){this.h=e.h,ph(this,e.j),this.s=e.s,this.g=e.g,mh(this,e.m),this.l=e.l;var t=e.i,n=new Zc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),yb(this,n),this.o=e.o}else e&&(t=String(e).match(YP))?(this.h=!1,ph(this,t[1]||"",!0),this.s=Xl(t[2]||""),this.g=Xl(t[3]||"",!0),mh(this,t[4]),this.l=Xl(t[5]||"",!0),yb(this,t[6]||"",!0),this.o=Xl(t[7]||"")):(this.h=!1,this.i=new Zc(null,this.h))}Ki.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yl(t,wb,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Yl(t,wb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Yl(n,n.charAt(0)=="/"?x6:E6,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yl(n,S6)),e.join("")};function go(e){return new Ki(e)}function ph(e,t,n){e.j=n?Xl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yb(e,t,n){t instanceof Zc?(e.i=t,C6(e.i,e.h)):(n||(t=Yl(t,b6)),e.i=new Zc(t,e.h))}function ze(e,t,n){e.i.set(t,n)}function $p(e){return ze(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yl(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,_6),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _6(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var wb=/[#\/\?@]/g,E6=/[#\?:]/g,x6=/[#\?]/g,b6=/[#\?@]/g,S6=/#/g;function Zc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Si(e){e.g||(e.g=new Map,e.h=0,e.i&&w6(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}K=Zc.prototype;K.add=function(e,t){Si(this),this.i=null,e=rl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function JP(e,t){Si(e),t=rl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ZP(e,t){return Si(e),t=rl(e,t),e.g.has(t)}K.forEach=function(e,t){Si(this),this.g.forEach(function(n,r){n.forEach(function(o){e.call(t,o,r,this)},this)},this)};K.ta=function(){Si(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let i=0;i<o.length;i++)n.push(t[r])}return n};K.Z=function(e){Si(this);let t=[];if(typeof e=="string")ZP(this,e)&&(t=t.concat(this.g.get(rl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};K.set=function(e,t){return Si(this),this.i=null,e=rl(this,e),ZP(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};K.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function eA(e,t,n){JP(e,t),0<n.length&&(e.i=null,e.g.set(rl(e,t),Hw(n)),e.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var o=i;s[r]!==""&&(o+="="+encodeURIComponent(String(s[r]))),e.push(o)}}return this.i=e.join("&")};function rl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function C6(e,t){t&&!e.j&&(Si(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(JP(this,r),eA(this,o,n))},e)),e.j=t}var T6=class{constructor(e,t){this.g=e,this.map=t}};function tA(e){this.l=e||R6,pe.PerformanceNavigationTiming?(e=pe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var R6=10;function nA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function rA(e){return e.h?1:e.g?e.g.size:0}function Ay(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function o_(e,t){e.g?e.g.add(t):e.h=t}function oA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}tA.prototype.cancel=function(){if(this.i=iA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function iA(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Hw(e.i)}var I6=class{stringify(e){return pe.JSON.stringify(e,void 0)}parse(e){return pe.JSON.parse(e,void 0)}};function P6(){this.g=new I6}function A6(e,t,n){const r=n||"";try{XP(e,function(o,i){let s=o;Pu(o)&&(s=Yw(o)),t.push(r+i+"="+encodeURIComponent(s))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function $6(e,t){const n=new Tp;if(pe.Image){const r=new Image;r.onload=kd(Nd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=kd(Nd,n,r,"TestLoadImage: error",!1,t),r.onabort=kd(Nd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=kd(Nd,n,r,"TestLoadImage: timeout",!1,t),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Nd(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Mu(e){this.l=e.fc||null,this.j=e.ob||!1}kt(Mu,t_);Mu.prototype.g=function(){return new kp(this.l,this.j)};Mu.prototype.i=function(e){return function(){return e}}({});function kp(e,t){$t.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=i_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(kp,$t);var i_=0;K=kp.prototype;K.open=function(e,t){if(this.readyState!=i_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,eu(this)};K.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||pe).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ou(this)),this.readyState=i_};K.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,eu(this)),this.g&&(this.readyState=3,eu(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sA(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function sA(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}K.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ou(this):eu(this),this.readyState==3&&sA(this)}};K.Za=function(e){this.g&&(this.response=this.responseText=e,Ou(this))};K.Ya=function(e){this.g&&(this.response=e,Ou(this))};K.ka=function(){this.g&&Ou(this)};function Ou(e){e.readyState=4,e.l=null,e.j=null,e.A=null,eu(e)}K.setRequestHeader=function(e,t){this.v.append(e,t)};K.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function eu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(kp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var k6=pe.JSON.parse;function lt(e){$t.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=aA,this.L=this.M=!1}kt(lt,$t);var aA="",D6=/^https?$/i,N6=["POST","PUT"];K=lt.prototype;K.Oa=function(e){this.M=e};K.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ty.g(),this.C=this.u?vb(this.u):vb(Ty),this.g.onreadystatechange=Jt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){_b(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),o=pe.FormData&&e instanceof pe.FormData,!(0<=SP(N6,t))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uA(this),0<this.B&&((this.L=M6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.ua,this)):this.A=e_(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){_b(this,i)}};function M6(e){return Oa&&typeof e.timeout=="number"&&e.ontimeout!==void 0}K.ua=function(){typeof zw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))};function _b(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,lA(e),Dp(e)}function lA(e){e.F||(e.F=!0,Ut(e,"complete"),Ut(e,"error"))}K.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ut(this,"complete"),Ut(this,"abort"),Dp(this))};K.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dp(this,!0)),lt.$.N.call(this)};K.La=function(){this.s||(this.G||this.v||this.l?cA(this):this.kb())};K.kb=function(){cA(this)};function cA(e){if(e.h&&typeof zw<"u"&&(!e.C[1]||Tr(e)!=4||e.da()!=2)){if(e.v&&Tr(e)==4)e_(e.La,0,e);else if(Ut(e,"readystatechange"),Tr(e)==4){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var o=String(e.I).match(YP)[1]||null;!o&&pe.self&&pe.self.location&&(o=pe.self.location.protocol.slice(0,-1)),r=!D6.test(o?o.toLowerCase():"")}n=r}if(n)Ut(e,"complete"),Ut(e,"success");else{e.m=6;try{var i=2<Tr(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",lA(e)}}finally{Dp(e)}}}}function Dp(e,t){if(e.g){uA(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ut(e,"ready");try{n.onreadystatechange=r}catch{}}}function uA(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(pe.clearTimeout(e.A),e.A=null)}K.isActive=function(){return!!this.g};function Tr(e){return e.g?e.g.readyState:0}K.da=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}};K.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),k6(t)}};function Eb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case aA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function O6(e){const t={};e=(e.g&&2<=Tr(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Kc(e[r]))continue;var n=a6(e[r]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}e6(t,function(r){return r.join(", ")})}K.Ia=function(){return this.m};K.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function dA(e){let t="";return Gw(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function s_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=dA(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ze(e,t,n))}function Ml(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fA(e){this.Ga=0,this.j=[],this.l=new Tp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ml("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ml("baseRetryDelayMs",5e3,e),this.hb=Ml("retryDelaySeedMs",1e4,e),this.eb=Ml("forwardChannelMaxRetries",2,e),this.xa=Ml("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new tA(e&&e.concurrentRequestLimit),this.Ja=new P6,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}K=fA.prototype;K.ra=8;K.H=1;function a_(e){if(hA(e),e.H==3){var t=e.W++,n=go(e.I);if(ze(n,"SID",e.K),ze(n,"RID",t),ze(n,"TYPE","terminate"),Lu(e,n),t=new Du(e,e.l,t),t.L=2,t.v=$p(go(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon)try{n=pe.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&pe.Image&&(new Image().src=t.v,n=!0),n||(t.g=EA(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Nu(t)}wA(e)}function Np(e){e.g&&(c_(e),e.g.cancel(),e.g=null)}function hA(e){Np(e),e.u&&(pe.clearTimeout(e.u),e.u=null),gh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&pe.clearTimeout(e.m),e.m=null)}function Mp(e){if(!nA(e.i)&&!e.m){e.m=!0;var t=e.Na;Qc||OP(),Xc||(Qc(),Xc=!0),Jw.add(t,e),e.C=0}}function L6(e,t){return rA(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=$u(Jt(e.Na,e,t),yA(e,e.C)),e.C++,!0)}K.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new Du(this,this.l,e);let i=this.s;if(this.U&&(i?(i=IP(i),PP(i,this.U)):i=this.U),this.o!==null||this.O||(o.I=i,i=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pA(this,o,t),n=go(this.I),ze(n,"RID",e),ze(n,"CVER",22),this.F&&ze(n,"X-HTTP-Session-Id",this.F),Lu(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(dA(i)))+"&"+t:this.o&&s_(n,this.o,i)),o_(this.i,o),this.bb&&ze(n,"TYPE","init"),this.P?(ze(n,"$req",t),ze(n,"SID","null"),o.aa=!0,Iy(o,n,null)):Iy(o,n,t),this.H=2}}else this.H==3&&(e?xb(this,e):this.j.length==0||nA(this.i)||xb(this))};function xb(e,t){var n;t?n=t.m:n=e.W++;const r=go(e.I);ze(r,"SID",e.K),ze(r,"RID",n),ze(r,"AID",e.V),Lu(e,r),e.o&&e.s&&s_(r,e.o,e.s),n=new Du(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=pA(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),o_(e.i,n),Iy(n,r,t)}function Lu(e,t){e.na&&Gw(e.na,function(n,r){ze(t,r,n)}),e.h&&XP({},function(n,r){ze(t,r,n)})}function pA(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Jt(e.h.Va,e.h,e):null;e:{var o=e.j;let i=-1;for(;;){const s=["count="+n];i==-1?0<n?(i=o[0].g,s.push("ofs="+i)):i=0:s.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=o[l].g;const u=o[l].map;if(c-=i,0>c)i=Math.max(0,o[l].g-100),a=!1;else try{A6(u,s,"req"+c+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function mA(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Qc||OP(),Xc||(Qc(),Xc=!0),Jw.add(t,e),e.A=0}}function l_(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=$u(Jt(e.Ma,e),yA(e,e.A)),e.A++,!0)}K.Ma=function(){if(this.u=null,gA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=$u(Jt(this.jb,this),e)}};K.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ln(10),Np(this),gA(this))};function c_(e){e.B!=null&&(pe.clearTimeout(e.B),e.B=null)}function gA(e){e.g=new Du(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=go(e.wa);ze(t,"RID","rpc"),ze(t,"SID",e.K),ze(t,"AID",e.V),ze(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ze(t,"TO",e.qa),ze(t,"TYPE","xmlhttp"),Lu(e,t),e.o&&e.s&&s_(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=$p(go(t)),n.s=null,n.S=!0,GP(n,e)}K.ib=function(){this.v!=null&&(this.v=null,Np(this),l_(this),ln(19))};function gh(e){e.v!=null&&(pe.clearTimeout(e.v),e.v=null)}function vA(e,t){var n=null;if(e.g==t){gh(e),c_(e),e.g=null;var r=2}else if(Ay(e.i,t))n=t.F,oA(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var o=e.C;r=Rp(),Ut(r,new BP(r,n)),Mp(e)}else mA(e);else if(o=t.o,o==3||o==0&&0<t.ca||!(r==1&&L6(e,t)||r==2&&l_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:ji(e,5);break;case 4:ji(e,10);break;case 3:ji(e,6);break;default:ji(e,2)}}}function yA(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ji(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Jt(e.pb,e);n||(n=new Ki("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||ph(n,"https"),$p(n)),$6(n.toString(),r)}else ln(2);e.H=0,e.h&&e.h.za(t),wA(e),hA(e)}K.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ln(2)):(this.l.info("Failed to ping google.com"),ln(1))};function wA(e){if(e.H=0,e.ma=[],e.h){const t=iA(e.i);(t.length!=0||e.j.length!=0)&&(fb(e.ma,t),fb(e.ma,e.j),e.i.i.length=0,Hw(e.j),e.j.length=0),e.h.ya()}}function _A(e,t,n){var r=n instanceof Ki?go(n):new Ki(n);if(r.g!="")t&&(r.g=t+"."+r.g),mh(r,r.m);else{var o=pe.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var i=new Ki(null);r&&ph(i,r),t&&(i.g=t),o&&mh(i,o),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&ze(r,n,t),ze(r,"VER",e.ra),Lu(e,r),r}function EA(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new lt(new Mu({ob:!0})):new lt(e.va),t.Oa(e.J),t}K.isActive=function(){return!!this.h&&this.h.isActive(this)};function xA(){}K=xA.prototype;K.Ba=function(){};K.Aa=function(){};K.za=function(){};K.ya=function(){};K.isActive=function(){return!0};K.Va=function(){};function vh(){if(Oa&&!(10<=Number(X3)))throw Error("Environmental error: no available transport.")}vh.prototype.g=function(e,t){return new Mn(e,t)};function Mn(e,t){$t.call(this),this.g=new fA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Kc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kc(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ol(this)}kt(Mn,$t);Mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ln(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=_A(e,null,e.Y),Mp(e)};Mn.prototype.close=function(){a_(this.g)};Mn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Yw(e),e=n);t.j.push(new T6(t.fb++,e)),t.H==3&&Mp(t)};Mn.prototype.N=function(){this.g.h=null,delete this.j,a_(this.g),delete this.g,Mn.$.N.call(this)};function bA(e){n_.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}kt(bA,n_);function SA(){r_.call(this),this.status=1}kt(SA,r_);function ol(e){this.g=e}kt(ol,xA);ol.prototype.Ba=function(){Ut(this.g,"a")};ol.prototype.Aa=function(e){Ut(this.g,new bA(e))};ol.prototype.za=function(e){Ut(this.g,new SA)};ol.prototype.ya=function(){Ut(this.g,"b")};function V6(){this.blockSize=-1}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(mr,V6);mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function _g(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],s=t+(i^n&(o^i))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=i+(o^t&(n^o))+r[1]+3905402710&4294967295,i=t+(s<<12&4294967295|s>>>20),s=o+(n^i&(t^n))+r[2]+606105819&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(t^o&(i^t))+r[3]+3250441966&4294967295,n=o+(s<<22&4294967295|s>>>10),s=t+(i^n&(o^i))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=i+(o^t&(n^o))+r[5]+1200080426&4294967295,i=t+(s<<12&4294967295|s>>>20),s=o+(n^i&(t^n))+r[6]+2821735955&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(t^o&(i^t))+r[7]+4249261313&4294967295,n=o+(s<<22&4294967295|s>>>10),s=t+(i^n&(o^i))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=i+(o^t&(n^o))+r[9]+2336552879&4294967295,i=t+(s<<12&4294967295|s>>>20),s=o+(n^i&(t^n))+r[10]+4294925233&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(t^o&(i^t))+r[11]+2304563134&4294967295,n=o+(s<<22&4294967295|s>>>10),s=t+(i^n&(o^i))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=i+(o^t&(n^o))+r[13]+4254626195&4294967295,i=t+(s<<12&4294967295|s>>>20),s=o+(n^i&(t^n))+r[14]+2792965006&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(t^o&(i^t))+r[15]+1236535329&4294967295,n=o+(s<<22&4294967295|s>>>10),s=t+(o^i&(n^o))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(t^n))+r[6]+3225465664&4294967295,i=t+(s<<9&4294967295|s>>>23),s=o+(t^n&(i^t))+r[11]+643717713&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^t&(o^i))+r[0]+3921069994&4294967295,n=o+(s<<20&4294967295|s>>>12),s=t+(o^i&(n^o))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(t^n))+r[10]+38016083&4294967295,i=t+(s<<9&4294967295|s>>>23),s=o+(t^n&(i^t))+r[15]+3634488961&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^t&(o^i))+r[4]+3889429448&4294967295,n=o+(s<<20&4294967295|s>>>12),s=t+(o^i&(n^o))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(t^n))+r[14]+3275163606&4294967295,i=t+(s<<9&4294967295|s>>>23),s=o+(t^n&(i^t))+r[3]+4107603335&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^t&(o^i))+r[8]+1163531501&4294967295,n=o+(s<<20&4294967295|s>>>12),s=t+(o^i&(n^o))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(t^n))+r[2]+4243563512&4294967295,i=t+(s<<9&4294967295|s>>>23),s=o+(t^n&(i^t))+r[7]+1735328473&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^t&(o^i))+r[12]+2368359562&4294967295,n=o+(s<<20&4294967295|s>>>12),s=t+(n^o^i)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=i+(t^n^o)+r[8]+2272392833&4294967295,i=t+(s<<11&4294967295|s>>>21),s=o+(i^t^n)+r[11]+1839030562&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^t)+r[14]+4259657740&4294967295,n=o+(s<<23&4294967295|s>>>9),s=t+(n^o^i)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=i+(t^n^o)+r[4]+1272893353&4294967295,i=t+(s<<11&4294967295|s>>>21),s=o+(i^t^n)+r[7]+4139469664&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^t)+r[10]+3200236656&4294967295,n=o+(s<<23&4294967295|s>>>9),s=t+(n^o^i)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=i+(t^n^o)+r[0]+3936430074&4294967295,i=t+(s<<11&4294967295|s>>>21),s=o+(i^t^n)+r[3]+3572445317&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^t)+r[6]+76029189&4294967295,n=o+(s<<23&4294967295|s>>>9),s=t+(n^o^i)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=i+(t^n^o)+r[12]+3873151461&4294967295,i=t+(s<<11&4294967295|s>>>21),s=o+(i^t^n)+r[15]+530742520&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^t)+r[2]+3299628645&4294967295,n=o+(s<<23&4294967295|s>>>9),s=t+(o^(n|~i))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=i+(n^(t|~o))+r[7]+1126891415&4294967295,i=t+(s<<10&4294967295|s>>>22),s=o+(t^(i|~n))+r[14]+2878612391&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~t))+r[5]+4237533241&4294967295,n=o+(s<<21&4294967295|s>>>11),s=t+(o^(n|~i))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=i+(n^(t|~o))+r[3]+2399980690&4294967295,i=t+(s<<10&4294967295|s>>>22),s=o+(t^(i|~n))+r[10]+4293915773&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~t))+r[1]+2240044497&4294967295,n=o+(s<<21&4294967295|s>>>11),s=t+(o^(n|~i))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=i+(n^(t|~o))+r[15]+4264355552&4294967295,i=t+(s<<10&4294967295|s>>>22),s=o+(t^(i|~n))+r[6]+2734768916&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~t))+r[13]+1309151649&4294967295,n=o+(s<<21&4294967295|s>>>11),s=t+(o^(n|~i))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=i+(n^(t|~o))+r[11]+3174756917&4294967295,i=t+(s<<10&4294967295|s>>>22),s=o+(t^(i|~n))+r[2]+718787259&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}mr.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,o=this.h,i=0;i<t;){if(o==0)for(;i<=n;)_g(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[o++]=e.charCodeAt(i++),o==this.blockSize){_g(this,r),o=0;break}}else for(;i<t;)if(r[o++]=e[i++],o==this.blockSize){_g(this,r),o=0;break}}this.h=o,this.i+=t};mr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Ve(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=e[o]|0;r&&i==t||(n[o]=i,r=!1)}this.g=n}var F6={};function u_(e){return-128<=e&&128>e?K3(e,function(t){return new Ve([t|0],0>t?-1:0)}):new Ve([e|0],0>e?-1:0)}function Rr(e){if(isNaN(e)||!isFinite(e))return ya;if(0>e)return Vt(Rr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=$y;return new Ve(t,0)}function CA(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Vt(CA(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Rr(Math.pow(t,8)),r=ya,o=0;o<e.length;o+=8){var i=Math.min(8,e.length-o),s=parseInt(e.substring(o,o+i),t);8>i?(i=Rr(Math.pow(t,i)),r=r.R(i).add(Rr(s))):(r=r.R(n),r=r.add(Rr(s)))}return r}var $y=4294967296,ya=u_(0),ky=u_(1),bb=u_(16777216);K=Ve.prototype;K.ea=function(){if(Wn(this))return-Vt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:$y+r)*t,t*=$y}return e};K.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Jr(this))return"0";if(Wn(this))return"-"+Vt(this).toString(e);for(var t=Rr(Math.pow(e,6)),n=this,r="";;){var o=wh(n,t).g;n=yh(n,o.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=o,Jr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};K.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Jr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Wn(e){return e.h==-1}K.X=function(e){return e=yh(this,e),Wn(e)?-1:Jr(e)?0:1};function Vt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ve(n,~e.h).add(ky)}K.abs=function(){return Wn(this)?Vt(this):this};K.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,o=0;o<=t;o++){var i=r+(this.D(o)&65535)+(e.D(o)&65535),s=(i>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);r=s>>>16,i&=65535,s&=65535,n[o]=s<<16|i}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function yh(e,t){return e.add(Vt(t))}K.R=function(e){if(Jr(this)||Jr(e))return ya;if(Wn(this))return Wn(e)?Vt(this).R(Vt(e)):Vt(Vt(this).R(e));if(Wn(e))return Vt(this.R(Vt(e)));if(0>this.X(bb)&&0>e.X(bb))return Rr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<e.g.length;o++){var i=this.D(r)>>>16,s=this.D(r)&65535,a=e.D(o)>>>16,l=e.D(o)&65535;n[2*r+2*o]+=s*l,Md(n,2*r+2*o),n[2*r+2*o+1]+=i*l,Md(n,2*r+2*o+1),n[2*r+2*o+1]+=s*a,Md(n,2*r+2*o+1),n[2*r+2*o+2]+=i*a,Md(n,2*r+2*o+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ve(n,0)};function Md(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ol(e,t){this.g=e,this.h=t}function wh(e,t){if(Jr(t))throw Error("division by zero");if(Jr(e))return new Ol(ya,ya);if(Wn(e))return t=wh(Vt(e),t),new Ol(Vt(t.g),Vt(t.h));if(Wn(t))return t=wh(e,Vt(t)),new Ol(Vt(t.g),t.h);if(30<e.g.length){if(Wn(e)||Wn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ky,r=t;0>=r.X(e);)n=Sb(n),r=Sb(r);var o=Os(n,1),i=Os(r,1);for(r=Os(r,2),n=Os(n,2);!Jr(r);){var s=i.add(r);0>=s.X(e)&&(o=o.add(n),i=s),r=Os(r,1),n=Os(n,1)}return t=yh(e,o.R(t)),new Ol(o,t)}for(o=ya;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Rr(n),s=i.R(t);Wn(s)||0<s.X(e);)n-=r,i=Rr(n),s=i.R(t);Jr(i)&&(i=ky),o=o.add(i),e=yh(e,s)}return new Ol(o,e)}K.gb=function(e){return wh(this,e).h};K.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ve(n,this.h&e.h)};K.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ve(n,this.h|e.h)};K.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ve(n,this.h^e.h)};function Sb(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ve(n,e.h)}function Os(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,o=[],i=0;i<r;i++)o[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new Ve(o,e.h)}vh.prototype.createWebChannel=vh.prototype.g;Mn.prototype.send=Mn.prototype.u;Mn.prototype.open=Mn.prototype.m;Mn.prototype.close=Mn.prototype.close;Ip.NO_ERROR=0;Ip.TIMEOUT=8;Ip.HTTP_ERROR=6;zP.COMPLETE="complete";HP.EventType=ku;ku.OPEN="a";ku.CLOSE="b";ku.ERROR="c";ku.MESSAGE="d";$t.prototype.listen=$t.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;mr.prototype.digest=mr.prototype.l;mr.prototype.reset=mr.prototype.reset;mr.prototype.update=mr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=Rr;Ve.fromString=CA;var j6=function(){return new vh},U6=function(){return Rp()},Eg=Ip,B6=zP,z6=vs,Cb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},H6=Mu,Od=HP,W6=lt,G6=mr,wa=Ve;const Tb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="10.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new jw("@firebase/firestore");function Rb(){return is.logLevel}function ne(e,...t){if(is.logLevel<=Ne.DEBUG){const n=t.map(d_);is.debug(`Firestore (${il}): ${e}`,...n)}}function vo(e,...t){if(is.logLevel<=Ne.ERROR){const n=t.map(d_);is.error(`Firestore (${il}): ${e}`,...n)}}function La(e,...t){if(is.logLevel<=Ne.WARN){const n=t.map(d_);is.warn(`Firestore (${il}): ${e}`,...n)}}function d_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e="Unexpected state"){const t=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: `+e;throw vo(t),new Error(t)}function Ke(e,t){e||fe()}function we(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends jr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class K6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class q6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q6{constructor(t){this.t=t,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new io;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new io,t.enqueueRetryable(()=>o(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new io)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new TA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ke(t===null||typeof t=="string"),new Kt(t)}}class X6{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Y6{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new X6(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J6{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z6{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const o=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?o(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new J6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=e5(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+=t.charAt(o[i]%t.length))}return r}}function Oe(e,t){return e<t?-1:e>t?1:0}function Va(e,t,n){return e.length===t.length&&e.every((r,o)=>n(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ge.fromMillis(Date.now())}static fromDate(t){return Ge.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Oe(this.nanoseconds,t.nanoseconds):Oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ge(t)}static min(){return new ge(new Ge(0,0))}static max(){return new ge(new Ge(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,n,r){n===void 0?n=0:n>t.length&&fe(),r===void 0?r=t.length-n:r>t.length-n&&fe(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return tu.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof tu?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const i=t.get(o),s=n.get(o);if(i<s)return-1;if(i>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class He extends tu{construct(t,n,r){return new He(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Q(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new He(n)}static emptyPath(){return new He([])}}const t5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends tu{construct(t,n,r){return new Xt(t,n,r)}static isValidIdentifier(t){return t5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(t){const n=[];let r="",o=0;const i=()=>{if(r.length===0)throw new Q(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;o<t.length;){const a=t[o];if(a==="\\"){if(o+1===t.length)throw new Q(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new Q(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.path=t}static fromPath(t){return new oe(He.fromString(t))}static fromName(t){return new oe(He.fromString(t).popFirst(5))}static empty(){return new oe(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&He.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return He.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new oe(new He(t.slice()))}}function n5(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=ge.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new ci(o,oe.empty(),t)}function r5(e){return new ci(e.readTime,e.key,-1)}class ci{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ci(ge.min(),oe.empty(),-1)}static max(){return new ci(ge.max(),oe.empty(),-1)}}function o5(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=oe.comparator(e.documentKey,t.documentKey),n!==0?n:Oe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==i5)throw e;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new H((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):H.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):H.reject(n)}static resolve(t){return new H((n,r)=>{n(t)})}static reject(t){return new H((n,r)=>{r(t)})}static waitFor(t){return new H((n,r)=>{let o=0,i=0,s=!1;t.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&n()},l=>r(l))}),s=!0,i===o&&n()})}static or(t){let n=H.resolve(!1);for(const r of t)n=n.next(o=>o?H.resolve(o):r());return n}static forEach(t,n){const r=[];return t.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(t,n){return new H((r,o)=>{const i=t.length,s=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(t[c]).next(u=>{s[c]=u,++a,a===i&&r(s)},u=>o(u))}})}static doWhile(t,n){return new H((r,o)=>{const i=()=>{t()===!0?n().next(()=>{i()},o):r()};i()})}}function Fu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}f_.ae=-1;function Op(e){return e==null}function _h(e){return e===0&&1/e==-1/0}function a5(e){return typeof e=="number"&&Number.isInteger(e)&&!_h(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ys(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function IA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t,n){this.comparator=t,this.root=n||Lt.EMPTY}insert(t,n){return new it(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(t){return new it(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ld(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ld(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ld(this.root,t,this.comparator,!0)}}class Ld{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&o&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Lt{constructor(t,n,r,o,i){this.key=t,this.value=n,this.color=r??Lt.RED,this.left=o??Lt.EMPTY,this.right=i??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,i){return new Lt(t??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const i=r(t,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(t,n,r),null):i===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,n,r,o,i){return this}insert(t,n,r){return new Lt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.comparator=t,this.data=new it(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pb(this.data.getIterator())}getIteratorFrom(t){return new Pb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new en(this.comparator);return n.data=t,n}}class Pb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(Xt.comparator)}static empty(){return new An([])}unionWith(t){let n=new en(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Va(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new PA("Invalid base64 string: "+i):i}}(t);return new rn(n)}static fromUint8Array(t){const n=function(o){let i="";for(let s=0;s<o.length;++s)i+=String.fromCharCode(o[s]);return i}(t);return new rn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const l5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(e){if(Ke(!!e),typeof e=="string"){let t=0;const n=l5.exec(e);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vt(e.seconds),nanos:vt(e.nanos)}}function vt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ss(e){return typeof e=="string"?rn.fromBase64String(e):rn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function p_(e){const t=e.mapValue.fields.__previous_value__;return h_(t)?p_(t):t}function nu(e){const t=ui(e.mapValue.fields.__local_write_time__.timestampValue);return new Ge(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(t,n,r,o,i,s,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ru{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ru&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function as(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?h_(e)?4:u5(e)?9007199254740991:10:fe()}function Or(e,t){if(e===t)return!0;const n=as(e);if(n!==as(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nu(e).isEqual(nu(t));case 3:return function(o,i){if(typeof o.timestampValue=="string"&&typeof i.timestampValue=="string"&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const s=ui(o.timestampValue),a=ui(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,i){return ss(o.bytesValue).isEqual(ss(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,i){return vt(o.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(e,t);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return vt(o.integerValue)===vt(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const s=vt(o.doubleValue),a=vt(i.doubleValue);return s===a?_h(s)===_h(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Va(e.arrayValue.values||[],t.arrayValue.values||[],Or);case 10:return function(o,i){const s=o.mapValue.fields||{},a=i.mapValue.fields||{};if(Ib(s)!==Ib(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Or(s[l],a[l])))return!1;return!0}(e,t);default:return fe()}}function ou(e,t){return(e.values||[]).find(n=>Or(n,t))!==void 0}function Fa(e,t){if(e===t)return 0;const n=as(e),r=as(t);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(e.booleanValue,t.booleanValue);case 2:return function(i,s){const a=vt(i.integerValue||i.doubleValue),l=vt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Ab(e.timestampValue,t.timestampValue);case 4:return Ab(nu(e),nu(t));case 5:return Oe(e.stringValue,t.stringValue);case 6:return function(i,s){const a=ss(i),l=ss(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const a=i.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Oe(a[c],l[c]);if(u!==0)return u}return Oe(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const a=Oe(vt(i.latitude),vt(s.latitude));return a!==0?a:Oe(vt(i.longitude),vt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const a=i.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Fa(a[c],l[c]);if(u)return u}return Oe(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Vd.mapValue&&s===Vd.mapValue)return 0;if(i===Vd.mapValue)return 1;if(s===Vd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Oe(l[f],u[f]);if(h!==0)return h;const p=Fa(a[l[f]],c[u[f]]);if(p!==0)return p}return Oe(l.length,u.length)}(e.mapValue,t.mapValue);default:throw fe()}}function Ab(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Oe(e,t);const n=ui(e),r=ui(t),o=Oe(n.seconds,r.seconds);return o!==0?o:Oe(n.nanos,r.nanos)}function ja(e){return Dy(e)}function Dy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ui(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ss(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return oe.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",o=!0;for(const i of n.values||[])o?o=!1:r+=",",r+=Dy(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",i=!0;for(const s of r)i?i=!1:o+=",",o+=`${s}:${Dy(n.fields[s])}`;return o+"}"}(e.mapValue):fe()}function $b(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ny(e){return!!e&&"integerValue"in e}function m_(e){return!!e&&"arrayValue"in e}function kb(e){return!!e&&"nullValue"in e}function Db(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sf(e){return!!e&&"mapValue"in e}function hc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ys(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=hc(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function u5(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Sf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hc(n)}setAll(t){let n=Xt.emptyPath(),r={},o=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}s?r[a.lastSegment()]=hc(s):o.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(t){const n=this.field(t.popLast());Sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Or(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Sf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){ys(n,(o,i)=>t[o]=i);for(const o of r)delete t[o]}clone(){return new vn(hc(this.value))}}function AA(e){const t=[];return ys(e.fields,(n,r)=>{const o=new Xt([n]);if(Sf(r)){const i=AA(r.mapValue).fields;if(i.length===0)t.push(o);else for(const s of i)t.push(o.child(s))}else t.push(o)}),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t,n,r,o,i,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Qt(t,0,ge.min(),ge.min(),ge.min(),vn.empty(),0)}static newFoundDocument(t,n,r,o){return new Qt(t,1,n,ge.min(),r,o,0)}static newNoDocument(t,n){return new Qt(t,2,n,ge.min(),ge.min(),vn.empty(),0)}static newUnknownDocument(t,n){return new Qt(t,3,n,ge.min(),ge.min(),vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n){this.position=t,this.inclusive=n}}function Nb(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),n.key):r=Fa(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Or(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n="asc"){this.field=t,this.dir=n}}function d5(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{}class wt extends $A{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new h5(t,n,r):n==="array-contains"?new g5(t,r):n==="in"?new v5(t,r):n==="not-in"?new y5(t,r):n==="array-contains-any"?new w5(t,r):new wt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new p5(t,r):new m5(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fa(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gr extends $A{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new gr(t,n)}matches(t){return kA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function kA(e){return e.op==="and"}function DA(e){return f5(e)&&kA(e)}function f5(e){for(const t of e.filters)if(t instanceof gr)return!1;return!0}function My(e){if(e instanceof wt)return e.field.canonicalString()+e.op.toString()+ja(e.value);if(DA(e))return e.filters.map(t=>My(t)).join(",");{const t=e.filters.map(n=>My(n)).join(",");return`${e.op}(${t})`}}function NA(e,t){return e instanceof wt?function(r,o){return o instanceof wt&&r.op===o.op&&r.field.isEqual(o.field)&&Or(r.value,o.value)}(e,t):e instanceof gr?function(r,o){return o instanceof gr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((i,s,a)=>i&&NA(s,o.filters[a]),!0):!1}(e,t):void fe()}function MA(e){return e instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(e):e instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(MA).join(" ,")+"}"}(e):"Filter"}class h5 extends wt{constructor(t,n,r){super(t,n,r),this.key=oe.fromName(r.referenceValue)}matches(t){const n=oe.comparator(t.key,this.key);return this.matchesComparison(n)}}class p5 extends wt{constructor(t,n){super(t,"in",n),this.keys=OA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class m5 extends wt{constructor(t,n){super(t,"not-in",n),this.keys=OA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function OA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class g5 extends wt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return m_(n)&&ou(n.arrayValue,this.value)}}class v5 extends wt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class y5 extends wt{constructor(t,n){super(t,"not-in",n)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}}class w5 extends wt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!m_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(t,n=null,r=[],o=[],i=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.he=null}}function Ob(e,t=null,n=[],r=[],o=null,i=null,s=null){return new _5(e,t,n,r,o,i,s)}function g_(e){const t=we(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>My(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Op(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ja(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ja(r)).join(",")),t.he=n}return t.he}function v_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!d5(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!NA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Mb(e.startAt,t.startAt)&&Mb(e.endAt,t.endAt)}function Oy(e){return oe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,n=null,r=[],o=[],i=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function E5(e,t,n,r,o,i,s,a){return new ju(e,t,n,r,o,i,s,a)}function Lp(e){return new ju(e)}function Lb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function LA(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function y_(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function VA(e){return e.collectionGroup!==null}function _a(e){const t=we(e);if(t.Pe===null){t.Pe=[];const n=y_(t),r=LA(t);if(n!==null&&r===null)n.isKeyField()||t.Pe.push(new pc(n)),t.Pe.push(new pc(Xt.keyField(),"asc"));else{let o=!1;for(const i of t.explicitOrderBy)t.Pe.push(i),i.field.isKeyField()&&(o=!0);if(!o){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new pc(Xt.keyField(),i))}}}return t.Pe}function yo(e){const t=we(e);if(!t.Ie)if(t.limitType==="F")t.Ie=Ob(t.path,t.collectionGroup,_a(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of _a(t)){const s=i.dir==="desc"?"asc":"desc";n.push(new pc(i.field,s))}const r=t.endAt?new Eh(t.endAt.position,t.endAt.inclusive):null,o=t.startAt?new Eh(t.startAt.position,t.startAt.inclusive):null;t.Ie=Ob(t.path,t.collectionGroup,n,t.filters,t.limit,r,o)}return t.Ie}function Ly(e,t){t.getFirstInequalityField(),y_(e);const n=e.filters.concat([t]);return new ju(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vy(e,t,n){return new ju(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vp(e,t){return v_(yo(e),yo(t))&&e.limitType===t.limitType}function FA(e){return`${g_(yo(e))}|lt:${e.limitType}`}function Fy(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>MA(o)).join(", ")}]`),Op(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>ja(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>ja(o)).join(",")),`Target(${r})`}(yo(e))}; limitType=${e.limitType})`}function Fp(e,t){return t.isFoundDocument()&&function(r,o){const i=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,o){for(const i of _a(r))if(!i.field.isKeyField()&&o.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const i of r.filters)if(!i.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(s,a,l){const c=Nb(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,_a(r),o)||r.endAt&&!function(s,a,l){const c=Nb(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,_a(r),o))}(e,t)}function x5(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jA(e){return(t,n)=>{let r=!1;for(const o of _a(e)){const i=b5(o,t,n);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function b5(e,t,n){const r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(i,s,a){const l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Fa(l,c):fe()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,i]of r)if(this.equalsFn(o,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],t))return void(o[i]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ys(this.inner,(n,r)=>{for(const[o,i]of r)t(o,i)})}isEmpty(){return IA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=new it(oe.comparator);function wo(){return S5}const UA=new it(oe.comparator);function Jl(...e){let t=UA;for(const n of e)t=t.insert(n.key,n);return t}function BA(e){let t=UA;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ui(){return mc()}function zA(){return mc()}function mc(){return new sl(e=>e.toString(),(e,t)=>e.isEqual(t))}const C5=new it(oe.comparator),T5=new en(oe.comparator);function xe(...e){let t=T5;for(const n of e)t=t.add(n);return t}const R5=new en(Oe);function I5(){return R5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(t)?"-0":t}}function WA(e){return{integerValue:""+e}}function P5(e,t){return a5(t)?WA(t):HA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this._=void 0}}function A5(e,t,n){return e instanceof xh?function(o,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&h_(i)&&(i=p_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof iu?KA(e,t):e instanceof su?qA(e,t):function(o,i){const s=GA(o,i),a=Vb(s)+Vb(o.Te);return Ny(s)&&Ny(o.Te)?WA(a):HA(o.serializer,a)}(e,t)}function $5(e,t,n){return e instanceof iu?KA(e,t):e instanceof su?qA(e,t):n}function GA(e,t){return e instanceof bh?function(r){return Ny(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class xh extends jp{}class iu extends jp{constructor(t){super(),this.elements=t}}function KA(e,t){const n=QA(t);for(const r of e.elements)n.some(o=>Or(o,r))||n.push(r);return{arrayValue:{values:n}}}class su extends jp{constructor(t){super(),this.elements=t}}function qA(e,t){let n=QA(t);for(const r of e.elements)n=n.filter(o=>!Or(o,r));return{arrayValue:{values:n}}}class bh extends jp{constructor(t,n){super(),this.serializer=t,this.Te=n}}function Vb(e){return vt(e.integerValue||e.doubleValue)}function QA(e){return m_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function k5(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof iu&&o instanceof iu||r instanceof su&&o instanceof su?Va(r.elements,o.elements,Or):r instanceof bh&&o instanceof bh?Or(r.Te,o.Te):r instanceof xh&&o instanceof xh}(e.transform,t.transform)}class D5{constructor(t,n){this.version=t,this.transformResults=n}}class ur{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ur}static exists(t){return new ur(void 0,t)}static updateTime(t){return new ur(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Up{}function XA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new w_(e.key,ur.none()):new Uu(e.key,e.data,ur.none());{const n=e.data,r=vn.empty();let o=new en(Xt.comparator);for(let i of t.fields)if(!o.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),o=o.add(i)}return new Ci(e.key,r,new An(o.toArray()),ur.none())}}function N5(e,t,n){e instanceof Uu?function(o,i,s){const a=o.value.clone(),l=jb(o.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ci?function(o,i,s){if(!Cf(o.precondition,i))return void i.convertToUnknownDocument(s.version);const a=jb(o.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(YA(o)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(o,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function gc(e,t,n,r){return e instanceof Uu?function(i,s,a,l){if(!Cf(i.precondition,s))return a;const c=i.value.clone(),u=Ub(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ci?function(i,s,a,l){if(!Cf(i.precondition,s))return a;const c=Ub(i.fieldTransforms,l,s),u=s.data;return u.setAll(YA(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(i,s,a){return Cf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function M5(e,t){let n=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),i=GA(r.transform,o||null);i!=null&&(n===null&&(n=vn.empty()),n.set(r.field,i))}return n||null}function Fb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Va(r,o,(i,s)=>k5(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Uu extends Up{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ci extends Up{constructor(t,n,r,o,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function YA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function jb(e,t,n){const r=new Map;Ke(e.length===n.length);for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,$5(s,a,n[o]))}return r}function Ub(e,t,n){const r=new Map;for(const o of e){const i=o.transform,s=n.data.field(o.field);r.set(o.field,A5(i,s,t))}return r}class w_ extends Up{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O5 extends Up{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(t.key)&&N5(i,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=gc(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=gc(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=zA();return this.mutations.forEach(o=>{const i=t.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=n.has(o.key)?null:a;const l=XA(s,a);l!==null&&r.set(o.key,l),s.isValidDocument()||s.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xe())}isEqual(t){return this.batchId===t.batchId&&Va(this.mutations,t.mutations,(n,r)=>Fb(n,r))&&Va(this.baseMutations,t.baseMutations,(n,r)=>Fb(n,r))}}class __{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Ke(t.mutations.length===r.length);let o=function(){return C5}();const i=t.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new __(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ce;function j5(e){switch(e){default:return fe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function JA(e){if(e===void 0)return vo("GRPC error has no .code"),O.UNKNOWN;switch(e){case pt.OK:return O.OK;case pt.CANCELLED:return O.CANCELLED;case pt.UNKNOWN:return O.UNKNOWN;case pt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case pt.INTERNAL:return O.INTERNAL;case pt.UNAVAILABLE:return O.UNAVAILABLE;case pt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case pt.NOT_FOUND:return O.NOT_FOUND;case pt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case pt.ABORTED:return O.ABORTED;case pt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case pt.DATA_LOSS:return O.DATA_LOSS;default:return fe()}}(Ce=pt||(pt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fd}static getOrCreateInstance(){return Fd===null&&(Fd=new E_),Fd}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let Fd=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new wa([4294967295,4294967295],0);function Bb(e){const t=U5().encode(e),n=new G6;return n.update(t),new Uint8Array(n.digest())}function zb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new wa([n,r],0),new wa([o,i],0)]}class x_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=wa.fromNumber(this.de)}Re(t,n,r){let o=t.add(n.multiply(wa.fromNumber(r)));return o.compare(B5)===1&&(o=new wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=Bb(t),[r,o]=zb(n);for(let i=0;i<this.hashCount;i++){const s=this.Re(r,o,i);if(!this.Ve(s))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new x_(i,o,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.de===0)return;const n=Bb(t),[r,o]=zb(n);for(let i=0;i<this.hashCount;i++){const s=this.Re(r,o,i);this.me(s)}}me(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n,r,o,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Bu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Bp(ge.min(),o,new it(Oe),wo(),xe())}}class Bu{constructor(t,n,r,o,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Bu(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n,r,o){this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=o}}class ZA{constructor(t,n){this.targetId=t,this.pe=n}}class e${constructor(t,n,r=rn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Hb{constructor(){this.ye=0,this.we=Gb(),this.Se=rn.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=xe(),n=xe(),r=xe();return this.we.forEach((o,i)=>{switch(i){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:fe()}}),new Bu(this.Se,this.be,t,n,r)}xe(){this.De=!1,this.we=Gb()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class z5{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=wo(),this.$e=Wb(),this.Ue=new it(Oe)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Fe(t.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(t.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(t.resumeToken));break;default:fe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((r,o)=>{this.Je(o)&&n(o)})}Ze(t){var n,r;const o=t.targetId,i=t.pe.count,s=this.Xe(o);if(s){const a=s.target;if(Oy(a))if(i===0){const l=new oe(a.path);this.ze(o,l,Qt.newNoDocument(l,ge.min()))}else Ke(i===1);else{const l=this.et(o);if(l!==i){const c=this.tt(t,l);if(c.status!==0){this.Ye(o);const u=c.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(o,u)}(n=E_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(f,h,p,g){var m,w,v,y,E,_;const b={localCacheCount:p,existenceFilterCount:g.count},S=g.unchangedNames;return S&&(b.bloomFilter={applied:f===0,hashCount:(m=S==null?void 0:S.hashCount)!==null&&m!==void 0?m:0,bitmapLength:(y=(v=(w=S==null?void 0:S.bits)===null||w===void 0?void 0:w.bitmap)===null||v===void 0?void 0:v.length)!==null&&y!==void 0?y:0,padding:(_=(E=S==null?void 0:S.bits)===null||E===void 0?void 0:E.padding)!==null&&_!==void 0?_:0},h&&(b.bloomFilter.mightContain=h)),b}(c.status,(r=c.nt)!==null&&r!==void 0?r:null,l,t.pe))}}}}tt(t,n){const{unchangedNames:r,count:o}=t.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=r;let l,c;try{l=ss(i).toUint8Array()}catch(f){if(f instanceof PA)return La("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw f}try{c=new x_(l,s,a)}catch(f){return La(f instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",f),{status:1}}const u=f=>{const h=this.qe.rt();return c.mightContain(`projects/${h.projectId}/databases/${h.database}/documents/${f}`)};return c.de===0?{status:1}:{status:o===n-this.it(t.targetId,u)?0:2,nt:u}}it(t,n){const r=this.qe.getRemoteKeysForTarget(t);let o=0;return r.forEach(i=>{n(i.path.canonicalString())||(this.ze(t,i,null),o++)}),o}st(t){const n=new Map;this.Qe.forEach((i,s)=>{const a=this.Xe(s);if(a){if(i.current&&Oy(a.target)){const l=new oe(a.target.path);this.Ke.get(l)!==null||this.ot(s,l)||this.ze(s,l,Qt.newNoDocument(l,t))}i.Ce&&(n.set(s,i.Me()),i.xe())}});let r=xe();this.$e.forEach((i,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Ke.forEach((i,s)=>s.setReadTime(t));const o=new Bp(t,n,this.Ue,this.Ke,r);return this.Ke=wo(),this.$e=Wb(),this.Ue=new it(Oe),o}Ge(t,n){if(!this.Je(t))return;const r=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const o=this.He(t);this.ot(t,n)?o.Oe(n,1):o.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new Hb,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new en(Oe),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new Hb),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function Wb(){return new it(oe.comparator)}function Gb(){return new it(oe.comparator)}const H5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),W5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),G5=(()=>({and:"AND",or:"OR"}))();class K5{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function jy(e,t){return e.useProto3Json||Op(t)?t:{value:t}}function Sh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function t$(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function q5(e,t){return Sh(e,t.toTimestamp())}function kr(e){return Ke(!!e),ge.fromTimestamp(function(n){const r=ui(n);return new Ge(r.seconds,r.nanos)}(e))}function b_(e,t){return function(r){return new He(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function n$(e){const t=He.fromString(e);return Ke(s$(t)),t}function Uy(e,t){return b_(e.databaseId,t.path)}function xg(e,t){const n=n$(t);if(n.get(1)!==e.databaseId.projectId)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(r$(n))}function By(e,t){return b_(e.databaseId,t)}function Q5(e){const t=n$(e);return t.length===4?He.emptyPath():r$(t)}function zy(e){return new He(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function r$(e){return Ke(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Kb(e,t,n){return{name:Uy(e,t),fields:n.value.mapValue.fields}}function X5(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ke(u===void 0||typeof u=="string"),rn.fromBase64String(u||"")):(Ke(u===void 0||u instanceof Uint8Array),rn.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(c){const u=c.code===void 0?O.UNKNOWN:JA(c.code);return new Q(u,c.message||"")}(s);n=new e$(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=xg(e,r.document.name),i=kr(r.document.updateTime),s=r.document.createTime?kr(r.document.createTime):ge.min(),a=new vn({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Tf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=xg(e,r.document),i=r.readTime?kr(r.readTime):ge.min(),s=Qt.newNoDocument(o,i),a=r.removedTargetIds||[];n=new Tf([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=xg(e,r.document),i=r.removedTargetIds||[];n=new Tf([],i,o,null)}else{if(!("filter"in t))return fe();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:i}=r,s=new F5(o,i),a=r.targetId;n=new ZA(a,s)}}return n}function Y5(e,t){let n;if(t instanceof Uu)n={update:Kb(e,t.key,t.value)};else if(t instanceof w_)n={delete:Uy(e,t.key)};else if(t instanceof Ci)n={update:Kb(e,t.key,t.data),updateMask:sj(t.fieldMask)};else{if(!(t instanceof O5))return fe();n={verify:Uy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof xh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof iu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof su)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bh)return{fieldPath:s.field.canonicalString(),increment:a.Te};throw fe()}(0,r))),t.precondition.isNone||(n.currentDocument=function(o,i){return i.updateTime!==void 0?{updateTime:q5(o,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(e,t.precondition)),n}function J5(e,t){return e&&e.length>0?(Ke(t!==void 0),e.map(n=>function(o,i){let s=o.updateTime?kr(o.updateTime):kr(i);return s.isEqual(ge.min())&&(s=kr(i)),new D5(s,o.transformResults||[])}(n,t))):[]}function Z5(e,t){return{documents:[By(e,t.path)]}}function ej(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=By(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=By(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(l){if(l.length!==0)return i$(gr.create(l,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const i=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:Bs(f.field),direction:rj(f.dir)}}(c))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const s=jy(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function tj(e){let t=Q5(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ke(r===1);const u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=function(f){const h=o$(f);return h instanceof gr&&DA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new pc(zs(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Op(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Eh(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new Eh(p,h)}(n.endAt)),E5(t,o,s,i,a,"F",l,c)}function nj(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function o$(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=zs(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zs(n.unaryFilter.field);return wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zs(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(e):e.fieldFilter!==void 0?function(n){return wt.create(zs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>o$(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(e):fe()}function rj(e){return H5[e]}function oj(e){return W5[e]}function ij(e){return G5[e]}function Bs(e){return{fieldPath:e.canonicalString()}}function zs(e){return Xt.fromServerFormat(e.fieldPath)}function i$(e){return e instanceof wt?function(n){if(n.op==="=="){if(Db(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(kb(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Db(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(kb(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:oj(n.op),value:n.value}}}(e):e instanceof gr?function(n){const r=n.getFilters().map(o=>i$(o));return r.length===1?r[0]:{compositeFilter:{op:ij(n.op),filters:r}}}(e):fe()}function sj(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function s$(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t,n,r,o,i=ge.min(),s=ge.min(),a=rn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ho(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(t){this.ct=t}}function lj(e){const t=tj({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Vy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.sn=new uj}addToCollectionParentIndex(t,n){return this.sn.add(n),H.resolve()}getCollectionParents(t,n){return H.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return H.resolve()}deleteFieldIndex(t,n){return H.resolve()}getDocumentsMatchingTarget(t,n){return H.resolve(null)}getIndexType(t,n){return H.resolve(0)}getFieldIndexes(t,n){return H.resolve([])}getNextCollectionGroupToUpdate(t){return H.resolve(null)}getMinOffset(t,n){return H.resolve(ci.min())}getMinOffsetFromCollectionGroup(t,n){return H.resolve(ci.min())}updateCollectionGroup(t,n,r){return H.resolve()}updateIndexEntries(t,n){return H.resolve()}}class uj{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new en(He.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new en(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Ua(0)}static On(){return new Ua(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.changes=new sl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(r!==null&&gc(r.mutation,o,An.empty(),Ge.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,xe()).next(()=>r))}getLocalViewOfDocuments(t,n,r=xe()){const o=Ui();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,r).next(i=>{let s=Jl();return i.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Ui();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,xe()))}populateOverlays(t,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(t,o).next(i=>{i.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,o){let i=wo();const s=mc(),a=function(){return mc()}();return n.forEach((l,c)=>{const u=r.get(c.key);o.has(c.key)&&(u===void 0||u.mutation instanceof Ci)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),gc(u.mutation,c,u.mutation.getFieldMask(),Ge.now())):s.set(c.key,An.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new fj(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=mc();let o=new it((s,a)=>s-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||An.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(o.get(a.batchId)||xe()).add(l);o=o.insert(a.batchId,f)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=zA();u.forEach(h=>{if(!i.has(h)){const p=XA(n.get(h),r.get(h));p!==null&&f.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):VA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-i.size):H.resolve(Ui());let a=-1,l=i;return s.next(c=>H.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(u)?H.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,xe())).next(u=>({batchId:a,changes:BA(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new oe(n)).next(r=>{let o=Jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const o=n.collectionGroup;let i=Jl();return this.indexManager.getCollectionParents(t,o).next(s=>H.forEach(s,a=>{const l=function(u,f){return new ju(f,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(o));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(c=>{c.forEach((u,f)=>{i=i.insert(u,f)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o))).next(i=>{o.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,Qt.newInvalidDocument(c)))});let s=Jl();return i.forEach((a,l)=>{const c=o.get(a);c!==void 0&&gc(c.mutation,l,An.empty(),Ge.now()),Fp(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return H.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}}(n)),H.resolve()}getNamedQuery(t,n){return H.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(o){return{name:o.name,query:lj(o.bundledQuery),readTime:kr(o.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.overlays=new it(oe.comparator),this.cr=new Map}getOverlay(t,n){return H.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ui();return H.forEach(n,o=>this.getOverlay(t,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((o,i)=>{this.ht(t,n,i)}),H.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.cr.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.cr.delete(r)),H.resolve()}getOverlaysForCollection(t,n,r){const o=Ui(),i=n.length+1,s=new oe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&o.set(l.getKey(),l)}return H.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let i=new it((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Ui(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ui(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=o)););return H.resolve(a)}ht(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const s=this.cr.get(o.largestBatchId).delete(r.key);this.cr.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new V5(n,r));let i=this.cr.get(n);i===void 0&&(i=xe(),this.cr.set(n,i)),this.cr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.lr=new en(It.hr),this.Pr=new en(It.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const r=new It(t,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Er(new It(t,n))}dr(t,n){t.forEach(r=>this.removeReference(r,n))}Ar(t){const n=new oe(new He([])),r=new It(n,t),o=new It(n,t+1),i=[];return this.Pr.forEachInRange([r,o],s=>{this.Er(s),i.push(s.key)}),i}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new oe(new He([])),r=new It(n,t),o=new It(n,t+1);let i=xe();return this.Pr.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(t){const n=new It(t,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class It{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return oe.comparator(t.key,n.key)||Oe(t.mr,n.mr)}static Ir(t,n){return Oe(t.mr,n.mr)||oe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new en(It.hr)}checkEmpty(t){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new L5(i,n,r,o);this.mutationQueue.push(s);for(const a of o)this.pr=this.pr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(t,n){return H.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.wr(r),i=o<0?0:o;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new It(n,0),o=new It(n,Number.POSITIVE_INFINITY),i=[];return this.pr.forEachInRange([r,o],s=>{const a=this.yr(s.mr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new en(Oe);return n.forEach(o=>{const i=new It(o,0),s=new It(o,Number.POSITIVE_INFINITY);this.pr.forEachInRange([i,s],a=>{r=r.add(a.mr)})}),H.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const s=new It(new oe(i),0);let a=new en(Oe);return this.pr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===o&&(a=a.add(l.mr)),!0)},s),H.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(r=>{const o=this.yr(r);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ke(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return H.forEach(n.mutations,o=>{const i=new It(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.pr=r})}Cn(t){}containsKey(t,n){const r=new It(n,0),o=this.pr.firstAfterOrEqual(r);return H.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,H.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(t){this.Dr=t,this.docs=function(){return new it(oe.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,s=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(t,n){let r=wo();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():Qt.newInvalidDocument(o))}),H.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let i=wo();const s=n.path,a=new oe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||o5(r5(u),r)<=0||(o.has(u.key)||Fp(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(t,n,r,o){fe()}vr(t,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new yj(this)}getSize(t){return H.resolve(this.size)}}class yj extends dj{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.sr.addEntry(t,o)):this.sr.removeEntry(r)}),H.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(t){this.persistence=t,this.Cr=new sl(n=>g_(n),v_),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new S_,this.targetCount=0,this.Or=Ua.xn()}forEachTarget(t,n){return this.Cr.forEach((r,o)=>n(o)),H.resolve()}getLastRemoteSnapshotVersion(t){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return H.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),H.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new Ua(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,H.resolve()}updateTargetData(t,n){return this.Ln(n),H.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(t,n,r){let o=0;const i=[];return this.Cr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(s),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),o++)}),H.waitFor(i).next(()=>o)}getTargetCount(t){return H.resolve(this.targetCount)}getTargetData(t,n){const r=this.Cr.get(n)||null;return H.resolve(r)}addMatchingKeys(t,n,r){return this.Mr.Tr(n,r),H.resolve()}removeMatchingKeys(t,n,r){this.Mr.dr(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(s=>{i.push(o.markPotentiallyOrphaned(t,s))}),H.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),H.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Mr.Vr(n);return H.resolve(r)}containsKey(t,n){return H.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(t,n){this.Nr={},this.overlays={},this.Br=new f_(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new wj(this),this.indexManager=new cj,this.remoteDocumentCache=function(o){return new vj(o)}(r=>this.referenceDelegate.qr(r)),this.serializer=new aj(n),this.Qr=new pj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mj,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Nr[t.toKey()];return r||(r=new gj(n,this.referenceDelegate),this.Nr[t.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,r){ne("MemoryPersistence","Starting transaction:",t);const o=new Ej(this.Br.next());return this.referenceDelegate.Kr(),r(o).next(i=>this.referenceDelegate.$r(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Ur(t,n){return H.or(Object.values(this.Nr).map(r=>()=>r.containsKey(t,n)))}}class Ej extends s5{constructor(t){super(),this.currentSequenceNumber=t}}class C_{constructor(t){this.persistence=t,this.Wr=new S_,this.Gr=null}static zr(t){return new C_(t)}get jr(){if(this.Gr)return this.Gr;throw fe()}addReference(t,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),H.resolve()}removeReference(t,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),H.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(o=>this.jr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(i=>this.jr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.jr,r=>{const o=oe.fromPath(r);return this.Hr(t,o).next(i=>{i||n.removeEntry(o,ge.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return H.or([()=>H.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Li=r,this.ki=o}static qi(t,n){let r=xe(),o=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new T_(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,r,o){return this.$i(t,n).next(i=>i||this.Ui(t,n,o,r)).next(i=>i||this.Wi(t,n))}$i(t,n){if(Lb(n))return H.resolve(null);let r=yo(n);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Vy(n,null,"F"),r=yo(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const s=xe(...i);return this.Ki.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Gi(n,a);return this.zi(n,c,s,l.readTime)?this.$i(t,Vy(n,null,"F")):this.ji(t,c,n,l)}))})))}Ui(t,n,r,o){return Lb(n)||o.isEqual(ge.min())?this.Wi(t,n):this.Ki.getDocuments(t,r).next(i=>{const s=this.Gi(n,i);return this.zi(n,s,r,o)?this.Wi(t,n):(Rb()<=Ne.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fy(n)),this.ji(t,s,n,n5(o,-1)))})}Gi(t,n){let r=new en(jA(t));return n.forEach((o,i)=>{Fp(t,i)&&(r=r.add(i))}),r}zi(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Wi(t,n){return Rb()<=Ne.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Fy(n)),this.Ki.getDocumentsMatchingQuery(t,n,ci.min())}ji(t,n,r,o){return this.Ki.getDocumentsMatchingQuery(t,r,o).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(t,n,r,o){this.persistence=t,this.Hi=n,this.serializer=o,this.Ji=new it(Oe),this.Yi=new sl(i=>g_(i),v_),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hj(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function Sj(e,t,n,r){return new bj(e,t,n,r)}async function a$(e,t){const n=we(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,n.es(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],a=[];let l=xe();for(const c of o){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ts:c,removedBatchIds:s,addedBatchIds:a}))})})}function Cj(e,t){const n=we(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=H.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const w=c.docVersions.get(g);Ke(w!==null),m.version.compareTo(w)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,o))})}function l$(e){const t=we(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function Tj(e,t){const n=we(e),r=t.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const a=[];t.targetChanges.forEach((u,f)=>{const h=o.get(f);if(!h)return;a.push(n.kr.removeMatchingKeys(i,u.removedDocuments,f).next(()=>n.kr.addMatchingKeys(i,u.addedDocuments,f)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(rn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),o=o.insert(f,p),function(m,w,v){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&a.push(n.kr.updateTargetData(i,p))});let l=wo(),c=xe();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Rj(i,s,t.documentUpdates).next(u=>{l=u.ns,c=u.rs})),!r.isEqual(ge.min())){const u=n.kr.getLastRemoteSnapshotVersion(i).next(f=>n.kr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=o,i))}function Rj(e,t,n){let r=xe(),o=xe();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let s=wo();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ns:s,rs:o}})}function Ij(e,t){const n=we(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Pj(e,t){const n=we(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.kr.getTargetData(r,t).next(i=>i?(o=i,H.resolve(o)):n.kr.allocateTargetId(r).next(s=>(o=new Ho(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ji.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function Hy(e,t,n){const r=we(e),o=r.Ji.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o))}catch(s){if(!Fu(s))throw s;ne("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(o.target)}function qb(e,t,n){const r=we(e);let o=ge.min(),i=xe();return r.persistence.runTransaction("Execute query","readonly",s=>function(l,c,u){const f=we(l),h=f.Yi.get(u);return h!==void 0?H.resolve(f.Ji.get(h)):f.kr.getTargetData(c,u)}(r,s,yo(t)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,t,n?o:ge.min(),n?i:xe())).next(a=>(Aj(r,x5(t),a),{documents:a,ss:i})))}function Aj(e,t,n){let r=e.Zi.get(t)||ge.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.Zi.set(t,r)}class Qb{constructor(){this.activeTargetIds=I5()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $j{constructor(){this.Hs=new Qb,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,r){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new Qb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd=null;function bg(){return jd===null?jd=function(){return 268435456+Math.round(2147483648*Math.random())}():jd++,"0x"+jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class Mj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http";this.To=r+"://"+n.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(n,r,o,i,s){const a=bg(),l=this.Vo(n,r);ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,o);const c={};return this.mo(c,i,s),this.fo(n,l,c,o).then(u=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw La("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",o),u})}po(n,r,o,i,s,a){return this.Ro(n,r,o,i,s)}mo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>n[s]=i),o&&o.headers.forEach((i,s)=>n[s]=i)}Vo(n,r){const o=Dj[n];return`${this.To}/v1/${r}:${o}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}fo(t,n,r,o){const i=bg();return new Promise((s,a)=>{const l=new W6;l.setWithCredentials(!0),l.listenOnce(B6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Eg.NO_ERROR:const u=l.getResponseJson();ne(Wt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(u)),s(u);break;case Eg.TIMEOUT:ne(Wt,`RPC '${t}' ${i} timed out`),a(new Q(O.DEADLINE_EXCEEDED,"Request time out"));break;case Eg.HTTP_ERROR:const f=l.getStatus();if(ne(Wt,`RPC '${t}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(v)>=0?v:O.UNKNOWN}(p.status);a(new Q(g,p.message))}else a(new Q(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(O.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ne(Wt,`RPC '${t}' ${i} completed.`)}});const c=JSON.stringify(o);ne(Wt,`RPC '${t}' ${i} sending request:`,o),l.send(n,"POST",c,r,15)})}yo(t,n,r){const o=bg(),i=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=j6(),a=U6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new H6({})),this.mo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ne(Wt,`Creating RPC '${t}' stream ${o}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const g=new Nj({so:w=>{p?ne(Wt,`Not sending because RPC '${t}' stream ${o} is closed:`,w):(h||(ne(Wt,`Opening RPC '${t}' stream ${o} transport.`),f.open(),h=!0),ne(Wt,`RPC '${t}' stream ${o} sending:`,w),f.send(w))},oo:()=>f.close()}),m=(w,v,y)=>{w.listen(v,E=>{try{y(E)}catch(_){setTimeout(()=>{throw _},0)}})};return m(f,Od.EventType.OPEN,()=>{p||ne(Wt,`RPC '${t}' stream ${o} transport opened.`)}),m(f,Od.EventType.CLOSE,()=>{p||(p=!0,ne(Wt,`RPC '${t}' stream ${o} transport closed`),g.Po())}),m(f,Od.EventType.ERROR,w=>{p||(p=!0,La(Wt,`RPC '${t}' stream ${o} transport errored:`,w),g.Po(new Q(O.UNAVAILABLE,"The operation could not be completed")))}),m(f,Od.EventType.MESSAGE,w=>{var v;if(!p){const y=w.data[0];Ke(!!y);const E=y,_=E.error||((v=E[0])===null||v===void 0?void 0:v.error);if(_){ne(Wt,`RPC '${t}' stream ${o} received error:`,_);const b=_.status;let S=function(I){const M=pt[I];if(M!==void 0)return JA(M)}(b),C=_.message;S===void 0&&(S=O.INTERNAL,C="Unknown error status: "+b+" with message "+_.message),p=!0,g.Po(new Q(S,C)),f.close()}else ne(Wt,`RPC '${t}' stream ${o} received:`,y),g.Io(y)}}),m(a,z6.STAT_EVENT,w=>{w.stat===Cb.PROXY?ne(Wt,`RPC '${t}' stream ${o} detected buffering proxy`):w.stat===Cb.NOPROXY&&ne(Wt,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{g.ho()},0),g}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(e){return new K5(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(t,n,r=1e3,o=1.5,i=6e4){this.ii=t,this.timerId=n,this.wo=r,this.So=o,this.bo=i,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(t){this.cancel();const n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-r);o>0&&ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Do} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),t())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){this.vo!==null&&(this.vo.skipDelay(),this.vo=null)}cancel(){this.vo!==null&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(t,n,r,o,i,s,a,l){this.ii=t,this.No=r,this.Bo=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new c$(t,n)}Ko(){return this.state===1||this.state===5||this.$o()}$o(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&this.ko===null&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(t,n){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,t!==4?this.Qo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(vo(n.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Yo(){}auth(){this.state=1;const t=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Lo===n&&this.Xo(r,o)},r=>{t(()=>{const o=new Q(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.e_(o)})})}Xo(t,n){const r=this.Zo(this.Lo);this.stream=this.t_(t,n),this.stream._o(()=>{r(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(o=>{r(()=>this.e_(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Uo(){this.state=5,this.Qo.Mo(async()=>{this.state=0,this.start()})}e_(t){return ne("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Zo(t){return n=>{this.ii.enqueueAndForget(()=>this.Lo===t?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oj extends u${constructor(t,n,r,o,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}t_(t,n){return this.connection.yo("Listen",t,n)}onMessage(t){this.Qo.reset();const n=X5(this.serializer,t),r=function(i){if(!("targetChange"in i))return ge.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ge.min():s.readTime?kr(s.readTime):ge.min()}(t);return this.listener.n_(n,r)}r_(t){const n={};n.database=zy(this.serializer),n.addTarget=function(i,s){let a;const l=s.target;if(a=Oy(l)?{documents:Z5(i,l)}:{query:ej(i,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=t$(i,s.resumeToken);const c=jy(i,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ge.min())>0){a.readTime=Sh(i,s.snapshotVersion.toTimestamp());const c=jy(i,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=nj(this.serializer,t);r&&(n.labels=r),this.jo(n)}i_(t){const n={};n.database=zy(this.serializer),n.removeTarget=t,this.jo(n)}}class Lj extends u${constructor(t,n,r,o,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(t,n){return this.connection.yo("Write",t,n)}onMessage(t){if(Ke(!!t.streamToken),this.lastStreamToken=t.streamToken,this.s_){this.Qo.reset();const n=J5(t.writeResults,t.commitTime),r=kr(t.commitTime);return this.listener.a_(r,n)}return Ke(!t.writeResults||t.writeResults.length===0),this.s_=!0,this.listener.u_()}c_(){const t={};t.database=zy(this.serializer),this.jo(t)}__(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Y5(this.serializer,r))};this.jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj extends class{}{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.l_=!1}h_(){if(this.l_)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(t,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Ro(t,n,r,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(O.UNKNOWN,o.toString())})}po(t,n,r,o){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.po(t,n,r,i,s,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(O.UNKNOWN,i.toString())})}terminate(){this.l_=!0}}class Fj{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){this.I_===0&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(t){this.state==="Online"?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.A_("Offline")))}set(t){this.m_(),this.I_=0,t==="Online"&&(this.E_=!1),this.A_(t)}A_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}R_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(vo(n),this.E_=!1):ne("OnlineStateTracker",n)}m_(){this.T_!==null&&(this.T_.cancel(),this.T_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(t,n,r,o,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=i,this.w_.Ys(s=>{r.enqueueAndForget(async()=>{ws(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=we(l);c.p_.add(4),await zu(c),c.S_.set("Unknown"),c.p_.delete(4),await Hp(c)}(this))})}),this.S_=new Fj(r,o)}}async function Hp(e){if(ws(e))for(const t of e.y_)await t(!0)}async function zu(e){for(const t of e.y_)await t(!1)}function d$(e,t){const n=we(e);n.g_.has(t.targetId)||(n.g_.set(t.targetId,t),P_(n)?I_(n):al(n).$o()&&R_(n,t))}function f$(e,t){const n=we(e),r=al(n);n.g_.delete(t),r.$o()&&h$(n,t),n.g_.size===0&&(r.$o()?r.Go():ws(n)&&n.S_.set("Unknown"))}function R_(e,t){if(e.b_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ge.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}al(e).r_(t)}function h$(e,t){e.b_.Be(t),al(e).i_(t)}function I_(e){e.b_=new z5({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.g_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),al(e).start(),e.S_.d_()}function P_(e){return ws(e)&&!al(e).Ko()&&e.g_.size>0}function ws(e){return we(e).p_.size===0}function p$(e){e.b_=void 0}async function Uj(e){e.g_.forEach((t,n)=>{R_(e,t)})}async function Bj(e,t){p$(e),P_(e)?(e.S_.V_(t),I_(e)):e.S_.set("Unknown")}async function zj(e,t,n){if(e.S_.set("Online"),t instanceof e$&&t.state===2&&t.cause)try{await async function(o,i){const s=i.cause;for(const a of i.targetIds)o.g_.has(a)&&(await o.remoteSyncer.rejectListen(a,s),o.g_.delete(a),o.b_.removeTarget(a))}(e,t)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ch(e,r)}else if(t instanceof Tf?e.b_.We(t):t instanceof ZA?e.b_.Ze(t):e.b_.je(t),!n.isEqual(ge.min()))try{const r=await l$(e.localStore);n.compareTo(r)>=0&&await function(i,s){const a=i.b_.st(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.g_.get(c);u&&i.g_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=i.g_.get(l);if(!u)return;i.g_.set(l,u.withResumeToken(rn.EMPTY_BYTE_STRING,u.snapshotVersion)),h$(i,l);const f=new Ho(u.target,l,c,u.sequenceNumber);R_(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Ch(e,r)}}async function Ch(e,t,n){if(!Fu(t))throw t;e.p_.add(1),await zu(e),e.S_.set("Offline"),n||(n=()=>l$(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),e.p_.delete(1),await Hp(e)})}function m$(e,t){return t().catch(n=>Ch(e,n,t))}async function Wp(e){const t=we(e),n=di(t);let r=t.f_.length>0?t.f_[t.f_.length-1].batchId:-1;for(;Hj(t);)try{const o=await Ij(t.localStore,r);if(o===null){t.f_.length===0&&n.Go();break}r=o.batchId,Wj(t,o)}catch(o){await Ch(t,o)}g$(t)&&v$(t)}function Hj(e){return ws(e)&&e.f_.length<10}function Wj(e,t){e.f_.push(t);const n=di(e);n.$o()&&n.o_&&n.__(t.mutations)}function g$(e){return ws(e)&&!di(e).Ko()&&e.f_.length>0}function v$(e){di(e).start()}async function Gj(e){di(e).c_()}async function Kj(e){const t=di(e);for(const n of e.f_)t.__(n.mutations)}async function qj(e,t,n){const r=e.f_.shift(),o=__.from(r,t,n);await m$(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Wp(e)}async function Qj(e,t){t&&di(e).o_&&await async function(r,o){if(function(s){return j5(s)&&s!==O.ABORTED}(o.code)){const i=r.f_.shift();di(r).Wo(),await m$(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,o)),await Wp(r)}}(e,t),g$(e)&&v$(e)}async function Yb(e,t){const n=we(e);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=ws(n);n.p_.add(3),await zu(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.p_.delete(3),await Hp(n)}async function Xj(e,t){const n=we(e);t?(n.p_.delete(2),await Hp(n)):t||(n.p_.add(2),await zu(n),n.S_.set("Unknown"))}function al(e){return e.D_||(e.D_=function(n,r,o){const i=we(n);return i.h_(),new Oj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(e.datastore,e.asyncQueue,{_o:Uj.bind(null,e),uo:Bj.bind(null,e),n_:zj.bind(null,e)}),e.y_.push(async t=>{t?(e.D_.Wo(),P_(e)?I_(e):e.S_.set("Unknown")):(await e.D_.stop(),p$(e))})),e.D_}function di(e){return e.v_||(e.v_=function(n,r,o){const i=we(n);return i.h_(),new Lj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(e.datastore,e.asyncQueue,{_o:Gj.bind(null,e),uo:Qj.bind(null,e),u_:Kj.bind(null,e),a_:qj.bind(null,e)}),e.y_.push(async t=>{t?(e.v_.Wo(),await Wp(e)):(await e.v_.stop(),e.f_.length>0&&(ne("RemoteStore",`Stopping write stream with ${e.f_.length} pending writes`),e.f_=[]))})),e.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(t,n,r,o,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(t,n,r,o,i){const s=Date.now()+r,a=new A_(t,n,s,o,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $_(e,t){if(vo("AsyncQueue",`${t}: ${e}`),Fu(e))return new Q(O.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t){this.comparator=t?(n,r)=>t(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new it(this.comparator)}static emptySet(t){return new Ea(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ea)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.C_=new it(oe.comparator)}track(t){const n=t.doc.key,r=this.C_.get(n);r?t.type!==0&&r.type===3?this.C_=this.C_.insert(n,t):t.type===3&&r.type!==1?this.C_=this.C_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.C_=this.C_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.C_=this.C_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.C_=this.C_.remove(n):t.type===1&&r.type===2?this.C_=this.C_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.C_=this.C_.insert(n,{type:2,doc:t.doc}):fe():this.C_=this.C_.insert(n,t)}F_(){const t=[];return this.C_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ba{constructor(t,n,r,o,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,o,i){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ba(t,n,Ea.emptySet(n),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.M_=void 0,this.listeners=[]}}class Jj{constructor(){this.queries=new sl(t=>FA(t),Vp),this.onlineState="Unknown",this.x_=new Set}}async function k_(e,t){const n=we(e),r=t.query;let o=!1,i=n.queries.get(r);if(i||(o=!0,i=new Yj),o)try{i.M_=await n.onListen(r)}catch(s){const a=$_(s,`Initialization of query '${Fy(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.O_(n.onlineState),i.M_&&t.N_(i.M_)&&N_(n)}async function D_(e,t){const n=we(e),r=t.query;let o=!1;const i=n.queries.get(r);if(i){const s=i.listeners.indexOf(t);s>=0&&(i.listeners.splice(s,1),o=i.listeners.length===0)}if(o)return n.queries.delete(r),n.onUnlisten(r)}function Zj(e,t){const n=we(e);let r=!1;for(const o of t){const i=o.query,s=n.queries.get(i);if(s){for(const a of s.listeners)a.N_(o)&&(r=!0);s.M_=o}}r&&N_(n)}function e7(e,t,n){const r=we(e),o=r.queries.get(t);if(o)for(const i of o.listeners)i.onError(n);r.queries.delete(t)}function N_(e){e.x_.forEach(t=>{t.next()})}class M_{constructor(t,n,r){this.query=t,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}N_(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ba(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.L_?this.q_(t)&&(this.B_.next(t),n=!0):this.Q_(t,this.onlineState)&&(this.K_(t),n=!0),this.k_=t,n}onError(t){this.B_.error(t)}O_(t){this.onlineState=t;let n=!1;return this.k_&&!this.L_&&this.Q_(this.k_,t)&&(this.K_(this.k_),n=!0),n}Q_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.U_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}q_(t){if(t.docChanges.length>0)return!0;const n=this.k_&&this.k_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}K_(t){t=Ba.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.L_=!0,this.B_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(t){this.key=t}}class w${constructor(t){this.key=t}}class t7{constructor(t,n){this.query=t,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=xe(),this.mutatedKeys=xe(),this.ta=jA(t),this.na=new Ea(this.ta)}get ra(){return this.Z_}ia(t,n){const r=n?n.sa:new Jb,o=n?n.na:this.na;let i=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,c=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((u,f)=>{const h=o.get(u),p=Fp(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(r.track({type:3,doc:p}),w=!0):this.oa(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ta(p,l)>0||c&&this.ta(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||c)&&(a=!0)),w&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{na:s,sa:r,zi:a,mutatedKeys:i}}oa(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const o=this.na;this.na=t.na,this.mutatedKeys=t.mutatedKeys;const i=t.sa.F_();i.sort((c,u)=>function(h,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return g(h)-g(p)}(c.type,u.type)||this.ta(c.doc,u.doc)),this._a(r);const s=n?this.aa():[],a=this.ea.size===0&&this.current?1:0,l=a!==this.X_;return this.X_=a,i.length!==0||l?{snapshot:new Ba(this.query,t.na,o,i,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ua:s}:{ua:s}}O_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({na:this.na,sa:new Jb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(t){return!this.Z_.has(t)&&!!this.na.has(t)&&!this.na.get(t).hasLocalMutations}_a(t){t&&(t.addedDocuments.forEach(n=>this.Z_=this.Z_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Z_=this.Z_.delete(n)),this.current=t.current)}aa(){if(!this.current)return[];const t=this.ea;this.ea=xe(),this.na.forEach(r=>{this.ca(r.key)&&(this.ea=this.ea.add(r.key))});const n=[];return t.forEach(r=>{this.ea.has(r)||n.push(new w$(r))}),this.ea.forEach(r=>{t.has(r)||n.push(new y$(r))}),n}la(t){this.Z_=t.ss,this.ea=xe();const n=this.ia(t.documents);return this.applyChanges(n,!0)}ha(){return Ba.fromInitialDocuments(this.query,this.na,this.mutatedKeys,this.X_===0,this.hasCachedResults)}}class n7{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class r7{constructor(t){this.key=t,this.Pa=!1}}class o7{constructor(t,n,r,o,i,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ia={},this.Ta=new sl(a=>FA(a),Vp),this.Ea=new Map,this.da=new Set,this.Aa=new it(oe.comparator),this.Ra=new Map,this.Va=new S_,this.ma={},this.fa=new Map,this.ga=Ua.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return this.pa===!0}}async function i7(e,t){const n=m7(e);let r,o;const i=n.Ta.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),o=i.view.ha();else{const s=await Pj(n.localStore,yo(t)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,o=await s7(n,t,r,a==="current",s.resumeToken),n.isPrimaryClient&&d$(n.remoteStore,s)}return o}async function s7(e,t,n,r,o){e.ya=(f,h,p)=>async function(m,w,v,y){let E=w.view.ia(v);E.zi&&(E=await qb(m.localStore,w.query,!1).then(({documents:S})=>w.view.ia(S,E)));const _=y&&y.targetChanges.get(w.targetId),b=w.view.applyChanges(E,m.isPrimaryClient,_);return eS(m,w.targetId,b.ua),b.snapshot}(e,f,h,p);const i=await qb(e.localStore,t,!0),s=new t7(t,i.ss),a=s.ia(i.documents),l=Bu.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",o),c=s.applyChanges(a,e.isPrimaryClient,l);eS(e,n,c.ua);const u=new n7(t,n,s);return e.Ta.set(t,u),e.Ea.has(n)?e.Ea.get(n).push(t):e.Ea.set(n,[t]),c.snapshot}async function a7(e,t){const n=we(e),r=n.Ta.get(t),o=n.Ea.get(r.targetId);if(o.length>1)return n.Ea.set(r.targetId,o.filter(i=>!Vp(i,t))),void n.Ta.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Hy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),f$(n.remoteStore,r.targetId),Wy(n,r.targetId)}).catch(Vu)):(Wy(n,r.targetId),await Hy(n.localStore,r.targetId,!0))}async function l7(e,t,n){const r=g7(e);try{const o=await function(s,a){const l=we(s),c=Ge.now(),u=a.reduce((p,g)=>p.add(g.key),xe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=wo(),m=xe();return l.Xi.getEntries(p,u).next(w=>{g=w,g.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{f=w;const v=[];for(const y of a){const E=M5(y,f.get(y.key).overlayedDocument);E!=null&&v.push(new Ci(y.key,E,AA(E.value.mapValue),ur.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,a)}).next(w=>{h=w;const v=w.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,w.batchId,v)})}).then(()=>({batchId:h.batchId,changes:BA(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(s,a,l){let c=s.ma[s.currentUser.toKey()];c||(c=new it(Oe)),c=c.insert(a,l),s.ma[s.currentUser.toKey()]=c}(r,o.batchId,n),await Hu(r,o.changes),await Wp(r.remoteStore)}catch(o){const i=$_(o,"Failed to persist write");n.reject(i)}}async function _$(e,t){const n=we(e);try{const r=await Tj(n.localStore,t);t.targetChanges.forEach((o,i)=>{const s=n.Ra.get(i);s&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.Pa=!0:o.modifiedDocuments.size>0?Ke(s.Pa):o.removedDocuments.size>0&&(Ke(s.Pa),s.Pa=!1))}),await Hu(n,r,t)}catch(r){await Vu(r)}}function Zb(e,t,n){const r=we(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Ta.forEach((i,s)=>{const a=s.view.O_(t);a.snapshot&&o.push(a.snapshot)}),function(s,a){const l=we(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.listeners)h.O_(a)&&(c=!0)}),c&&N_(l)}(r.eventManager,t),o.length&&r.Ia.n_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function c7(e,t,n){const r=we(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Ra.get(t),i=o&&o.key;if(i){let s=new it(oe.comparator);s=s.insert(i,Qt.newNoDocument(i,ge.min()));const a=xe().add(i),l=new Bp(ge.min(),new Map,new it(Oe),s,a);await _$(r,l),r.Aa=r.Aa.remove(i),r.Ra.delete(t),O_(r)}else await Hy(r.localStore,t,!1).then(()=>Wy(r,t,n)).catch(Vu)}async function u7(e,t){const n=we(e),r=t.batch.batchId;try{const o=await Cj(n.localStore,t);x$(n,r,null),E$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(n,o)}catch(o){await Vu(o)}}async function d7(e,t,n){const r=we(e);try{const o=await function(s,a){const l=we(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ke(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);x$(r,t,n),E$(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Hu(r,o)}catch(o){await Vu(o)}}function E$(e,t){(e.fa.get(t)||[]).forEach(n=>{n.resolve()}),e.fa.delete(t)}function x$(e,t,n){const r=we(e);let o=r.ma[r.currentUser.toKey()];if(o){const i=o.get(t);i&&(n?i.reject(n):i.resolve(),o=o.remove(t)),r.ma[r.currentUser.toKey()]=o}}function Wy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ea.get(t))e.Ta.delete(r),n&&e.Ia.wa(r,n);e.Ea.delete(t),e.isPrimaryClient&&e.Va.Ar(t).forEach(r=>{e.Va.containsKey(r)||b$(e,r)})}function b$(e,t){e.da.delete(t.path.canonicalString());const n=e.Aa.get(t);n!==null&&(f$(e.remoteStore,n),e.Aa=e.Aa.remove(t),e.Ra.delete(n),O_(e))}function eS(e,t,n){for(const r of n)r instanceof y$?(e.Va.addReference(r.key,t),f7(e,r)):r instanceof w$?(ne("SyncEngine","Document no longer in limbo: "+r.key),e.Va.removeReference(r.key,t),e.Va.containsKey(r.key)||b$(e,r.key)):fe()}function f7(e,t){const n=t.key,r=n.path.canonicalString();e.Aa.get(n)||e.da.has(r)||(ne("SyncEngine","New document in limbo: "+n),e.da.add(r),O_(e))}function O_(e){for(;e.da.size>0&&e.Aa.size<e.maxConcurrentLimboResolutions;){const t=e.da.values().next().value;e.da.delete(t);const n=new oe(He.fromString(t)),r=e.ga.next();e.Ra.set(r,new r7(n)),e.Aa=e.Aa.insert(n,r),d$(e.remoteStore,new Ho(yo(Lp(n.path)),r,"TargetPurposeLimboResolution",f_.ae))}}async function Hu(e,t,n){const r=we(e),o=[],i=[],s=[];r.Ta.isEmpty()||(r.Ta.forEach((a,l)=>{s.push(r.ya(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){o.push(c);const u=T_.qi(l.targetId,c);i.push(u)}}))}),await Promise.all(s),r.Ia.n_(o),await async function(l,c){const u=we(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,h=>H.forEach(h.Li,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>H.forEach(h.ki,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Fu(f))throw f;ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ji.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ji=u.Ji.insert(h,m)}}}(r.localStore,i))}async function h7(e,t){const n=we(e);if(!n.currentUser.isEqual(t)){ne("SyncEngine","User change. New user:",t.toKey());const r=await a$(n.localStore,t);n.currentUser=t,function(i,s){i.fa.forEach(a=>{a.forEach(l=>{l.reject(new Q(O.CANCELLED,s))})}),i.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Hu(n,r.ts)}}function p7(e,t){const n=we(e),r=n.Ra.get(t);if(r&&r.Pa)return xe().add(r.key);{let o=xe();const i=n.Ea.get(t);if(!i)return o;for(const s of i){const a=n.Ta.get(s);o=o.unionWith(a.view.ra)}return o}}function m7(e){const t=we(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=p7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=c7.bind(null,t),t.Ia.n_=Zj.bind(null,t.eventManager),t.Ia.wa=e7.bind(null,t.eventManager),t}function g7(e){const t=we(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=u7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=d7.bind(null,t),t}class tS{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=zp(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Sj(this.persistence,new xj,t.initialUser,this.serializer)}createPersistence(t){return new _j(C_.zr,this.serializer)}createSharedClientState(t){return new $j}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class v7{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=h7.bind(null,this.syncEngine),await Xj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Jj}()}createDatastore(t){const n=zp(t.databaseInfo.databaseId),r=function(i){return new Mj(i)}(t.databaseInfo);return function(i,s,a,l){return new Vj(i,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,o,i,s,a){return new jj(r,o,i,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Zb(this.syncEngine,n,0),function(){return Xb.v()?new Xb:new kj}())}createSyncEngine(t,n){return function(o,i,s,a,l,c,u){const f=new o7(o,i,s,a,l,c);return u&&(f.pa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=we(n);ne("RemoteStore","RemoteStore shutting down."),r.p_.add(5),await zu(r),r.w_.shutdown(),r.S_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Da(this.observer.next,t)}error(t){this.observer.error?this.Da(this.observer.error,t):vo("Uncaught Error in snapshot listener:",t.toString())}va(){this.muted=!0}Da(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(t,n,r,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=RA.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ne("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ne("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=$_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Cg(e,t){e.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async o=>{r.isEqual(o)||(await a$(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function nS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await _7(e);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(o=>Yb(t.remoteStore,o)),e.setAppCheckTokenChangeListener((o,i)=>Yb(t.remoteStore,i)),e._onlineComponents=t}function w7(e){return e.name==="FirebaseError"?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function _7(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!w7(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Cg(e,new tS)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await Cg(e,new tS);return e._offlineComponents}async function S$(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await nS(e,e._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await nS(e,new v7))),e._onlineComponents}function E7(e){return S$(e).then(t=>t.syncEngine)}async function Th(e){const t=await S$(e),n=t.eventManager;return n.onListen=i7.bind(null,t.syncEngine),n.onUnlisten=a7.bind(null,t.syncEngine),n}function x7(e,t,n={}){const r=new io;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,a,l,c){const u=new L_({next:h=>{s.enqueueAndForget(()=>D_(i,f));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new Q(O.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Q(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new M_(Lp(a.path),u,{includeMetadataChanges:!0,U_:!0});return k_(i,f)}(await Th(e),e.asyncQueue,t,n,r)),r.promise}function b7(e,t,n={}){const r=new io;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,a,l,c){const u=new L_({next:h=>{s.enqueueAndForget(()=>D_(i,f)),h.fromCache&&l.source==="server"?c.reject(new Q(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new M_(a,u,{includeMetadataChanges:!0,U_:!0});return k_(i,f)}(await Th(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(e,t,n){if(!n)throw new Q(O.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function S7(e,t,n,r){if(t===!0&&r===!0)throw new Q(O.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function oS(e){if(!oe.isDocumentKey(e))throw new Q(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function iS(e){if(oe.isDocumentKey(e))throw new Q(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Gp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":fe()}function qn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Q(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(e);throw new Q(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Q(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Q(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}S7("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C$((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kp{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Q(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sS(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K6;switch(r.type){case"firstParty":return new Y6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rS.get(n);r&&(ne("ComponentProvider","Removing Datastore"),rS.delete(n),r.terminate())}(this),Promise.resolve()}}function C7(e,t,n,r={}){var o;const i=(e=qn(e,Kp))._getSettings(),s=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Kt.MOCK_USER;else{a=yP(r.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Kt(c)}e._authCredentials=new q6(new TA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new _s(this.firestore,t,this._query)}}class un{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new un(this.firestore,t,this._key)}}class ni extends _s{constructor(t,n,r){super(t,n,Lp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new un(this.firestore,null,new oe(t))}withConverter(t){return new ni(this.firestore,t,this._path)}}function Ie(e,t,...n){if(e=ot(e),T$("collection","path",t),e instanceof Kp){const r=He.fromString(t,...n);return iS(r),new ni(e,null,r)}{if(!(e instanceof un||e instanceof ni))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(He.fromString(t,...n));return iS(r),new ni(e.firestore,null,r)}}function _t(e,t,...n){if(e=ot(e),arguments.length===1&&(t=RA.V()),T$("doc","path",t),e instanceof Kp){const r=He.fromString(t,...n);return oS(r),new un(e,null,new oe(r))}{if(!(e instanceof un||e instanceof ni))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(He.fromString(t,...n));return oS(r),new un(e.firestore,e instanceof ni?e.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new c$(this,"async_queue_retry"),this.Za=()=>{const n=Sg();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Qo.Oo()};const t=Sg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xa(),this.eu(t)}enterRestrictedMode(t){if(!this.Ga){this.Ga=!0,this.Ja=t||!1;const n=Sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Za)}}enqueue(t){if(this.Xa(),this.Ga)return new Promise(()=>{});const n=new io;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Wa.push(t),this.tu()))}async tu(){if(this.Wa.length!==0){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(t){if(!Fu(t))throw t;ne("AsyncQueue","Operation failed with retryable error: "+t)}this.Wa.length>0&&this.Qo.Mo(()=>this.tu())}}eu(t){const n=this.Ua.then(()=>(this.Ha=!0,t().catch(r=>{this.ja=r,this.Ha=!1;const o=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw vo("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ha=!1,r))));return this.Ua=n,n}enqueueAfterDelay(t,n,r){this.Xa(),this.Ya.indexOf(t)>-1&&(n=0);const o=A_.createAndSchedule(this,t,n,r,i=>this.nu(i));return this.za.push(o),o}Xa(){this.ja&&fe()}verifyOperationInProgress(){}async ru(){let t;do t=this.Ua,await t;while(t!==this.Ua)}iu(t){for(const n of this.za)if(n.timerId===t)return!0;return!1}su(t){return this.ru().then(()=>{this.za.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.za)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ru()})}ou(t){this.Ya.push(t)}nu(t){const n=this.za.indexOf(t);this.za.splice(n,1)}}function aS(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const i of r)if(i in o&&typeof o[i]=="function")return!0;return!1}(e,["next","error","complete"])}class fi extends Kp{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=function(){return new T7}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||R$(this),this._firestoreClient.terminate()}}function R7(e,t){const n=typeof e=="object"?e:Bw(),r=typeof e=="string"?e:t||"(default)",o=_p(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const i=mP("firestore");i&&C7(o,...i)}return o}function qp(e){return e._firestoreClient||R$(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function R$(e){var t,n,r;const o=e._freezeSettings(),i=function(a,l,c,u){return new c5(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,C$(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new y7(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this._byteString=t}static fromBase64String(t){try{return new za(rn.fromBase64String(t))}catch(n){throw new Q(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new za(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Q(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Q(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Q(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Oe(this._lat,t._lat)||Oe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=/^__.*__$/;class P7{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ci(t,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(t,this.data,n,this.fieldTransforms)}}class I${constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ci(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function P$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class j_{constructor(t,n,r,o,i,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,i===void 0&&this._u(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(t){return new j_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.uu({path:r,lu:!1});return o.hu(t),o}Pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.uu({path:r,lu:!1});return o._u(),o}Iu(t){return this.uu({path:void 0,lu:!0})}Tu(t){return Rh(t,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_u(){if(this.path)for(let t=0;t<this.path.length;t++)this.hu(this.path.get(t))}hu(t){if(t.length===0)throw this.Tu("Document fields must not be empty");if(P$(this.au)&&I7.test(t))throw this.Tu('Document fields cannot begin and end with "__"')}}class A7{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||zp(t)}Au(t,n,r,o=!1){return new j_({au:t,methodName:n,du:r,path:Xt.emptyPath(),lu:!1,Eu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U_(e){const t=e._freezeSettings(),n=zp(e._databaseId);return new A7(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $7(e,t,n,r,o,i={}){const s=e.Au(i.merge||i.mergeFields?2:0,t,n,o);B_("Data must be an object, but it was:",s,r);const a=A$(r,s);let l,c;if(i.merge)l=new An(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=Gy(t,f,n);if(!s.contains(h))throw new Q(O.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);k$(u,h)||u.push(h)}l=new An(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new P7(new vn(a),l,c)}class Xp extends V_{_toFieldTransform(t){if(t.au!==2)throw t.au===1?t.Tu(`${this._methodName}() can only appear at the top level of your update data`):t.Tu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xp}}function k7(e,t,n,r){const o=e.Au(1,t,n);B_("Data must be an object, but it was:",o,r);const i=[],s=vn.empty();ys(r,(l,c)=>{const u=z_(t,l,n);c=ot(c);const f=o.Pu(u);if(c instanceof Xp)i.push(u);else{const h=Wu(c,f);h!=null&&(i.push(u),s.set(u,h))}});const a=new An(i);return new I$(s,a,o.fieldTransforms)}function D7(e,t,n,r,o,i){const s=e.Au(1,t,n),a=[Gy(t,r,n)],l=[o];if(i.length%2!=0)throw new Q(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Gy(t,i[h])),l.push(i[h+1]);const c=[],u=vn.empty();for(let h=a.length-1;h>=0;--h)if(!k$(c,a[h])){const p=a[h];let g=l[h];g=ot(g);const m=s.Pu(p);if(g instanceof Xp)c.push(p);else{const w=Wu(g,m);w!=null&&(c.push(p),u.set(p,w))}}const f=new An(c);return new I$(u,f,s.fieldTransforms)}function N7(e,t,n,r=!1){return Wu(n,e.Au(r?4:3,t))}function Wu(e,t){if($$(e=ot(e)))return B_("Unsupported field value:",t,e),A$(e,t);if(e instanceof V_)return function(r,o){if(!P$(o.au))throw o.Tu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.lu&&t.au!==4)throw t.Tu("Nested arrays are not supported");return function(r,o){const i=[];let s=0;for(const a of r){let l=Wu(a,o.Iu(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(r,o){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P5(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ge.fromDate(r);return{timestampValue:Sh(o.serializer,i)}}if(r instanceof Ge){const i=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,i)}}if(r instanceof F_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof za)return{bytesValue:t$(o.serializer,r._byteString)};if(r instanceof un){const i=o.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw o.Tu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:b_(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Tu(`Unsupported field value: ${Gp(r)}`)}(e,t)}function A$(e,t){const n={};return IA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ys(e,(r,o)=>{const i=Wu(o,t.cu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $$(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ge||e instanceof F_||e instanceof za||e instanceof un||e instanceof V_)}function B_(e,t,n){if(!$$(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=Gp(n);throw r==="an object"?t.Tu(e+" a custom object"):t.Tu(e+" "+r)}}function Gy(e,t,n){if((t=ot(t))instanceof Qp)return t._internalPath;if(typeof t=="string")return z_(e,t);throw Rh("Field path arguments must be of type string or ",e,!1,void 0,n)}const M7=new RegExp("[~\\*/\\[\\]]");function z_(e,t,n){if(t.search(M7)>=0)throw Rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Qp(...t.split("."))._internalPath}catch{throw Rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Rh(e,t,n,r,o){const i=r&&!r.isEmpty(),s=o!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${r}`),s&&(l+=` in document ${o}`),l+=")"),new Q(O.INVALID_ARGUMENT,a+e+l)}function k$(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(t,n,r,o,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new O7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(H_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class O7 extends D${data(){return super.data()}}function H_(e,t){return typeof t=="string"?z_(e,t):t instanceof Qp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Q(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W_{}class L7 extends W_{}function Je(e,t,...n){let r=[];t instanceof W_&&r.push(t),r=r.concat(n),function(i){const s=i.filter(l=>l instanceof G_).length,a=i.filter(l=>l instanceof Yp).length;if(s>1||s>0&&a>0)throw new Q(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)e=o._apply(e);return e}class Yp extends L7{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Yp(t,n,r)}_apply(t){const n=this._parse(t);return M$(t._query,n),new _s(t.firestore,t.converter,Ly(t._query,n))}_parse(t){const n=U_(t.firestore);return function(i,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Q(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){cS(f,u);const p=[];for(const g of f)p.push(lS(l,i,g));h={arrayValue:{values:p}}}else h=lS(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||cS(f,u),h=N7(a,s,f,u==="in"||u==="not-in");return wt.create(c,u,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function De(e,t,n){const r=t,o=H_("where",e);return Yp._create(o,r,n)}class G_ extends W_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new G_(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,i){let s=o;const a=i.getFlattenedFilters();for(const l of a)M$(s,l),s=Ly(s,l)}(t._query,n),new _s(t.firestore,t.converter,Ly(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lS(e,t,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new Q(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VA(t)&&n.indexOf("/")!==-1)throw new Q(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(He.fromString(n));if(!oe.isDocumentKey(r))throw new Q(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $b(e,new oe(r))}if(n instanceof un)return $b(e,n._key);throw new Q(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(n)}.`)}function cS(e,t){if(!Array.isArray(e)||e.length===0)throw new Q(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function M$(e,t){if(t.isInequality()){const r=y_(e),o=t.field;if(r!==null&&!r.isEqual(o))throw new Q(O.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const i=LA(e);i!==null&&V7(e,o,i)}const n=function(o,i){for(const s of o)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Q(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Q(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function V7(e,t,n){if(!n.isEqual(t))throw new Q(O.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class F7{convertValue(t,n="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw fe()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ys(t,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new F_(vt(t.latitude),vt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=p_(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(t));default:return null}}convertTimestamp(t){const n=ui(t);return new Ge(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=He.fromString(t);Ke(s$(r));const o=new ru(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return o.isEqual(n)||vo(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class O$ extends D${constructor(t,n,r,o,i,s){super(t,n,r,o,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(H_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rf extends O${data(t={}){return super.data(t)}}class L${constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ec(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Rf(this._firestore,this._userDataWriter,r.key,r,new ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(a=>{const l=new Rf(o._firestore,o._userDataWriter,a.doc.key,a.doc,new ec(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Rf(o._firestore,o._userDataWriter,a.doc.key,a.doc,new ec(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:U7(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function U7(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(e){e=qn(e,un);const t=qn(e.firestore,fi);return x7(qp(t),e._key).then(n=>V$(t,e,n))}class K_ extends F7{constructor(t){super(),this.firestore=t}convertBytes(t){return new za(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new un(this.firestore,null,n)}}function Qe(e){e=qn(e,_s);const t=qn(e.firestore,fi),n=qp(t),r=new K_(t);return N$(e._query),b7(n,e._query).then(o=>new L$(t,r,e,o))}function qi(e,t,n,...r){e=qn(e,un);const o=qn(e.firestore,fi),i=U_(o);let s;return s=typeof(t=ot(t))=="string"||t instanceof Qp?D7(i,"updateDoc",e._key,t,n,r):k7(i,"updateDoc",e._key,t),q_(o,[s.toMutation(e._key,ur.exists(!0))])}function B7(e){return q_(qn(e.firestore,fi),[new w_(e._key,ur.none())])}function Gu(e,t){const n=qn(e.firestore,fi),r=_t(e),o=j7(e.converter,t);return q_(n,[$7(U_(e.firestore),"addDoc",r._key,o,e.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function ri(e,...t){var n,r,o;e=ot(e);let i={includeMetadataChanges:!1},s=0;typeof t[s]!="object"||aS(t[s])||(i=t[s],s++);const a={includeMetadataChanges:i.includeMetadataChanges};if(aS(t[s])){const f=t[s];t[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[s+2]=(o=f.complete)===null||o===void 0?void 0:o.bind(f)}let l,c,u;if(e instanceof un)c=qn(e.firestore,fi),u=Lp(e._key.path),l={next:f=>{t[s]&&t[s](V$(c,e,f))},error:t[s+1],complete:t[s+2]};else{const f=qn(e,_s);c=qn(f.firestore,fi),u=f._query;const h=new K_(c);l={next:p=>{t[s]&&t[s](new L$(c,h,f,p))},error:t[s+1],complete:t[s+2]},N$(e._query)}return function(h,p,g,m){const w=new L_(m),v=new M_(p,w,g);return h.asyncQueue.enqueueAndForget(async()=>k_(await Th(h),v)),()=>{w.va(),h.asyncQueue.enqueueAndForget(async()=>D_(await Th(h),v))}}(qp(c),u,a,l)}function q_(e,t){return function(r,o){const i=new io;return r.asyncQueue.enqueueAndForget(async()=>l7(await E7(r),o,i)),i.promise}(qp(e),t)}function V$(e,t,n){const r=n.docs.get(t._key),o=new K_(e);return new O$(e,o,t._key,r,new ec(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){il=o})(gs),os(new li("firestore",(r,{instanceIdentifier:o,options:i})=>{const s=r.getProvider("app").getImmediate(),a=new fi(new Q6(r.getProvider("auth-internal")),new Z6(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(c.options.projectId,u)}(s,o),s);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),$r(Tb,"4.0.0",t),$r(Tb,"4.0.0","esm2017")})();var z7="firebase",H7="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(z7,H7,"app");var Yt=function(){return Yt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yt.apply(this,arguments)};function ll(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function F$(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function j$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W7=j$,U$=new Ru("auth","Firebase",j$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new jw("@firebase/auth");function G7(e,...t){Ih.logLevel<=Ne.WARN&&Ih.warn(`Auth (${gs}): ${e}`,...t)}function If(e,...t){Ih.logLevel<=Ne.ERROR&&Ih.error(`Auth (${gs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(e,...t){throw Q_(e,...t)}function Dr(e,...t){return Q_(e,...t)}function B$(e,t,n){const r=Object.assign(Object.assign({},W7()),{[t]:n});return new Ru("auth","Firebase",r).create(t,{appName:e.name})}function K7(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Yn(e,"argument-error"),B$(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Q_(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return U$.create(e,...t)}function de(e,t,...n){if(!e)throw Q_(t,...n)}function Zr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw If(t),new Error(t)}function _o(e,t){e||Zr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function q7(){return uS()==="http:"||uS()==="https:"}function uS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q7()||b4()||"connection"in navigator)?navigator.onLine:!0}function X7(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,n){this.shortDelay=t,this.longDelay=n,_o(n>t,"Short delay should be less than long delay!"),this.isMobile=E4()||S4()}get(){return Q7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e,t){_o(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=new Ku(3e4,6e4);function cl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ul(e,t,n,r,o={}){return H$(e,o,async()=>{let i={},s={};r&&(t==="GET"?s=r:i={body:JSON.stringify(r)});const a=Iu(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),z$.fetch()(W$(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},i))})}async function H$(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y7),t);try{const o=new Z7(e),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ud(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ud(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ud(e,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw B$(e,u,c);Yn(e,u)}}catch(o){if(o instanceof jr)throw o;Yn(e,"network-request-failed",{message:String(o)})}}async function qu(e,t,n,r,o={}){const i=await ul(e,t,n,r,o);return"mfaPendingCredential"in i&&Yn(e,"multi-factor-auth-required",{_serverResponse:i}),i}function W$(e,t,n,r){const o=`${t}${n}?${r}`;return e.config.emulator?X_(e.config,o):`${e.config.apiScheme}://${o}`}class Z7{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),J7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ud(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Dr(e,t,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(e,t){return ul(e,"POST","/v1/accounts:delete",t)}async function t9(e,t){return ul(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function n9(e,t=!1){const n=ot(e),r=await n.getIdToken(t),o=Y_(r);de(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:vc(Tg(o.auth_time)),issuedAtTime:vc(Tg(o.iat)),expirationTime:vc(Tg(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Tg(e){return Number(e)*1e3}function Y_(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const o=hP(n);return o?JSON.parse(o):(If("Failed to decode base64 JWT payload"),null)}catch(o){return If("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function r9(e){const t=Y_(e);return de(t,"internal-error"),de(typeof t.exp<"u","internal-error"),de(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof jr&&o9(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function o9({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(e){var t;const n=e.auth,r=await e.getIdToken(),o=await au(e,t9(n,{idToken:r}));de(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?l9(i.providerUserInfo):[],a=a9(e.providerData,s),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new G$(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,f)}async function s9(e){const t=ot(e);await Ph(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function a9(e,t){return[...e.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function l9(e){return e.map(t=>{var{providerId:n}=t,r=ll(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(e,t){const n=await H$(e,{},async()=>{const r=Iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:i}=e.config,s=W$(e,o,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",z$.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){de(t.idToken,"internal-error"),de(typeof t.idToken<"u","internal-error"),de(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r9(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return de(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await c9(t,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new lu;return r&&(de(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),o&&(de(typeof o=="string","internal-error",{appName:t}),s.accessToken=o),i&&(de(typeof i=="number","internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lu,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(e,t){de(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Qi{constructor(t){var{uid:n,auth:r,stsTokenManager:o}=t,i=ll(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G$(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await au(this,this.stsTokenManager.getToken(this.auth,t));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return n9(this,t)}reload(){return s9(this)}_assign(t){this!==t&&(de(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Qi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await au(this,e9(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,o,i,s,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(o=n.email)!==null&&o!==void 0?o:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:_,isAnonymous:b,providerData:S,stsTokenManager:C}=n;de(E&&C,t,"internal-error");const T=lu.fromJSON(this.name,C);de(typeof E=="string",t,"internal-error"),Io(f,t.name),Io(h,t.name),de(typeof _=="boolean",t,"internal-error"),de(typeof b=="boolean",t,"internal-error"),Io(p,t.name),Io(g,t.name),Io(m,t.name),Io(w,t.name),Io(v,t.name),Io(y,t.name);const I=new Qi({uid:E,auth:t,email:h,emailVerified:_,displayName:f,isAnonymous:b,photoURL:g,phoneNumber:p,tenantId:m,stsTokenManager:T,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(I.providerData=S.map(M=>Object.assign({},M))),w&&(I._redirectEventId=w),I}static async _fromIdTokenResponse(t,n,r=!1){const o=new lu;o.updateFromServerResponse(n);const i=new Qi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Ph(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function eo(e){_o(e instanceof Function,"Expected a class definition");let t=dS.get(e);return t?(_o(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}K$.type="NONE";const fS=K$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(e,t,n){return`firebase:${e}:${t}:${n}`}class xa{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=Pf(this.userKey,o.apiKey,i),this.fullPersistenceKey=Pf("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Qi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new xa(eo(fS),t,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||eo(fS);const s=Pf(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const f=Qi._fromJSON(t,u);c!==i&&(a=f),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new xa(i,t,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new xa(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(X$(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(q$(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(J$(t))return"Blackberry";if(Z$(t))return"Webos";if(J_(t))return"Safari";if((t.includes("chrome/")||Q$(t))&&!t.includes("edge/"))return"Chrome";if(Y$(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function q$(e=nn()){return/firefox\//i.test(e)}function J_(e=nn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Q$(e=nn()){return/crios\//i.test(e)}function X$(e=nn()){return/iemobile/i.test(e)}function Y$(e=nn()){return/android/i.test(e)}function J$(e=nn()){return/blackberry/i.test(e)}function Z$(e=nn()){return/webos/i.test(e)}function Jp(e=nn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function u9(e=nn()){var t;return Jp(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function d9(){return C4()&&document.documentMode===10}function ek(e=nn()){return Jp(e)||Y$(e)||Z$(e)||J$(e)||/windows phone/i.test(e)||X$(e)}function f9(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(e,t=[]){let n;switch(e){case"Browser":n=hS(nn());break;case"Worker":n=`${hS(nn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${gs}/${r}`}async function nk(e,t){return ul(e,"GET","/v2/recaptchaConfig",cl(e,t))}function pS(e){return e!==void 0&&e.enterprise!==void 0}class rk{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function ok(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=o=>{const i=Dr("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",h9().appendChild(r)})}function p9(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const m9="https://www.google.com/recaptcha/enterprise.js?render=",g9="recaptcha-enterprise",v9="NO_RECAPTCHA";class ik{constructor(t){this.type=g9,this.auth=Es(t)}async verify(t="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,a)=>{nk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new rk(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function o(i,s,a){const l=window.grecaptcha;pS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:t}).then(c=>{s(c)}).catch(()=>{s(v9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{r(this.auth).then(a=>{if(!n&&pS(window.grecaptcha))o(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}ok(m9+a).then(()=>{o(a,i,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function Ah(e,t,n,r=!1){const o=new ik(e);let i;try{i=await o.verify(n)}catch{i=await o.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((s,a)=>{try{const l=t(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mS(this),this.idTokenSubscription=new mS(this),this.beforeStateQueue=new y9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=eo(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await xa.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ph(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=X7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?ot(t):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&de(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(eo(t))})}async initializeRecaptchaConfig(){const t=await nk(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new rk(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ik(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ru("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&eo(t)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[eo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return de(s,this,"internal-error"),s.then(()=>i(this.currentUser)),typeof n=="function"?t.addObserver(n,r,o):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&G7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Es(e){return ot(e)}class mS{constructor(t){this.auth=t,this.observer=null,this.addObserver=k4(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(e,t){const n=_p(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(dh(i,t??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:t})}function E9(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(eo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function x9(e,t,n){const r=Es(e);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=sk(t),{host:s,port:a}=b9(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||S9()}function sk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function b9(e){const t=sk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:gS(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:gS(s)}}}function gS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function S9(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(t){return Zr("not implemented")}_linkToIdToken(t,n){return Zr("not implemented")}_getReauthenticationResolver(t){return Zr("not implemented")}}async function C9(e,t){return ul(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(e,t){return qu(e,"POST","/v1/accounts:signInWithPassword",cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(e,t){return qu(e,"POST","/v1/accounts:signInWithEmailLink",cl(e,t))}async function R9(e,t){return qu(e,"POST","/v1/accounts:signInWithEmailLink",cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Z_{constructor(t,n,r,o=null){super("password",r),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new cu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new cu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const o=await Ah(t,r,"signInWithPassword");return Rg(t,o)}else return Rg(t,r).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await Ah(t,r,"signInWithPassword");return Rg(t,i)}else return Promise.reject(o)});case"emailLink":return T9(t,{email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return C9(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return R9(t,{idToken:n,email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(e,t){return qu(e,"POST","/v1/accounts:signInWithIdp",cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="http://localhost";class ls extends Z_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=n,i=ll(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new ls(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return ba(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ba(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ba(t,n)}buildRequest(){const t={requestUri:I9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Iu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function A9(e){const t=ql(Ql(e)).link,n=t?ql(Ql(t)).deep_link_id:null,r=ql(Ql(e)).deep_link_id;return(r?ql(Ql(r)).link:null)||r||n||t||e}class eE{constructor(t){var n,r,o,i,s,a;const l=ql(Ql(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=P9((o=l.mode)!==null&&o!==void 0?o:null);de(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=A9(t);try{return new eE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(t,n){return cu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=eE.parseLink(n);return de(r,"argument-error"),cu._fromEmailAndCode(t,r.code,r.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends tE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Qu{constructor(){super("facebook.com")}static credential(t){return ls._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ls._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Qu{constructor(){super("github.com")}static credential(t){return ls._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fo.credentialFromTaggedObject(t)}static credentialFromError(t){return Fo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fo.credential(t.oauthAccessToken)}catch{return null}}}Fo.GITHUB_SIGN_IN_METHOD="github.com";Fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Qu{constructor(){super("twitter.com")}static credential(t,n){return ls._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return jo.credentialFromTaggedObject(t)}static credentialFromError(t){return jo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return jo.credential(n,r)}catch{return null}}}jo.TWITTER_SIGN_IN_METHOD="twitter.com";jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(e,t){return qu(e,"POST","/v1/accounts:signUp",cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const i=await Qi._fromIdTokenResponse(t,r,o),s=vS(r);return new cs({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=vS(r);return new cs({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function vS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends jr{constructor(t,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new $h(t,n,r,o)}}function ak(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(e,i,t,r):i})}async function $9(e,t,n=!1){const r=await au(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return cs._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(e,t,n=!1){const{auth:r}=e,o="reauthenticate";try{const i=await au(e,ak(r,o,t,e),n);de(i.idToken,r,"internal-error");const s=Y_(i.idToken);de(s,r,"internal-error");const{sub:a}=s;return de(e.uid===a,r,"user-mismatch"),cs._forOperation(e,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(e,t,n=!1){const r="signIn",o=await ak(e,r,t),i=await cs._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function D9(e,t){return lk(Es(e),t)}async function N9(e,t,n){var r;const o=Es(e),i={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(!((r=o._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await Ah(o,i,"signUpPassword");s=Ig(o,c)}else s=Ig(o,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await Ah(o,i,"signUpPassword");return Ig(o,u)}else return Promise.reject(c)});const a=await s.catch(c=>Promise.reject(c)),l=await cs._fromIdTokenResponse(o,"signIn",a);return await o._updateCurrentUser(l.user),l}function M9(e,t,n){return D9(ot(e),dl.credential(t,n))}function O9(e,t,n,r){return ot(e).onIdTokenChanged(t,n,r)}function L9(e,t,n){return ot(e).beforeAuthStateChanged(t,n)}function V9(e,t,n,r){return ot(e).onAuthStateChanged(t,n,r)}function F9(e){return ot(e).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(){const e=nn();return J_(e)||Jp(e)}const U9=1e3,B9=10;class uk extends ck{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=j9()&&f9(),this.fallbackToPolling=ek(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(t.newValue!==s)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);d9()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,B9):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},U9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}uk.type="LOCAL";const z9=uk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends ck{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dk.type="SESSION";const fk=dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Zp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await H9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=nE("",20);o.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function G9(e){Nr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function K9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q9(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Q9(){return hk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firebaseLocalStorageDb",X9=1,Dh="firebaseLocalStorage",mk="fbase_key";class Xu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function em(e,t){return e.transaction([Dh],t?"readwrite":"readonly").objectStore(Dh)}function Y9(){const e=indexedDB.deleteDatabase(pk);return new Xu(e).toPromise()}function qy(){const e=indexedDB.open(pk,X9);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Dh,{keyPath:mk})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Dh)?t(r):(r.close(),await Y9(),t(await qy()))})})}async function yS(e,t,n){const r=em(e,!0).put({[mk]:t,value:n});return new Xu(r).toPromise()}async function J9(e,t){const n=em(e,!1).get(t),r=await new Xu(n).toPromise();return r===void 0?null:r.value}function wS(e,t){const n=em(e,!0).delete(t);return new Xu(n).toPromise()}const Z9=800,eU=3;class gk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>eU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zp._getInstance(Q9()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await K9(),!this.activeServiceWorker)return;this.sender=new W9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||q9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qy();return await yS(t,kh,"1"),await wS(t,kh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yS(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>J9(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const i=em(o,!1).getAll();return new Xu(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:i}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gk.type="LOCAL";const tU=gk;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(e,t){return t?eo(t):(de(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends Z_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ba(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ba(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function nU(e){return lk(e.auth,new rE(e),e.bypassAuthState)}function rU(e){const{auth:t,user:n}=e;return de(n,t,"internal-error"),k9(n,new rE(e),e.bypassAuthState)}async function oU(e){const{auth:t,user:n}=e;return de(n,t,"internal-error"),$9(n,new rE(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t,n,r,o,i=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nU;case"linkViaPopup":case"linkViaRedirect":return oU;case"reauthViaPopup":case"reauthViaRedirect":return rU;default:Yn(this.auth,"internal-error")}}resolve(t){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new Ku(2e3,1e4);async function _S(e,t,n){const r=Es(e);K7(e,t,tE);const o=vk(r,n);return new Bi(r,"signInViaPopup",t,o).executeNotNull()}class Bi extends yk{constructor(t,n,r,o,i){super(t,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,Bi.currentPopupAction&&Bi.currentPopupAction.cancel(),Bi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return de(t,this.auth,"internal-error"),t}async onExecution(){_o(this.filter.length===1,"Popup operations only handle one event");const t=nE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iU.get())};t()}}Bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="pendingRedirect",Af=new Map;class aU extends yk{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Af.get(this.auth._key());if(!t){try{const r=await lU(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Af.set(this.auth._key(),t)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lU(e,t){const n=dU(t),r=uU(e);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function cU(e,t){Af.set(e._key(),t)}function uU(e){return eo(e._redirectPersistence)}function dU(e){return Pf(sU,e.config.apiKey,e.name)}async function fU(e,t,n=!1){const r=Es(e),o=vk(r,t),s=await new aU(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=10*60*1e3;class pU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!wk(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dr(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hU&&this.cachedEventUids.clear(),this.cachedEventUids.has(ES(t))}saveEventToCache(t){this.cachedEventUids.add(ES(t)),this.lastProcessedEventTime=Date.now()}}function ES(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function wk({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(e,t={}){return ul(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yU=/^https?/;async function wU(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gU(e);for(const n of t)try{if(_U(n))return}catch{}Yn(e,"unauthorized-domain")}function _U(e){const t=Ky(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!yU.test(n))return!1;if(vU.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new Ku(3e4,6e4);function xS(){const e=Nr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function xU(e){return new Promise((t,n)=>{var r,o,i;function s(){xS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xS(),n(Dr(e,"network-request-failed"))},timeout:EU.get()})}if(!((o=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((i=Nr().gapi)===null||i===void 0)&&i.load)s();else{const a=p9("iframefcb");return Nr()[a]=()=>{gapi.load?s():n(Dr(e,"network-request-failed"))},ok(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw $f=null,t})}let $f=null;function bU(e){return $f=$f||xU(e),$f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=new Ku(5e3,15e3),CU="__/auth/iframe",TU="emulator/auth/iframe",RU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PU(e){const t=e.config;de(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?X_(t,TU):`https://${e.config.authDomain}/${CU}`,r={apiKey:t.apiKey,appName:e.name,v:gs},o=IU.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Iu(r).slice(1)}`}async function AU(e){const t=await bU(e),n=Nr().gapi;return de(n,e,"internal-error"),t.open({where:document.body,url:PU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RU,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Dr(e,"network-request-failed"),a=Nr().setTimeout(()=>{i(s)},SU.get());function l(){Nr().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kU=500,DU=600,NU="_blank",MU="http://localhost";class bS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OU(e,t,n,r=kU,o=DU){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$U),{width:r.toString(),height:o.toString(),top:i,left:s}),c=nn().toLowerCase();n&&(a=Q$(c)?NU:n),q$(c)&&(t=t||MU,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(u9(c)&&a!=="_self")return LU(t||"",a),new bS(null);const f=window.open(t||"",a,u);de(f,e,"popup-blocked");try{f.focus()}catch{}return new bS(f)}function LU(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="__/auth/handler",FU="emulator/auth/handler",jU=encodeURIComponent("fac");async function SS(e,t,n,r,o,i){de(e.config.authDomain,e,"auth-domain-config-required"),de(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gs,eventId:o};if(t instanceof tE){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",$4(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries(i||{}))s[u]=f}if(t instanceof Qu){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${jU}=${encodeURIComponent(l)}`:"";return`${UU(e)}?${Iu(a).slice(1)}${c}`}function UU({config:e}){return e.emulator?X_(e,FU):`https://${e.authDomain}/${VU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="webStorageSupport";class BU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fk,this._completeRedirectFn=fU,this._overrideRedirectResult=cU}async _openPopup(t,n,r,o){var i;_o((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await SS(t,n,r,Ky(),o);return OU(t,s,nE())}async _openRedirect(t,n,r,o){await this._originValidation(t);const i=await SS(t,n,r,Ky(),o);return G9(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(_o(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await AU(t),r=new pU(t);return n.register("authEvent",o=>(de(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Pg,{type:Pg},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[Pg];s!==void 0&&n(!!s),Yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ek()||J_()||Jp()}}const zU=BU;var CS="@firebase/auth",TS="1.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function GU(e){os(new li("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tk(e)},c=new w9(r,o,i,l);return E9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),os(new li("auth-internal",t=>{const n=Es(t.getProvider("auth").getImmediate());return(r=>new HU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(CS,TS,WU(e)),$r(CS,TS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=5*60,qU=vP("authIdTokenMaxAge")||KU;let RS=null;const QU=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qU)return;const o=n==null?void 0:n.token;RS!==o&&(RS=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XU(e=Bw()){const t=_p(e,"auth");if(t.isInitialized())return t.getImmediate();const n=_9(e,{popupRedirectResolver:zU,persistence:[tU,z9,fk]}),r=vP("authTokenSyncURL");if(r){const i=QU(r);L9(n,i,()=>i(n.currentUser)),O9(n,s=>i(s))}const o=pP("auth");return o&&x9(n,`http://${o}`),n}GU("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firebasestorage.googleapis.com",Ek="storageBucket",YU=2*60*1e3,JU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends jr{constructor(t,n,r=0){super(Ag(t),`Firebase Storage: ${n} (${Ag(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ag(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function Ag(e){return"storage/"+e}function oE(){const e="An unknown error occurred, please check the error payload for server response.";return new ut(ct.UNKNOWN,e)}function ZU(e){return new ut(ct.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function e8(e){return new ut(ct.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function t8(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(ct.UNAUTHENTICATED,e)}function n8(){return new ut(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function r8(e){return new ut(ct.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function o8(){return new ut(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i8(){return new ut(ct.CANCELED,"User canceled the upload/download.")}function s8(e){return new ut(ct.INVALID_URL,"Invalid URL '"+e+"'.")}function a8(e){return new ut(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function l8(){return new ut(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ek+"' property when initializing the app?")}function c8(){return new ut(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u8(){return new ut(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function d8(e){return new ut(ct.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qy(e){return new ut(ct.INVALID_ARGUMENT,e)}function xk(){return new ut(ct.APP_DELETED,"The Firebase app was deleted.")}function f8(e){return new ut(ct.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yc(e,t){return new ut(ct.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ll(e){throw new ut(ct.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=$n.makeFromUrl(t,n)}catch{return new $n(t,"")}if(r.path==="")return r;throw a8(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function i(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+o+s,"i"),l={bucket:1,path:3};function c(_){_.path_=decodeURIComponent(_.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${o}/o${h}`,"i"),g={bucket:1,path:3},m=n===_k?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${m}/${o}/${w}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:p,indices:g,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let _=0;_<E.length;_++){const b=E[_],S=b.regex.exec(t);if(S){const C=S[b.indices.bucket];let T=S[b.indices.path];T||(T=""),r=new $n(C,T),b.postModify(r);break}}if(r==null)throw s8(t);return r}}class h8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(e,t,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,t.apply(null,w))}function f(w){o=setTimeout(()=>{o=null,e(p,l())},w)}function h(){i&&clearTimeout(i)}function p(w,...v){if(c){h();return}if(w){h(),u.call(null,w,...v);return}if(l()||s){h(),u.call(null,w,...v);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let g=!1;function m(w){g||(g=!0,h(),!c&&(o!==null?(w||(a=2),clearTimeout(o),f(0)):w||(a=1)))}return f(0),i=setTimeout(()=>{s=!0,m(!0)},n),m}function m8(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(e){return e!==void 0}function v8(e){return typeof e=="object"&&!Array.isArray(e)}function iE(e){return typeof e=="string"||e instanceof String}function IS(e){return sE()&&e instanceof Blob}function sE(){return typeof Blob<"u"&&!x4()}function PS(e,t,n,r){if(r<t)throw Qy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Qy(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function bk(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xi;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Xi||(Xi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(e,t){const n=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||o||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(t,n,r,o,i,s,a,l,c,u,f,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new Bd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const a=i.getErrorCode()===Xi.NO_ERROR,l=i.getStatus();if(!a||y8(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Xi.ABORT;r(!1,new Bd(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Bd(c,i))})},n=(r,o)=>{const i=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());g8(l)?i(l):i()}catch(l){s(l)}else if(a!==null){const l=oE();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(o.canceled){const l=this.appDelete_?xk():i8();s(l)}else{const l=o8();s(l)}};this.canceled_?n(!1,new Bd(!1,null,!0)):this.backoffId_=p8(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&m8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bd{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function _8(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function E8(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function x8(e,t){t&&(e["X-Firebase-GMPID"]=t)}function b8(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function S8(e,t,n,r,o,i,s=!0){const a=bk(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return x8(c,t),_8(c,n),E8(c,i),b8(c,r),new w8(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T8(...e){const t=C8();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(sE())return new Blob(e);throw new ut(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function R8(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(e){if(typeof atob>"u")throw d8("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $g{constructor(t,n){this.data=t,this.contentType=n||null}}function P8(e,t){switch(e){case Ir.RAW:return new $g(Sk(t));case Ir.BASE64:case Ir.BASE64URL:return new $g(Ck(e,t));case Ir.DATA_URL:return new $g($8(t),k8(t))}throw oE()}function Sk(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const i=r,s=e.charCodeAt(++n);r=65536|(i&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function A8(e){let t;try{t=decodeURIComponent(e)}catch{throw yc(Ir.DATA_URL,"Malformed data URL.")}return Sk(t)}function Ck(e,t){switch(e){case Ir.BASE64:{const o=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(o||i)throw yc(e,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const o=t.indexOf("+")!==-1,i=t.indexOf("/")!==-1;if(o||i)throw yc(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=I8(t)}catch(o){throw o.message.includes("polyfill")?o:yc(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Tk{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw yc(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=D8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function $8(e){const t=new Tk(e);return t.base64?Ck(Ir.BASE64,t.rest):A8(t.rest)}function k8(e){return new Tk(e).contentType}function D8(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t,n){let r=0,o="";IS(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(IS(this.data_)){const r=this.data_,o=R8(r,t,n);return o===null?null:new Uo(o)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Uo(r,!0)}}static getBlob(...t){if(sE()){const n=t.map(r=>r instanceof Uo?r.data_:r);return new Uo(T8.apply(null,n))}else{const n=t.map(s=>iE(s)?P8(Ir.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const o=new Uint8Array(r);let i=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)o[i++]=s[a]}),new Uo(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(e){let t;try{t=JSON.parse(e)}catch{return null}return v8(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function M8(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Ik(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(e,t){return t}class on{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||O8}}let zd=null;function L8(e){return!iE(e)||e.length<2?e:Ik(e)}function Pk(){if(zd)return zd;const e=[];e.push(new on("bucket")),e.push(new on("generation")),e.push(new on("metageneration")),e.push(new on("name","fullPath",!0));function t(i,s){return L8(s)}const n=new on("name");n.xform=t,e.push(n);function r(i,s){return s!==void 0?Number(s):s}const o=new on("size");return o.xform=r,e.push(o),e.push(new on("timeCreated")),e.push(new on("updated")),e.push(new on("md5Hash",null,!0)),e.push(new on("cacheControl",null,!0)),e.push(new on("contentDisposition",null,!0)),e.push(new on("contentEncoding",null,!0)),e.push(new on("contentLanguage",null,!0)),e.push(new on("contentType",null,!0)),e.push(new on("metadata","customMetadata",!0)),zd=e,zd}function V8(e,t){function n(){const r=e.bucket,o=e.fullPath,i=new $n(r,o);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function F8(e,t,n){const r={};r.type="file";const o=n.length;for(let i=0;i<o;i++){const s=n[i];r[s.local]=s.xform(r,t[s.server])}return V8(r,e),r}function Ak(e,t,n){const r=Rk(t);return r===null?null:F8(e,r,n)}function j8(e,t,n,r){const o=Rk(t);if(o===null||!iE(o.downloadTokens))return null;const i=o.downloadTokens;if(i.length===0)return null;const s=encodeURIComponent;return i.split(",").map(c=>{const u=e.bucket,f=e.fullPath,h="/b/"+s(u)+"/o/"+s(f),p=aE(h,n,r),g=bk({alt:"media",token:c});return p+g})[0]}function U8(e,t){const n={},r=t.length;for(let o=0;o<r;o++){const i=t[o];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class $k{constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(e){if(!e)throw oE()}function B8(e,t){function n(r,o){const i=Ak(e,o,t);return kk(i!==null),i}return n}function z8(e,t){function n(r,o){const i=Ak(e,o,t);return kk(i!==null),j8(i,o,e.host,e._protocol)}return n}function Dk(e){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=n8():o=t8():n.getStatus()===402?o=e8(e.bucket):n.getStatus()===403?o=r8(e.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function H8(e){const t=Dk(e);function n(r,o){let i=t(r,o);return r.getStatus()===404&&(i=ZU(e.path)),i.serverResponse=o.serverResponse,i}return n}function W8(e,t,n){const r=t.fullServerUrl(),o=aE(r,e.host,e._protocol),i="GET",s=e.maxOperationRetryTime,a=new $k(o,i,z8(e,n),s);return a.errorHandler=H8(t),a}function G8(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function K8(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=G8(null,t)),r}function q8(e,t,n,r,o){const i=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let _=0;_<2;_++)E=E+Math.random().toString().slice(2);return E}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=K8(t,r,o),u=U8(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Uo.getBlob(f,r,h);if(p===null)throw c8();const g={name:c.fullPath},m=aE(i,e.host,e._protocol),w="POST",v=e.maxUploadRetryTime,y=new $k(m,w,B8(e,n),v);return y.urlParams=g,y.headers=s,y.body=p.uploadData(),y.errorHandler=Dk(t),y}class Q8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xi.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xi.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xi.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o){if(this.sent_)throw Ll("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ll("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ll("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ll("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ll("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class X8 extends Q8{initXhr(){this.xhr_.responseType="text"}}function Nk(){return new X8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,n){this._service=t,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new us(t,n)}get root(){const t=new $n(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ik(this._location.path)}get storage(){return this._service}get parent(){const t=N8(this._location.path);if(t===null)return null;const n=new $n(this._location.bucket,t);return new us(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw f8(t)}}function Y8(e,t,n){e._throwIfRoot("uploadBytes");const r=q8(e.storage,e._location,Pk(),new Uo(t,!0),n);return e.storage.makeRequestWithTokens(r,Nk).then(o=>({metadata:o,ref:e}))}function J8(e){e._throwIfRoot("getDownloadURL");const t=W8(e.storage,e._location,Pk());return e.storage.makeRequestWithTokens(t,Nk).then(n=>{if(n===null)throw u8();return n})}function Z8(e,t){const n=M8(e._location.path,t),r=new $n(e._location.bucket,n);return new us(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(e){return/^[A-Za-z]+:\/\//.test(e)}function tB(e,t){return new us(e,t)}function Mk(e,t){if(e instanceof lE){const n=e;if(n._bucket==null)throw l8();const r=new us(n,n._bucket);return t!=null?Mk(r,t):r}else return t!==void 0?Z8(e,t):e}function nB(e,t){if(t&&eB(t)){if(e instanceof lE)return tB(e,t);throw Qy("To use ref(service, url), the first argument must be a Storage instance.")}else return Mk(e,t)}function AS(e,t){const n=t==null?void 0:t[Ek];return n==null?null:$n.makeFromBucketSpec(n,e)}function rB(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken=typeof o=="string"?o:yP(o,e.app.options.projectId))}class lE{constructor(t,n,r,o,i){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=_k,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YU,this._maxUploadRetryTime=JU,this._requests=new Set,o!=null?this._bucket=$n.makeFromBucketSpec(o,this._host):this._bucket=AS(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,t):this._bucket=AS(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){PS("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){PS("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new us(this,t)}_makeRequest(t,n,r,o,i=!0){if(this._deleted)return new h8(xk());{const s=S8(t,this._appId,r,o,n,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const $S="@firebase/storage",kS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="storage";function Lk(e,t,n){return e=ot(e),Y8(e,t,n)}function Vk(e){return e=ot(e),J8(e)}function Fk(e,t){return e=ot(e),nB(e,t)}function oB(e=Bw(),t){e=ot(e);const r=_p(e,Ok).getImmediate({identifier:t}),o=mP("storage");return o&&iB(r,...o),r}function iB(e,t,n,r={}){rB(e,t,n,r)}function sB(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new lE(n,r,o,t,gs)}function aB(){os(new li(Ok,sB,"PUBLIC").setMultipleInstances(!0)),$r($S,kS,""),$r($S,kS,"esm2017")}aB();const cE=EP({apiKey:"AIzaSyB_07JIN6bQi9_LCywQ22q2zcx5DcHcyvs",authDomain:"test-3ee84.firebaseapp.com",projectId:"test-3ee84",storageBucket:"test-3ee84.appspot.com",messagingSenderId:"663304868559",appId:"1:663304868559:web:b654a57d106461dcad5dba",measurementId:"G-8WB0TJL66M"}),ie=R7(cE),jk=oB(cE),Hs=XU(cE);var to=(e=>(e.AVAILABLE="available",e.SOLD="sold",e.AUCTION="inAuction",e))(to||{});class lB{async createItem(t){try{const n={...t,status:to.AVAILABLE,sold_price:""},r=_t(ie,"stocks",t.stockId);if(!(await Rn(r)).exists())return{success:!1,message:"Stock introuvable"};const i=Ie(ie,"items"),s=Je(i,De("name","==",t.name),De("stockId","==",t.stockId));return(await Qe(s)).empty?{success:!0,data:(await Gu(i,n)).id}:{success:!1,message:"Cet article est dj dans le stock"}}catch(n){return console.error("Error creating the item:",n),{success:!1,message:"Error creating the item."}}}async getItem(t){try{const n=_t(ie,"items",t),r=await Rn(n);if(r.exists()){const o=r.data();return{success:!0,data:{id:r.id,...o}}}else return{success:!1,message:"Article introuvable."}}catch(n){return console.error("Error retrieving the item:",n),{success:!1,message:"Error retrieving the item."}}}async updateItem(t){try{const n=_t(ie,`items/${t.itemId}`),{itemId:r,stockId:o,...i}=t;return await qi(n,{...i}),{success:!0,data:null}}catch(n){return console.error("Error updating the item:",n),{success:!1,message:"Error updating the item."}}}async setStatus(t,n){try{const r=_t(ie,`items/${t}`);return await qi(r,{status:n}),{success:!0,data:null}}catch(r){return console.error("Error setting the item status:",r),{success:!1,message:"Error setting the item status."}}}async deleteItem(t){try{const n=_t(ie,`items/${t.itemId}`);return(await Rn(n)).data().status===to.AUCTION?{success:!1,message:"L'article est actuellement en plein enchre ."}:(await B7(n),{success:!0,data:null})}catch(n){return console.error("Error deleting the item:",n),{success:!1,message:"Error deleting the item."}}}}const tm=new lB;class cB{async makeBid(t){try{const n=_t(ie,"users",t.bidderId);if(!(await Rn(n)).exists())return{success:!1,message:"Utilisateur faisant l'offre introuvable."};const o=_t(ie,"auctions",t.auctionId),i=await Rn(o);if(i.exists()){const s=i.data();if(s.status==Un.CLOSE)return{success:!1,message:"L'enhre est dj termin vous ne pouvez plus faire d'offre."};const a=_t(ie,"items",s.itemId),l=await Rn(a);if(!l.exists())return{success:!1,message:"Artcile introuvable"};if(l.data().initial_price>t.amount)return{success:!1,message:"Le montant de l'offre doit tre suprieur au prix de dpart de l'article."};const u=Ie(ie,"bids"),f=Je(u,De("auctionId","==",t.auctionId),De("bidderId","==",t.bidderId));if(!(await Qe(f)).empty)return{success:!1,message:"Vous avez dj une offre pour cette enchre."};const p=await this.checkBid(u,t.auctionId,t.amount);if(!p.success)return p;const g={...t,updatedDate:Ge.now()};return{success:!0,data:(await Gu(u,g)).id}}else return{success:!1,message:"Enchre introuvable."}}catch(n){return console.error("Error making the bid:",n),{success:!1,message:"Error making the bid."}}}async bidAgain(t){try{const n=_t(ie,"bids",t.bidId),r=await Rn(n);if(r.exists()){const o=r.data(),i=Ie(ie,"bids"),s=await this.checkBid(i,o.auctionId,t.amount);return s.success?(await qi(n,{amount:t.amount,updatedDate:Ge.now()}),{success:!0,data:null}):s}else return{success:!1,message:"Offre introuvable."}}catch(n){return console.error("Error updating the bid:",n),{success:!1,message:"Error updating the bid."}}}async checkBid(t,n,r){const o=Je(t,De("auctionId","==",n)),i=await Qe(o),s=[];i.forEach(l=>{s.push({id:l.id,...l.data()})});let a=0;return s.forEach(l=>{l.amount>a&&(a=l.amount)}),r<=a?{success:!1,message:"Le montant de l'offre doit tre suprieur  l'offre la plus haute actuelle."}:{success:!0,data:null}}async getAuction(t){try{const n=_t(ie,"bids",t),r=await Rn(n);if(r.exists()){const o=r.data();return{success:!0,data:{id:r.id,...o}}}else return{success:!1,message:"Enchre introuvable"}}catch(n){return console.error("Error retriving the bid:",n),{success:!1,message:"Error retriving the bid."}}}async getBidsAuction(t){try{const n=Ie(ie,"bids"),r=Ie(ie,"users"),o=Je(n,De("auctionId","==",t)),i=await Qe(o),s=[];i.forEach(f=>{s.push({id:f.id,...f.data()})});const a=s.map(f=>f.bidderId),l=await Qe(r),c=[];return l.forEach(f=>{c.push({id:f.id,...f.data()})}),{success:!0,data:s.map(f=>{const h=f.bidderId,p=c.find(w=>w.id===h),g=p||{};let m=f;return m.bidder=g,m})}}catch(n){return console.error("Error retriving the bids of an Auction :",n),{success:!1,message:"Error retriving the bids of an Auction."}}}listenBidsAuction(t,n){const r=Ie(ie,"bids"),o=Ie(ie,"users"),i=Je(r,De("auctionId","==",t)),s=ri(i,async a=>{const l=[];if(a.forEach(p=>{l.push({id:p.id,...p.data()})}),l.map(p=>p.bidderId).length===0){n([],null);return}const u=await Qe(o),f=[];u.forEach(p=>{f.push({id:p.id,...p.data()})});const h=l.map(p=>{const g=p.bidderId,m=f.find(y=>y.id===g),w=m||{};let v=p;return v.bidder=w,v});n(h,null)},a=>{console.error("Erreur lors de l'coute des offres d'une enchre : "+a.message),n([],"L'extraction des offres d'une enchre a chou ")});return()=>s()}async getBidsUser(t){try{const n=Ie(ie,"bids"),r=Je(n,De("bidderId","==",t)),o=await Qe(r),i=[];return o.forEach(s=>{i.push({id:s.id,...s.data()})}),{success:!0,data:i}}catch(n){return console.error("Error retriving the bids of an User :",n),{success:!1,message:"L'extraction des offres d'un utilisateur a chou."}}}async getHighestBid(t){try{const n=Ie(ie,"bids"),r=Je(n,De("auctionId","==",t)),o=await Qe(r);let i=0;return o.forEach(s=>{const a=s.data();a.amount>i&&(i=a.amount)}),{success:!0,data:i}}catch(n){return console.error("Error retriving the higthest bids of an Auction :",n),{success:!1,message:"L'extraction de la plus grand offre d'une enchre a chou"}}}listenHighestBid(t,n){const r=Ie(ie,"bids"),o=Je(r,De("auctionId","==",t)),i=ri(o,s=>{let a=0;s.forEach(l=>{const c=l.data();c.amount>a&&(a=c.amount)}),n(a,null)},s=>{console.error("Erreur lors de l'coute de la plus grand offre d'une enchre : "+s.message),n(0,"L'extraction de la plus grand offre d'une enchre a chou.")});return()=>i()}async getCurrentBidUser(t,n){try{const r=Ie(ie,"bids"),o=Je(r,De("auctionId","==",n),De("bidderId","==",t)),i=await Qe(o);return i.empty?{success:!0,data:0}:{success:!0,data:i.docs[0].data().amount}}catch(r){return console.error("Error retriving the current Bid of an User in an Auction:",r),{success:!1,message:"L'extraction de l'offre actuelle d'un utilisateur d'une enchre a chou."}}}listenCurrentBidUser(t,n,r){const o=Ie(ie,"bids"),i=Je(o,De("auctionId","==",n),De("bidderId","==",t)),s=ri(i,a=>{if(a.empty)r(null,null);else{const l=a.docs[0].data();r({id:a.docs[0].id,...l},null)}},a=>{console.error("Erreur lors l'coute de l'offre actuelle d'un utilisateur d'une enchre : "+a.message),r(null,"L'extraction de l'offre actuelle d'un utilisateur d'une enchre a chou.")});return()=>s()}}const xs=new cB;class uB{async createAuction(t){try{const n=Ie(ie,"auctions"),r=Je(n,De("itemId","==",t.itemId),De("status","==",Un.OPEN));if(!(await Qe(r)).empty)return{success:!1,message:"Il existe dj une enchre en cours pour cet article."};const s=Ge.now(),a=new Date(s.seconds*1e3);a.setMinutes(a.getMinutes()+5);const l=Ge.fromDate(a),c={...t,status:Un.OPEN,winner:"",startDate:s,endDate:l},u=await Gu(n,c),f=await tm.setStatus(t.itemId,to.AUCTION);if(f.success)f.data;else return f;return{success:!0,data:u.id}}catch(n){return console.error("Error creating the auction :",n),{success:!1,message:"La cration de l'enchre a choue."}}}async getAuction(t){try{const n=_t(ie,"auctions",t),r=await Rn(n);if(r.exists()){const o=r.data(),i=_t(ie,"items",o.itemId),s=await Rn(i);if(s.exists()){const a=s.data();let l=o;return l.item=a,{success:!0,data:{id:r.id,...l}}}else return{success:!1,message:"Article introuvable."}}else return{success:!1,message:"Enchre introuvable."}}catch(n){return console.error("Error retrieving auction:",n),{success:!1,message:"L'extraction des donnes de l'enchre a chou."}}}async endAuction(t){try{const n=_t(ie,"auctions",t.auctionId),r=await this.getAuction(t.auctionId);let o;if(r.success)o=r.data;else return r;if(o.status===Un.OPEN){const i=await xs.getBidsAuction(t.auctionId);if(i.success){const s=i.data;if(s.length==0)return await this.restartAuction(t.auctionId);{s.sort((c,u)=>u.amount-c.amount);const a=s[0],l=_t(ie,"items",o.itemId);return await qi(n,{status:Un.CLOSE,winner:a.bidder.name}),await qi(l,{status:to.SOLD,sold_price:a.amount}),{success:!0,data:null}}}else return i}else return{success:!1,message:"L'enchre est dj ferme."}}catch(n){return console.error("Error ending the auction :",n),{success:!1,message:"La fermerture de l'enchre a choue."}}}async getActiveAuctions(){try{const t=Ie(ie,"auctions"),n=Ie(ie,"items"),r=Je(t,De("status","==",Un.OPEN)),o=await Qe(r);let i=[];if(o.forEach(u=>{i.push({id:u.id,...u.data()})}),i.map(u=>u.itemId).length===0)return{success:!0,data:[]};const a=await Qe(n),l=[];return a.forEach(u=>{l.push({id:u.id,...u.data()})}),{success:!0,data:i.map(u=>{const f=u.itemId,h=l.find(m=>m.id===f),p=h||{};let g=u;return g.item=p,g})}}catch(t){return console.error("Error retrieving active auctions :",t),{success:!1,message:"L'extraction des enchres actives a chou."}}}async restartAuction(t){try{const n=_t(ie,`auctions/${t}`),o=Ge.now(),i=new Date(o.seconds*1e3);i.setMinutes(i.getMinutes()+5);const s=Ge.fromDate(i);return await qi(n,{startDate:o,endDate:s}),{success:!0,data:null}}catch(n){return console.error("Error restarting the auction:",n),{success:!1,message:"La relance d'une enchre a choue."}}}listenActiveAuctions(t){const n=Ie(ie,"auctions"),r=Ie(ie,"items"),o=Je(n,De("status","==",Un.OPEN)),i=ri(o,async s=>{const a=[];if(s.forEach(h=>{a.push({id:h.id,...h.data()})}),a.map(h=>h.itemId).length===0){t([],null);return}const c=await Qe(r),u=[];c.forEach(h=>{u.push({id:h.id,...h.data()})});const f=a.map(h=>{const p=h.itemId,g=u.find(v=>v.id===p),m=g||{};let w=h;return w.item=m,w});t(f,null)},s=>{console.error("Erreur lors de l'coute des enchres actives : "+s.message),t([],"L'extraction des enchres actives a chou.")});return()=>i()}async getAuctionsFromSeller(t){try{const n=Ie(ie,"auctions"),r=Ie(ie,"items"),o=Je(n,De("sellerId","==",t),De("status","==",Un.OPEN)),i=await Qe(o),s=[];if(i.forEach(f=>{s.push({id:f.id,...f.data()})}),s.map(f=>f.itemId).length===0)return{success:!0,data:[]};const l=await Qe(r),c=[];return l.forEach(f=>{c.push({id:f.id,...f.data()})}),{success:!0,data:s.map(f=>{const h=f.itemId,p=c.find(w=>w.id===h),g=p||{};let m=f;return m.item=g,m})}}catch(n){return console.error("Error retrieving auctions associated with the seller:",n),{success:!1,message:"L'extraction des enchres du vendeur a chou."}}}listenAuctionsFromSeller(t,n){const r=Ie(ie,"auctions"),o=Ie(ie,"items"),i=Je(r,De("sellerId","==",t),De("status","==",Un.OPEN));return ri(i,async a=>{const l=[];if(a.forEach(p=>{l.push({id:p.id,...p.data()})}),l.map(p=>p.itemId).length===0){n([],null);return}const u=await Qe(o),f=[];u.forEach(p=>{f.push({id:p.id,...p.data()})});const h=l.map(p=>{const g=p.itemId,m=f.find(y=>y.id===g),w=m||{};let v=p;return v.item=w,v});n(h,null)},a=>{console.error("Erreur lors de l'coute des enchres du vendeur : "+a.message),n([],"L'extraction des enchres du vendeur a chou ")})}async getAuctionsFromBidder(t){try{const n=Ie(ie,"bids"),r=Ie(ie,"auctions"),o=Ie(ie,"items"),i=[],s=Je(n,De("bidderId","==",t)),a=await Qe(s),l=[];if(a.forEach(w=>{l.push({id:w.id,...w.data()})}),l.length==0)return{success:!0,data:i};const c=Array.from(new Set(l.map(w=>w.auctionId))),u=Je(r,De("status","==",Un.OPEN));if((await Qe(u)).forEach(w=>{const v={id:w.id,...w.data()};c.includes(v.id)&&i.push(v)}),i.map(w=>w.itemId).length===0)return{success:!0,data:[]};const p=await Qe(o),g=[];return p.forEach(w=>{g.push({id:w.id,...w.data()})}),{success:!0,data:i.map(w=>{const v=w.itemId,y=g.find(b=>b.id===v),E=y||{};let _=w;return _.item=E,_})}}catch(n){return console.error("Error retrieving auctions associated with the bidder:",n),{success:!1,message:"L'extraction des enchres de l'enchrisseur a chou."}}}listenAuctionsFromBidder(t,n){const r=Ie(ie,"bids"),o=Ie(ie,"auctions"),i=Ie(ie,"items"),s=Je(r,De("bidderId","==",t));return ri(s,async l=>{const c=[],u=[];if(l.forEach(y=>{u.push({id:y.id,...y.data()})}),u.length===0){n(c,null);return}const f=Array.from(new Set(u.map(y=>y.auctionId))),h=Je(o,De("status","==",Un.OPEN));if((await Qe(h)).forEach(y=>{const E={id:y.id,...y.data()};f.includes(E.id)&&c.push(E)}),c.map(y=>y.itemId).length===0){n(c,null);return}const m=await Qe(i),w=[];m.forEach(y=>{w.push({id:y.id,...y.data()})});const v=c.map(y=>{const E=y.itemId,_=w.find(C=>C.id===E),b=_||{};let S=y;return S.item=b,S});n(v,null)},l=>{n([],"Erreur lors de l'coute des enchres de l'enchrisseur : "+l.message)})}}const Yu=new uB,dB=1,fB=1e6;let kg=0;function hB(){return kg=(kg+1)%Number.MAX_VALUE,kg.toString()}const Dg=new Map,DS=e=>{if(Dg.has(e))return;const t=setTimeout(()=>{Dg.delete(e),wc({type:"REMOVE_TOAST",toastId:e})},fB);Dg.set(e,t)},pB=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,dB)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?DS(n):e.toasts.forEach(r=>{DS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},kf=[];let Df={toasts:[]};function wc(e){Df=pB(Df,e),kf.forEach(t=>{t(Df)})}function mB({...e}){const t=hB(),n=o=>wc({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>wc({type:"DISMISS_TOAST",toastId:t});return wc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Dt(){const[e,t]=d.useState(Df);return d.useEffect(()=>(kf.push(t),()=>{const n=kf.indexOf(t);n>-1&&kf.splice(n,1)}),[e]),{...e,toast:mB,dismiss:n=>wc({type:"DISMISS_TOAST",toastId:n})}}class gB{createUserWithEmailAndPassword(t,n){return N9(Hs,t,n)}signInWithEmailAndPassword(t,n){return M9(Hs,t,n)}signOut(){return F9(Hs)}signInWithGoogle(){const t=new Qr;return _S(Hs,t)}signInWithFacebook(){const t=new qr;return _S(Hs,t)}}const Ng=new gB;class vB{async createStock(t){try{return{success:!0,data:(await Gu(Ie(ie,"stocks"),t)).id}}catch(n){return console.error("Error during stock creation:",n),{success:!1,message:"Error during stock creation."}}}async getStockUser(t){try{const n=_t(ie,"users",t),r=await Rn(n);if(!r.exists())return{success:!1,message:"Utilisateur introuvable."};const o=r.data(),i=_t(ie,"stocks",o.stockId),s=await Rn(i);if(!s.exists())return{success:!1,message:"Stock introuvable."};const a=Ie(ie,"items"),l=Je(a,De("stockId","==",o.stockId),De("status","in",[to.AUCTION,to.AVAILABLE])),c=await Qe(l),u=[];return c.forEach(f=>{u.push({id:f.id,...f.data()})}),{success:!0,data:{id:s.id,...s.data(),items:u}}}catch(n){return console.error("Error during retrieval of user's stock:",n),{success:!1,message:"L'extraction des articles du stock a chou."}}}listenStockUser(t,n){const r=_t(ie,"users",t);return ri(r,async i=>{if(i.exists()){const s=i.data(),a=_t(ie,"stocks",s.stockId),l=await Rn(a);if(l.exists()){const c={id:l.id,...l.data()},u=Ie(ie,"items"),f=Je(u,De("stockId","==",s.stockId),De("status","in",[to.AUCTION,to.AVAILABLE])),h=ri(f,p=>{const g=[];p.forEach(m=>{g.push({id:m.id,...m.data()})}),c.items=g,n(c,null)},p=>{console.error("Erreur lors l'coute des articles du stock d'un utilisateur : "+p.message),n(null,"L'extraction des articles du stock a chou.")});return()=>h()}else n(null,"Stock introuvable")}else n(null,"Utilisateur introuvable.")},i=>{console.error("Erreur lors l'coute des utilisateurs: "+i.message)})}}const uE=new vB;class yB{async signup(t){try{const n=Ie(ie,"users"),r=Je(n,De("name","==",t.name));if(!(await Qe(r)).empty)return{success:!1,message:"Ce nom est dj utilis."};const{user:i}=await Ng.createUserWithEmailAndPassword(t.email,t.password);return{success:!0,data:await this.createUserWithName(i.uid,t)}}catch(n){return console.error("Error during signup:",n),{success:!1,message:"Error during signup."}}}async login(t){try{const{user:n}=await Ng.signInWithEmailAndPassword(t.email,t.password),r=await this.getUser(n.uid);return r.success?{success:!0,data:r.data}:r}catch(n){return console.error("Error during login:",n),{success:!1,message:"Error during login."}}}async logout(){try{return await Ng.signOut(),{success:!0,data:null}}catch(t){return console.error("Error during logout:",t),{success:!1,message:"Error during logout."}}}async createUserWithName(t,n){try{const{password:r,...o}=n,i=Ie(ie,"users"),s=await Gu(i,{uid:t,...o,stockId:""}),a={ownerId:s.id},l=await uE.createStock(a);let c;if(l.success)c=l.data;else throw new Error("Error during createStock");return await qi(s,{stockId:c}),{id:s.id,stockId:c,...o}}catch(r){throw console.error("Error during createUserWithName",r),r}}async getUser(t){try{const n=Ie(ie,"users"),r=Je(n,De("uid","==",t)),o=await Qe(r);if(o.empty)throw new Error("Utilisateur introuvable.");{const i=o.docs[0].data();return{success:!0,data:{id:o.docs[0].id,...i}}}}catch(n){throw console.error("Error during getUser",n),n}}}const nm=new yB,rm=d.createContext(void 0),wB=({children:e})=>{const[t,n]=d.useState(null);d.useEffect(()=>{const o=V9(Hs,async i=>{if(i){const s=await nm.getUser(i.uid);s.success?n(s.data):(n(null),console.error("Error login uid"))}else n(null)});return()=>o()},[]);const r={user:t};return x.jsx(rm.Provider,{value:r,children:e})};function Ur(){const e=d.useContext(rm),[t,n]=d.useState((e==null?void 0:e.user)||null);return d.useEffect(()=>{(async()=>{e!=null&&e.user?n(e.user):n(null)})()},[e]),t}function dE(e){const t=Ur(),n=nl(),r=["/mes_encheres","/mes_produits","/mes_offres"];return d.useEffect(()=>{(async()=>{!t&&r.includes(e)&&n("/authentification",{state:{from:e}})})()},[e,n,t]),t}const _B=(e,t)=>{const[n,r]=d.useState(null),{toast:o}=Dt();return d.useEffect(()=>{if(e!=""){const i=xs.listenCurrentBidUser(e,t,(s,a)=>{a?o({title:"Error",description:a,variant:"destructive"}):r(s)});return()=>{i()}}},[]),n},Uk=e=>{const[t,n]=d.useState(0),{toast:r}=Dt();return d.useEffect(()=>{const o=xs.listenHighestBid(e,(i,s)=>{s?r({title:"Error",description:s,variant:"destructive"}):n(i)});return()=>{o()}},[]),t},EB=(e,t)=>{const{toast:n}=Dt();d.useEffect(()=>{e==="00:00:000"&&(async()=>{const o=await Yu.endAuction({auctionId:t});o.success?console.log("endAuction or restartAuction"):n({title:"Error",description:o.message,variant:"destructive"})})()},[e])},xB=e=>{const[t,n]=d.useState([]),{toast:r}=Dt();return d.useEffect(()=>{const o=xs.listenBidsAuction(e,(i,s)=>{if(s)r({title:"Error",description:s,variant:"destructive"});else{i.sort((l,c)=>c.amount-l.amount);const a=i.slice(0,5);n(a)}});return()=>{o()}},[e]),t};function bB(){const[e,t]=d.useState([]),{toast:n}=Dt(),r=Ur();return d.useEffect(()=>{const o=Yu.listenActiveAuctions((i,s)=>{s?n({title:"Error",description:s,variant:"destructive"}):(e.forEach(async a=>{if(i.find(c=>c.id===a.id)==null&&r){const c=await xs.getBidsAuction(a.id);if(c.success){const u=c.data;console.log("bids:",u),(u.find(f=>f.bidderId===r.id)||a.sellerId===r.id)&&(console.log("bids.find(it=>it.bidderId===user.id):",u.find(f=>f.bidderId===r.id)),u.sort((f,h)=>h.amount-f.amount),u[0].bidderId===r.id?n({title:"Enchre Termin",description:`Vous avez remport l'enchre ${a.item.name}.`,variant:"default"}):n({title:"Enchre Termin",description:`L'enchre ${a.item.name} a t remport par ${u[0].bidder.name}.`,variant:"default"}))}else n({title:"Error",description:c.message,variant:"destructive"})}}),t(i))});return()=>{o()}},[]),e}function SB(){const[e,t]=d.useState([]),{toast:n}=Dt(),r=Ur();return d.useEffect(()=>{if(r){const o=Yu.listenAuctionsFromSeller(r.id,(i,s)=>{s?n({title:"Error",description:s,variant:"destructive"}):t(i)});return()=>{o()}}},[r]),e}function CB(){const[e,t]=d.useState([]),{toast:n}=Dt(),r=Ur();return d.useEffect(()=>{if(r){const o=Yu.listenAuctionsFromBidder(r.id,(i,s)=>{s?n({title:"Error",description:s,variant:"destructive"}):t(i)});return()=>{o()}}},[r]),e}function _c(e){const t=String(Math.floor(e/6e4)).padStart(2,"0"),n=String(Math.floor(e%6e4/1e3)).padStart(2,"0"),r=String(e%1e3).padStart(3,"0");return`${t}:${n}:${r}`}function Nh(e){const t=new Date().getTime(),n=e.getTime();return Math.max(0,n-t)}function TB(e){if(e==null)return _c(0);const t=e.toDate(),[n,r]=d.useState(_c(Nh(t)));return d.useEffect(()=>{const o=setInterval(()=>{const i=Nh(t);r(_c(i))},100);return()=>{clearInterval(o)}},[t]),n}var RB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xt=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:a,...l},c)=>d.createElement("svg",{ref:c,...RB,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:`lucide lucide-${IB(e)}`,...l},[...t.map(([u,f])=>d.createElement(u,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n},NS=xt("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),MS=xt("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),fE=xt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),PB=xt("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),AB=xt("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]]),Bk=xt("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),$B=xt("ChevronsLeft",[["polyline",{points:"11 17 6 12 11 7",key:"1ueymj"}],["polyline",{points:"18 17 13 12 18 7",key:"18fy0m"}]]),kB=xt("ChevronsRight",[["polyline",{points:"13 17 18 12 13 7",key:"oq0h83"}],["polyline",{points:"6 17 11 12 6 7",key:"3k300q"}]]),zk=xt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),DB=xt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),NB=xt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),MB=xt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),OB=xt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),LB=xt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),VB=xt("Pencil",[["line",{x1:"18",x2:"22",y1:"2",y2:"6",key:"1e96e7"}],["path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z",key:"12iwkt"}]]),hE=xt("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),FB=xt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),jB=xt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),UB=xt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),om=xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Hk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Hk(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Wk(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Hk(e))&&(r&&(r+=" "),r+=t);return r}function BB(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Gk(t))&&(r&&(r+=" "),r+=n);return r}function Gk(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Gk(e[r]))&&(n&&(n+=" "),n+=t);return n}var pE="-";function zB(e){var t=WB(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,o=r===void 0?{}:r;function i(a){var l=a.split(pE);return l[0]===""&&l.length!==1&&l.shift(),Kk(l,t)||HB(a)}function s(a,l){var c=n[a]||[];return l&&o[a]?[].concat(c,o[a]):c}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function Kk(e,t){var s;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),o=r?Kk(e.slice(1),r):void 0;if(o)return o;if(t.validators.length!==0){var i=e.join(pE);return(s=t.validators.find(function(a){var l=a.validator;return l(i)}))==null?void 0:s.classGroupId}}var OS=/^\[(.+)\]$/;function HB(e){if(OS.test(e)){var t=OS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function WB(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},o=KB(Object.entries(e.classGroups),n);return o.forEach(function(i){var s=i[0],a=i[1];Xy(a,r,s,t)}),r}function Xy(e,t,n,r){e.forEach(function(o){if(typeof o=="string"){var i=o===""?t:LS(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(GB(o)){Xy(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(s){var a=s[0],l=s[1];Xy(l,LS(t,a),n,r)})})}function LS(e,t){var n=e;return t.split(pE).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function GB(e){return e.isThemeGetter}function KB(e,t){return t?e.map(function(n){var r=n[0],o=n[1],i=o.map(function(s){return typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[t+l,c]})):s});return[r,i]}):e}function qB(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function o(i,s){n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return o(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):o(s,a)}}}var qk="!";function QB(e){var t=e.separator||":",n=t.length===1,r=t[0],o=t.length;return function(s){for(var a=[],l=0,c=0,u,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===r&&(n||s.slice(f,f+o)===t)){a.push(s.slice(c,f)),c=f+o;continue}if(h==="/"){u=f;continue}}h==="["?l++:h==="]"&&l--}var p=a.length===0?s:s.substring(c),g=p.startsWith(qk),m=g?p.substring(1):p,w=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:w}}}function XB(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var o=r[0]==="[";o?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function YB(e){return{cache:qB(e.cacheSize),splitModifiers:QB(e),...zB(e)}}var JB=/\s+/;function ZB(e,t){var n=t.splitModifiers,r=t.getClassGroupId,o=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(JB).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,f=a.maybePostfixModifierPosition,h=r(f?u.substring(0,f):u),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:s};p=!1}var g=XB(l).join(":"),m=c?g+qk:g;return{isTailwindClass:!0,modifierId:m,classGroupId:h,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return i.has(u)?!1:(i.add(u),o(l,c).forEach(function(f){return i.add(a+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function ez(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o,i,s=a;function a(c){var u=t[0],f=t.slice(1),h=f.reduce(function(p,g){return g(p)},u());return r=YB(h),o=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){var u=o(c);if(u)return u;var f=ZB(c,r);return i(c,f),f}return function(){return s(BB.apply(null,arguments))}}function Ue(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Qk=/^\[(?:([a-z-]+):)?(.+)\]$/i,tz=/^\d+\/\d+$/,nz=new Set(["px","full","screen"]),rz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|^0$/,iz=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function rr(e){return zi(e)||nz.has(e)||tz.test(e)||Ao(e)}function Ao(e){return bs(e,"length",dz)}function sz(e){return bs(e,"size",Xk)}function az(e){return bs(e,"position",Xk)}function lz(e){return bs(e,"url",fz)}function Hd(e){return bs(e,"number",zi)}function zi(e){return!Number.isNaN(Number(e))}function cz(e){return e.endsWith("%")&&zi(e.slice(0,-1))}function Vl(e){return VS(e)||bs(e,"number",VS)}function dt(e){return Qk.test(e)}function Fl(){return!0}function Po(e){return rz.test(e)}function uz(e){return bs(e,"",hz)}function bs(e,t,n){var r=Qk.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function dz(e){return oz.test(e)}function Xk(){return!1}function fz(e){return e.startsWith("url(")}function VS(e){return Number.isInteger(Number(e))}function hz(e){return iz.test(e)}function pz(){var e=Ue("colors"),t=Ue("spacing"),n=Ue("blur"),r=Ue("brightness"),o=Ue("borderColor"),i=Ue("borderRadius"),s=Ue("borderSpacing"),a=Ue("borderWidth"),l=Ue("contrast"),c=Ue("grayscale"),u=Ue("hueRotate"),f=Ue("invert"),h=Ue("gap"),p=Ue("gradientColorStops"),g=Ue("gradientColorStopPositions"),m=Ue("inset"),w=Ue("margin"),v=Ue("opacity"),y=Ue("padding"),E=Ue("saturate"),_=Ue("scale"),b=Ue("sepia"),S=Ue("skew"),C=Ue("space"),T=Ue("translate"),I=function(){return["auto","contain","none"]},M=function(){return["auto","hidden","clip","visible","scroll"]},B=function(){return["auto",t]},j=function(){return["",rr]},q=function(){return["auto",zi,dt]},N=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},U=function(){return["solid","dashed","dotted","double","none"]},W=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Z=function(){return["start","end","center","between","around","evenly","stretch"]},k=function(){return["","0",dt]},R=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},$=function(){return[zi,Hd]},V=function(){return[zi,dt]};return{cacheSize:500,theme:{colors:[Fl],spacing:[rr],blur:["none","",Po,Ao],brightness:$(),borderColor:[e],borderRadius:["none","","full",Po,Ao],borderSpacing:[t],borderWidth:j(),contrast:$(),grayscale:k(),hueRotate:V(),invert:k(),gap:[t],gradientColorStops:[e],gradientColorStopPositions:[cz,Ao],inset:B(),margin:B(),opacity:$(),padding:[t],saturate:$(),scale:$(),sepia:k(),skew:V(),space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[Po]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(N(),[dt])}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vl]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Vl]}],"grid-cols":[{"grid-cols":[Fl]}],"col-start-end":[{col:["auto",{span:[Vl]},dt]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Fl]}],"row-start-end":[{row:["auto",{span:[Vl]},dt]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(Z())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Z(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Z(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",rr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Po]},Po,Ao]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",rr]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",Po,Ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hd]}],"font-family":[{font:[Fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ao]}],"line-clamp":[{"line-clamp":["none",zi,Hd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rr]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(U(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",rr]}],"underline-offset":[{"underline-offset":["auto",rr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ao]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(N(),[az])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lz]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(U(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(U())}],"outline-offset":[{"outline-offset":[rr]}],"outline-w":[{outline:[rr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[rr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Po,uz]}],"shadow-color":[{shadow:[Fl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Po,dt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Vl,dt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-ms":[{"scroll-ms":[t]}],"scroll-me":[{"scroll-me":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-ps":[{"scroll-ps":[t]}],"scroll-pe":[{"scroll-pe":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rr,Hd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var mz=ez(pz);function Y(...e){return mz(Wk(e))}const Ss=d.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:Y("rounded-lg bg-secondary shadow-card shadow-lg",e),...t}));Ss.displayName="Card";const Ju=d.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:Y("flex flex-nowrap justify-between item-center py-4 px-4",e),...t}));Ju.displayName="CardHeader";const mE=d.forwardRef(({className:e,...t},n)=>x.jsx("h3",{ref:n,className:Y("text-lg text-center font-semibold leading-none tracking-tight",e),...t}));mE.displayName="CardTitle";const gz=d.forwardRef(({className:e,...t},n)=>x.jsx("p",{ref:n,className:Y("text-sm text-muted",e),...t}));gz.displayName="CardDescription";const fl=d.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:Y("p-6 pt-0",e),...t}));fl.displayName="CardContent";const vz=d.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:Y(" flex items-center p-6 pt-0",e),...t}));vz.displayName="CardFooter";const yz=d.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:Y("flex justify-end",e),...t}));yz.displayName="CardActions";const wz=d.forwardRef(({className:e,...t},n)=>x.jsx("button",{ref:n,className:Y("text-sm font-medium btn btn-icon",e),...t}));wz.displayName="CardAction";function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function G(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function _z(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function im(...e){return t=>e.forEach(n=>_z(n,t))}function Ae(...e){return d.useCallback(im(...e),e)}function yr(e,t=[]){let n=[];function r(i,s){const a=d.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][l])||a,w=d.useMemo(()=>g,Object.values(g));return d.createElement(m.Provider,{value:w},p)}function u(f,h){const p=(h==null?void 0:h[e][l])||a,g=d.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const o=()=>{const i=n.map(s=>d.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,Ez(o,...t)]}function Ez(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}const dn=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},xz=H0["useId".toString()]||(()=>{});let bz=0;function dr(e){const[t,n]=d.useState(xz());return dn(()=>{e||n(r=>r??String(bz++))},[e]),e||(t?`radix-${t}`:"")}function at(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function hi({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=Sz({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,a=at(n),l=d.useCallback(c=>{if(i){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else o(c)},[i,e,o,a]);return[s,l]}function Sz({defaultProp:e,onChange:t}){const n=d.useState(e),[r]=n,o=d.useRef(r),i=at(t);return d.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}const Eo=d.forwardRef((e,t)=>{const{children:n,...r}=e,o=d.Children.toArray(n),i=o.find(Tz);if(i){const s=i.props.children,a=o.map(l=>l===i?d.Children.count(s)>1?d.Children.only(null):d.isValidElement(s)?s.props.children:null:l);return d.createElement(Yy,D({},r,{ref:t}),d.isValidElement(s)?d.cloneElement(s,void 0,a):null)}return d.createElement(Yy,D({},r,{ref:t}),n)});Eo.displayName="Slot";const Yy=d.forwardRef((e,t)=>{const{children:n,...r}=e;return d.isValidElement(n)?d.cloneElement(n,{...Rz(r,n.props),ref:t?im(t,n.ref):n.ref}):d.Children.count(n)>1?d.Children.only(null):null});Yy.displayName="SlotClone";const Cz=({children:e})=>d.createElement(d.Fragment,null,e);function Tz(e){return d.isValidElement(e)&&e.type===Cz}function Rz(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}const Iz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ce=Iz.reduce((e,t)=>{const n=d.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?Eo:t;return d.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),d.createElement(a,D({},s,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gE(e,t){e&&Vr.flushSync(()=>e.dispatchEvent(t))}function Pz(e,t=globalThis==null?void 0:globalThis.document){const n=at(e);d.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Jy="dismissableLayer.update",Az="dismissableLayer.pointerDownOutside",$z="dismissableLayer.focusOutside";let FS;const Yk=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hl=d.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=d.useContext(Yk),[f,h]=d.useState(null),p=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,g]=d.useState({}),m=Ae(t,T=>h(T)),w=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=w.indexOf(v),E=f?w.indexOf(f):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,b=E>=y,S=Dz(T=>{const I=T.target,M=[...u.branches].some(B=>B.contains(I));!b||M||(i==null||i(T),a==null||a(T),T.defaultPrevented||l==null||l())},p),C=Nz(T=>{const I=T.target;[...u.branches].some(B=>B.contains(I))||(s==null||s(T),a==null||a(T),T.defaultPrevented||l==null||l())},p);return Pz(T=>{E===u.layers.size-1&&(o==null||o(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},p),d.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),jS(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=FS)}},[f,p,r,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),jS())},[f,u]),d.useEffect(()=>{const T=()=>g({});return document.addEventListener(Jy,T),()=>document.removeEventListener(Jy,T)},[]),d.createElement(ce.div,D({},c,{ref:m,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,C.onFocusCapture),onBlurCapture:G(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,S.onPointerDownCapture)}))}),kz=d.forwardRef((e,t)=>{const n=d.useContext(Yk),r=d.useRef(null),o=Ae(t,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.createElement(ce.div,D({},e,{ref:o}))});function Dz(e,t=globalThis==null?void 0:globalThis.document){const n=at(e),r=d.useRef(!1),o=d.useRef(()=>{});return d.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){Jk(Az,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Nz(e,t=globalThis==null?void 0:globalThis.document){const n=at(e),r=d.useRef(!1);return d.useEffect(()=>{const o=i=>{i.target&&!r.current&&Jk($z,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jS(){const e=new CustomEvent(Jy);document.dispatchEvent(e)}function Jk(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?gE(o,i):o.dispatchEvent(i)}const Mz=hl,Oz=kz,Mg="focusScope.autoFocusOnMount",Og="focusScope.autoFocusOnUnmount",US={bubbles:!1,cancelable:!0},sm=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[a,l]=d.useState(null),c=at(o),u=at(i),f=d.useRef(null),h=Ae(t,m=>l(m)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let y=function(S){if(p.paused||!a)return;const C=S.target;a.contains(C)?f.current=C:$o(f.current,{select:!0})},E=function(S){if(p.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||$o(f.current,{select:!0}))},_=function(S){const C=document.activeElement;for(const T of S)T.removedNodes.length>0&&(a!=null&&a.contains(C)||$o(a))};var m=y,w=E,v=_;document.addEventListener("focusin",y),document.addEventListener("focusout",E);const b=new MutationObserver(_);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),b.disconnect()}}},[r,a,p.paused]),d.useEffect(()=>{if(a){zS.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(Mg,US);a.addEventListener(Mg,c),a.dispatchEvent(v),v.defaultPrevented||(Lz(Bz(Zk(a)),{select:!0}),document.activeElement===m&&$o(a))}return()=>{a.removeEventListener(Mg,c),setTimeout(()=>{const v=new CustomEvent(Og,US);a.addEventListener(Og,u),a.dispatchEvent(v),v.defaultPrevented||$o(m??document.body,{select:!0}),a.removeEventListener(Og,u),zS.remove(p)},0)}}},[a,c,u,p]);const g=d.useCallback(m=>{if(!n&&!r||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(w&&v){const y=m.currentTarget,[E,_]=Vz(y);E&&_?!m.shiftKey&&v===_?(m.preventDefault(),n&&$o(E,{select:!0})):m.shiftKey&&v===E&&(m.preventDefault(),n&&$o(_,{select:!0})):v===y&&m.preventDefault()}},[n,r,p.paused]);return d.createElement(ce.div,D({tabIndex:-1},s,{ref:h,onKeyDown:g}))});function Lz(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if($o(r,{select:t}),document.activeElement!==n)return}function Vz(e){const t=Zk(e),n=BS(t,e),r=BS(t.reverse(),e);return[n,r]}function Zk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function BS(e,t){for(const n of e)if(!Fz(n,{upTo:t}))return n}function Fz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jz(e){return e instanceof HTMLInputElement&&"select"in e}function $o(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jz(e)&&t&&e.select()}}const zS=Uz();function Uz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=HS(e,t),e.unshift(t)},remove(t){var n;e=HS(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function HS(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Bz(e){return e.filter(t=>t.tagName!=="A")}const Zu=d.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?YI.createPortal(d.createElement(ce.div,D({},o,{ref:t})),r):null});function zz(e,t){return d.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const Zn=e=>{const{present:t,children:n}=e,r=Hz(t),o=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=Ae(r.ref,o.ref);return typeof n=="function"||r.isPresent?d.cloneElement(o,{ref:i}):null};Zn.displayName="Presence";function Hz(e){const[t,n]=d.useState(),r=d.useRef({}),o=d.useRef(e),i=d.useRef("none"),s=e?"mounted":"unmounted",[a,l]=zz(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const c=Wd(r.current);i.current=a==="mounted"?c:"none"},[a]),dn(()=>{const c=r.current,u=o.current;if(u!==e){const h=i.current,p=Wd(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),dn(()=>{if(t){const c=f=>{const p=Wd(r.current).includes(f.animationName);f.target===t&&p&&Vr.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===t&&(i.current=Wd(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Wd(e){return(e==null?void 0:e.animationName)||"none"}let Lg=0;function am(){d.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:WS()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:WS()),Lg++,()=>{Lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Lg--}},[])}function WS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Ec="right-scroll-bar-position",xc="width-before-scroll-bar",Wz="with-scroll-bars-hidden",Gz="--removed-body-scroll-bar-size";function Kz(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qz(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function eD(e,t){return qz(t||null,function(n){return e.forEach(function(r){return Kz(r,n)})})}function Qz(e){return e}function Xz(e,t){t===void 0&&(t=Qz);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var u=s;s=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return o}function tD(e){e===void 0&&(e={});var t=Xz(null);return t.options=Yt({async:!0,ssr:!1},e),t}var nD=function(e){var t=e.sideCar,n=ll(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Yt({},n))};nD.isSideCarExport=!0;function rD(e,t){return e.useMedium(t),nD}var oD=tD(),Vg=function(){},lm=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:Vg,onWheelCapture:Vg,onTouchMoveCapture:Vg}),o=r[0],i=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,y=ll(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=h,_=eD([n,t]),b=Yt(Yt({},y),o);return d.createElement(d.Fragment,null,u&&d.createElement(E,{sideCar:oD,removeScrollBar:c,shards:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:n}),s?d.cloneElement(d.Children.only(a),Yt(Yt({},b),{ref:_})):d.createElement(v,Yt({},b,{className:l,ref:_}),a))});lm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lm.classNames={fullWidth:xc,zeroRight:Ec};var GS,Yz=function(){if(GS)return GS;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Yz();return t&&e.setAttribute("nonce",t),e}function Zz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eH(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tH=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Jz())&&(Zz(t,n),eH(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nH=function(){var e=tH();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},vE=function(){var e=nH(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},rH={left:0,top:0,right:0,gap:0},Fg=function(e){return parseInt(e||"",10)||0},oH=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Fg(n),Fg(r),Fg(o)]},iH=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rH;var t=oH(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},sH=vE(),aH=function(e,t,n,r){var o=e.left,i=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Wz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ec,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ec," .").concat(Ec,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xc," .").concat(xc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Gz,": ").concat(a,`px;
  }
`)},iD=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,i=d.useMemo(function(){return iH(o)},[o]);return d.createElement(sH,{styles:aH(i,!t,o,n?"":"!important")})},Zy=!1;if(typeof window<"u")try{var Gd=Object.defineProperty({},"passive",{get:function(){return Zy=!0,!0}});window.addEventListener("test",Gd,Gd),window.removeEventListener("test",Gd,Gd)}catch{Zy=!1}var Ls=Zy?{passive:!1}:!1,lH=function(e){return e.tagName==="TEXTAREA"},sD=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!lH(e)&&n[t]==="visible")},cH=function(e){return sD(e,"overflowY")},uH=function(e){return sD(e,"overflowX")},KS=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=aD(e,n);if(r){var o=lD(e,n),i=o[1],s=o[2];if(i>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},dH=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},fH=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},aD=function(e,t){return e==="v"?cH(t):uH(t)},lD=function(e,t){return e==="v"?dH(t):fH(t)},hH=function(e,t){return e==="h"&&t==="rtl"?-1:1},pH=function(e,t,n,r,o){var i=hH(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,l=t.contains(a),c=!1,u=s>0,f=0,h=0;do{var p=lD(e,a),g=p[0],m=p[1],w=p[2],v=m-w-i*g;(g||v)&&aD(e,a)&&(f+=v,h+=g),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(o&&f===0||!o&&s>f)||!u&&(o&&h===0||!o&&-s>h))&&(c=!0),c},Kd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qS=function(e){return[e.deltaX,e.deltaY]},QS=function(e){return e&&"current"in e?e.current:e},mH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},gH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vH=0,Vs=[];function yH(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),o=d.useState(vH++)[0],i=d.useState(function(){return vE()})[0],s=d.useRef(e);d.useEffect(function(){s.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=F$([e.lockRef.current],(e.shards||[]).map(QS),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=d.useCallback(function(m,w){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var v=Kd(m),y=n.current,E="deltaX"in m?m.deltaX:y[0]-v[0],_="deltaY"in m?m.deltaY:y[1]-v[1],b,S=m.target,C=Math.abs(E)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&S.type==="range")return!1;var T=KS(C,S);if(!T)return!0;if(T?b=C:(b=C==="v"?"h":"v",T=KS(C,S)),!T)return!1;if(!r.current&&"changedTouches"in m&&(E||_)&&(r.current=b),!b)return!0;var I=r.current||b;return pH(I,w,m,I==="h"?E:_,!0)},[]),l=d.useCallback(function(m){var w=m;if(!(!Vs.length||Vs[Vs.length-1]!==i)){var v="deltaY"in w?qS(w):Kd(w),y=t.current.filter(function(b){return b.name===w.type&&b.target===w.target&&mH(b.delta,v)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var E=(s.current.shards||[]).map(QS).filter(Boolean).filter(function(b){return b.contains(w.target)}),_=E.length>0?a(w,E[0]):!s.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),c=d.useCallback(function(m,w,v,y){var E={name:m,delta:w,target:v,should:y};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(_){return _!==E})},1)},[]),u=d.useCallback(function(m){n.current=Kd(m),r.current=void 0},[]),f=d.useCallback(function(m){c(m.type,qS(m),m.target,a(m,e.lockRef.current))},[]),h=d.useCallback(function(m){c(m.type,Kd(m),m.target,a(m,e.lockRef.current))},[]);d.useEffect(function(){return Vs.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ls),document.addEventListener("touchmove",l,Ls),document.addEventListener("touchstart",u,Ls),function(){Vs=Vs.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Ls),document.removeEventListener("touchmove",l,Ls),document.removeEventListener("touchstart",u,Ls)}},[]);var p=e.removeScrollBar,g=e.inert;return d.createElement(d.Fragment,null,g?d.createElement(i,{styles:gH(o)}):null,p?d.createElement(iD,{gapMode:"margin"}):null)}const wH=rD(oD,yH);var cD=d.forwardRef(function(e,t){return d.createElement(lm,Yt({},e,{ref:t,sideCar:wH}))});cD.classNames=lm.classNames;const cm=cD;var _H=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fs=new WeakMap,qd=new WeakMap,Qd={},jg=0,uD=function(e){return e&&(e.host||uD(e.parentNode))},EH=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=uD(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xH=function(e,t,n,r){var o=EH(t,Array.isArray(e)?e:[e]);Qd[n]||(Qd[n]=new WeakMap);var i=Qd[n],s=[],a=new Set,l=new Set(o),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};o.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(Fs.get(h)||0)+1,w=(i.get(h)||0)+1;Fs.set(h,m),i.set(h,w),s.push(h),m===1&&g&&qd.set(h,!0),w===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}})};return u(t),a.clear(),jg++,function(){s.forEach(function(f){var h=Fs.get(f)-1,p=i.get(f)-1;Fs.set(f,h),i.set(f,p),h||(qd.has(f)||f.removeAttribute(r),qd.delete(f)),p||f.removeAttribute(n)}),jg--,jg||(Fs=new WeakMap,Fs=new WeakMap,qd=new WeakMap,Qd={})}},ed=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||_H(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),xH(r,o,n,"aria-hidden")):function(){return null}};const dD="Dialog",[fD,wne]=yr(dD),[bH,wr]=fD(dD),SH=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,a=d.useRef(null),l=d.useRef(null),[c=!1,u]=hi({prop:r,defaultProp:o,onChange:i});return d.createElement(bH,{scope:t,triggerRef:a,contentRef:l,contentId:dr(),titleId:dr(),descriptionId:dr(),open:c,onOpenChange:u,onOpenToggle:d.useCallback(()=>u(f=>!f),[u]),modal:s},n)},CH="DialogTrigger",TH=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=wr(CH,n),i=Ae(t,o.triggerRef);return d.createElement(ce.button,D({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":yE(o.open)},r,{ref:i,onClick:G(e.onClick,o.onOpenToggle)}))}),hD="DialogPortal",[RH,pD]=fD(hD,{forceMount:void 0}),IH=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=wr(hD,t);return d.createElement(RH,{scope:t,forceMount:n},d.Children.map(r,s=>d.createElement(Zn,{present:n||i.open},d.createElement(Zu,{asChild:!0,container:o},s))))},e0="DialogOverlay",PH=d.forwardRef((e,t)=>{const n=pD(e0,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=wr(e0,e.__scopeDialog);return i.modal?d.createElement(Zn,{present:r||i.open},d.createElement(AH,D({},o,{ref:t}))):null}),AH=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=wr(e0,n);return d.createElement(cm,{as:Eo,allowPinchZoom:!0,shards:[o.contentRef]},d.createElement(ce.div,D({"data-state":yE(o.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),uu="DialogContent",$H=d.forwardRef((e,t)=>{const n=pD(uu,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=wr(uu,e.__scopeDialog);return d.createElement(Zn,{present:r||i.open},i.modal?d.createElement(kH,D({},o,{ref:t})):d.createElement(DH,D({},o,{ref:t})))}),kH=d.forwardRef((e,t)=>{const n=wr(uu,e.__scopeDialog),r=d.useRef(null),o=Ae(t,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return ed(i)},[]),d.createElement(mD,D({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&i.preventDefault()}),onFocusOutside:G(e.onFocusOutside,i=>i.preventDefault())}))}),DH=d.forwardRef((e,t)=>{const n=wr(uu,e.__scopeDialog),r=d.useRef(!1),o=d.useRef(!1);return d.createElement(mD,D({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,i),!i.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),i.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:i=>{var s,a;(s=e.onInteractOutside)===null||s===void 0||s.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}}))}),mD=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=e,a=wr(uu,n),l=d.useRef(null),c=Ae(t,l);return am(),d.createElement(d.Fragment,null,d.createElement(sm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i},d.createElement(hl,D({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":yE(a.open)},s,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),NH="DialogTitle",MH=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=wr(NH,n);return d.createElement(ce.h2,D({id:o.titleId},r,{ref:t}))}),OH="DialogDescription",LH=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=wr(OH,n);return d.createElement(ce.p,D({id:o.descriptionId},r,{ref:t}))}),VH="DialogClose",FH=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=wr(VH,n);return d.createElement(ce.button,D({type:"button"},r,{ref:t,onClick:G(e.onClick,()=>o.onOpenChange(!1))}))});function yE(e){return e?"open":"closed"}const jH=SH,UH=TH,wE=IH,_E=PH,EE=$H,xE=MH,bE=LH,gD=FH,vD=d.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),um=d.createContext({}),SE=d.createContext(null),dm=typeof document<"u",XS=dm?d.useLayoutEffect:d.useEffect,yD=d.createContext({strict:!1});function BH(e,t,n,r){const{visualElement:o}=d.useContext(um),i=d.useContext(yD),s=d.useContext(SE),a=d.useContext(vD).reducedMotion,l=d.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return d.useInsertionEffect(()=>{c&&c.update(n,s)}),XS(()=>{c&&c.render()}),d.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?XS:d.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function aa(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zH(e,t,n){return d.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):aa(n)&&(n.current=r))},[t])}function du(e){return typeof e=="string"||Array.isArray(e)}function fm(e){return typeof e=="object"&&typeof e.start=="function"}const CE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],TE=["initial",...CE];function hm(e){return fm(e.animate)||TE.some(t=>du(e[t]))}function wD(e){return!!(hm(e)||e.variants)}function HH(e,t){if(hm(e)){const{initial:n,animate:r}=e;return{initial:n===!1||du(n)?n:void 0,animate:du(r)?r:void 0}}return e.inherit!==!1?t:{}}function WH(e){const{initial:t,animate:n}=HH(e,d.useContext(um));return d.useMemo(()=>({initial:t,animate:n}),[YS(t),YS(n)])}function YS(e){return Array.isArray(e)?e.join(" "):e}const JS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fu={};for(const e in JS)fu[e]={isEnabled:t=>JS[e].some(n=>!!t[n])};function GH(e){for(const t in e)fu[t]={...fu[t],...e[t]}}const _D=d.createContext({}),ED=d.createContext({}),KH=Symbol.for("motionComponentSymbol");function qH({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&GH(e);function i(a,l){let c;const u={...d.useContext(vD),...a,layoutId:QH(a)},{isStatic:f}=u,h=WH(a),p=r(a,f);if(!f&&dm){h.visualElement=BH(o,p,u,t);const g=d.useContext(ED),m=d.useContext(yD).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,m,e,g))}return d.createElement(um.Provider,{value:h},c&&h.visualElement?d.createElement(c,{visualElement:h.visualElement,...u}):null,n(o,a,zH(p,h.visualElement,l),p,f,h.visualElement))}const s=d.forwardRef(i);return s[KH]=o,s}function QH({layoutId:e}){const t=d.useContext(_D).id;return t&&e!==void 0?t+"-"+e:e}function XH(e){function t(r,o={}){return qH(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const YH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function RE(e){return typeof e!="string"||e.includes("-")?!1:!!(YH.indexOf(e)>-1||/[A-Z]/.test(e))}const Mh={};function JH(e){Object.assign(Mh,e)}const td=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cs=new Set(td);function xD(e,{layout:t,layoutId:n}){return Cs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Mh[e]||e==="opacity")}const xn=e=>!!(e&&e.getVelocity),ZH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eW=td.length;function tW(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<eW;s++){const a=td[s];if(e[a]!==void 0){const l=ZH[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const bD=e=>t=>typeof t=="string"&&t.startsWith(e),SD=bD("--"),t0=bD("var(--"),nW=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,rW=(e,t)=>t&&typeof e=="number"?t.transform(e):e,pi=(e,t,n)=>Math.min(Math.max(n,e),t),Ts={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bc={...Ts,transform:e=>pi(0,1,e)},Xd={...Ts,default:1},Sc=e=>Math.round(e*1e5)/1e5,pm=/(-)?([\d]*\.?[\d])+/g,CD=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oW=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function nd(e){return typeof e=="string"}const rd=e=>({test:t=>nd(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ko=rd("deg"),Mr=rd("%"),le=rd("px"),iW=rd("vh"),sW=rd("vw"),ZS={...Mr,parse:e=>Mr.parse(e)/100,transform:e=>Mr.transform(e*100)},eC={...Ts,transform:Math.round},TD={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,size:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,rotate:ko,rotateX:ko,rotateY:ko,rotateZ:ko,scale:Xd,scaleX:Xd,scaleY:Xd,scaleZ:Xd,skew:ko,skewX:ko,skewY:ko,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:bc,originX:ZS,originY:ZS,originZ:le,zIndex:eC,fillOpacity:bc,strokeOpacity:bc,numOctaves:eC};function IE(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const f in t){const h=t[f];if(SD(f)){i[f]=h;continue}const p=TD[f],g=rW(h,p);if(Cs.has(f)){if(l=!0,s[f]=g,!u)continue;h!==(p.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=g):o[f]=g}if(t.transform||(l||r?o.transform=tW(e.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:p=0}=a;o.transformOrigin=`${f} ${h} ${p}`}}const PE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RD(e,t,n){for(const r in t)!xn(t[r])&&!xD(r,n)&&(e[r]=t[r])}function aW({transformTemplate:e},t,n){return d.useMemo(()=>{const r=PE();return IE(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function lW(e,t,n){const r=e.style||{},o={};return RD(o,r,e),Object.assign(o,aW(e,t,n)),e.transformValues?e.transformValues(o):o}function cW(e,t,n){const r={},o=lW(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const uW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Oh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||uW.has(e)}let ID=e=>!Oh(e);function dW(e){e&&(ID=t=>t.startsWith("on")?!Oh(t):e(t))}try{dW(require("@emotion/is-prop-valid").default)}catch{}function fW(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(ID(o)||n===!0&&Oh(o)||!t&&!Oh(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function tC(e,t,n){return typeof e=="string"?e:le.transform(t+n*e)}function hW(e,t,n){const r=tC(t,e.x,e.width),o=tC(n,e.y,e.height);return`${r} ${o}`}const pW={offset:"stroke-dashoffset",array:"stroke-dasharray"},mW={offset:"strokeDashoffset",array:"strokeDasharray"};function gW(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?pW:mW;e[i.offset]=le.transform(-r);const s=le.transform(t),a=le.transform(n);e[i.array]=`${s} ${a}`}function AE(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(IE(e,c,u,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:m}=e;p.transform&&(m&&(g.transform=p.transform),delete p.transform),m&&(o!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=hW(m,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&gW(p,s,a,l,!1)}const PD=()=>({...PE(),attrs:{}}),$E=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vW(e,t,n,r){const o=d.useMemo(()=>{const i=PD();return AE(i,t,{enableHardwareAcceleration:!1},$E(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};RD(i,e.style,e),o.style={...i,...o.style}}return o}function yW(e=!1){return(n,r,o,{latestValues:i},s)=>{const l=(RE(n)?vW:cW)(r,i,s,n),u={...fW(r,typeof n=="string",e),...l,ref:o},{children:f}=r,h=d.useMemo(()=>xn(f)?f.get():f,[f]);return d.createElement(n,{...u,children:h})}}const kE=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function AD(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const $D=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kD(e,t,n,r){AD(e,t,void 0,r);for(const o in t.attrs)e.setAttribute($D.has(o)?o:kE(o),t.attrs[o])}function DE(e,t){const{style:n}=e,r={};for(const o in n)(xn(n[o])||t.style&&xn(t.style[o])||xD(o,e))&&(r[o]=n[o]);return r}function DD(e,t){const n=DE(e,t);for(const r in e)if(xn(e[r])||xn(t[r])){const o=td.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function NE(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function wW(e){const t=d.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lh=e=>Array.isArray(e),_W=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),EW=e=>Lh(e)?e[e.length-1]||0:e;function Nf(e){const t=xn(e)?e.get():e;return _W(t)?t.toValue():t}function xW({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:bW(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const ND=e=>(t,n)=>{const r=d.useContext(um),o=d.useContext(SE),i=()=>xW(e,t,r,o);return n?i():wW(i)};function bW(e,t,n,r){const o={},i=r(e,{});for(const h in i)o[h]=Nf(i[h]);let{initial:s,animate:a}=e;const l=hm(e),c=wD(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?a:s;return f&&typeof f!="boolean"&&!fm(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=NE(e,p);if(!g)return;const{transitionEnd:m,transition:w,...v}=g;for(const y in v){let E=v[y];if(Array.isArray(E)){const _=u?E.length-1:0;E=E[_]}E!==null&&(o[y]=E)}for(const y in m)o[y]=m[y]}),o}const SW={useVisualState:ND({scrapeMotionValuesFromProps:DD,createRenderState:PD,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}AE(n,r,{enableHardwareAcceleration:!1},$E(t.tagName),e.transformTemplate),kD(t,n)}})},CW={useVisualState:ND({scrapeMotionValuesFromProps:DE,createRenderState:PE})};function TW(e,{forwardMotionProps:t=!1},n,r){return{...RE(e)?SW:CW,preloadedFeatures:n,useRender:yW(t),createVisualElement:r,Component:e}}function no(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const MD=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function mm(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const RW=e=>t=>MD(t)&&e(t,mm(t));function so(e,t,n,r){return no(e,t,RW(n),r)}const IW=(e,t)=>n=>t(e(n)),oi=(...e)=>e.reduce(IW);function OD(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const nC=OD("dragHorizontal"),rC=OD("dragVertical");function LD(e){let t=!1;if(e==="y")t=rC();else if(e==="x")t=nC();else{const n=nC(),r=rC();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function VD(){const e=LD(!0);return e?(e(),!1):!0}class Ti{constructor(t){this.isMounted=!1,this.node=t}update(){}}const Et=e=>e;function PW(e){let t=[],n=[],r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&o,h=f?t:n;return c&&s.add(l),h.indexOf(l)===-1&&(h.push(l),f&&o&&(r=t.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let c=0;c<r;c++){const u=t[c];u(l),s.has(u)&&(a.schedule(u),e())}o=!1,i&&(i=!1,a.process(l))}};return a}const Yd=["prepare","read","update","preRender","render","postRender"],AW=40;function $W(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=Yd.reduce((f,h)=>(f[h]=PW(()=>n=!0),f),{}),s=f=>i[f].process(o),a=f=>{n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,AW),1),o.timestamp=f,o.isProcessing=!0,Yd.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:Yd.reduce((f,h)=>{const p=i[h];return f[h]=(g,m=!1,w=!1)=>(n||l(),p.schedule(g,m,w)),f},{}),cancel:f=>Yd.forEach(h=>i[h].cancel(f)),state:o,steps:i}}const{schedule:tt,cancel:xo,state:Gt,steps:Ug}=$W(typeof requestAnimationFrame<"u"?requestAnimationFrame:Et,!0);function oC(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||VD())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&tt.update(()=>a[r](i,s))};return so(e.current,n,o,{passive:!e.getProps()[r]})}class kW extends Ti{mount(){this.unmount=oi(oC(this.node,!0),oC(this.node,!1))}unmount(){}}class DW extends Ti{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oi(no(this.node.current,"focus",()=>this.onFocus()),no(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const FD=(e,t)=>t?e===t?!0:FD(e,t.parentElement):!1;function Bg(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,mm(n))}class NW extends Ti{constructor(){super(...arguments),this.removeStartListeners=Et,this.removeEndListeners=Et,this.removeAccessibleListeners=Et,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=so(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();tt.update(()=>{FD(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=so(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=oi(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Bg("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&tt.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=no(this.node.current,"keyup",s),Bg("down",(a,l)=>{this.startPress(a,l)})},n=no(this.node.current,"keydown",t),r=()=>{this.isPressing&&Bg("cancel",(i,s)=>this.cancelPress(i,s))},o=no(this.node.current,"blur",r);this.removeAccessibleListeners=oi(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tt.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!VD()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tt.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=so(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=no(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=oi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const n0=new WeakMap,zg=new WeakMap,MW=e=>{const t=n0.get(e.target);t&&t(e)},OW=e=>{e.forEach(MW)};function LW({root:e,...t}){const n=e||document;zg.has(n)||zg.set(n,{});const r=zg.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(OW,{root:e,...t})),r[o]}function VW(e,t,n){const r=LW(t);return n0.set(e,n),r.observe(e),()=>{n0.delete(e),r.unobserve(e)}}const FW={some:0,all:1};class jW extends Ti{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:FW[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return VW(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(UW(t,n))&&this.startObserver()}unmount(){}}function UW({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const BW={inView:{Feature:jW},tap:{Feature:NW},focus:{Feature:DW},hover:{Feature:kW}};function jD(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function zW(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function HW(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function gm(e,t,n){const r=e.getProps();return NE(r,t,n!==void 0?n:r.custom,zW(e),HW(e))}const WW="framerAppearId",GW="data-"+kE(WW);let KW=Et,ME=Et;const ii=e=>e*1e3,ao=e=>e/1e3,qW={current:!1},UD=e=>Array.isArray(e)&&typeof e[0]=="number";function BD(e){return!!(!e||typeof e=="string"&&zD[e]||UD(e)||Array.isArray(e)&&e.every(BD))}const tc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,zD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tc([0,.65,.55,1]),circOut:tc([.55,0,1,.45]),backIn:tc([.31,.01,.66,-.59]),backOut:tc([.33,1.53,.69,.99])};function HD(e){if(e)return UD(e)?tc(e):Array.isArray(e)?e.map(HD):zD[e]}function QW(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=HD(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function XW(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const WD=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,YW=1e-7,JW=12;function ZW(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=WD(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>YW&&++a<JW);return s}function od(e,t,n,r){if(e===t&&n===r)return Et;const o=i=>ZW(i,0,1,e,n);return i=>i===0||i===1?i:WD(o(i),t,r)}const eG=od(.42,0,1,1),tG=od(0,0,.58,1),GD=od(.42,0,.58,1),nG=e=>Array.isArray(e)&&typeof e[0]!="number",KD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qD=e=>t=>1-e(1-t),QD=e=>1-Math.sin(Math.acos(e)),OE=qD(QD),rG=KD(OE),XD=od(.33,1.53,.69,.99),LE=qD(XD),oG=KD(LE),iG=e=>(e*=2)<1?.5*LE(e):.5*(2-Math.pow(2,-10*(e-1))),sG={linear:Et,easeIn:eG,easeInOut:GD,easeOut:tG,circIn:QD,circInOut:rG,circOut:OE,backIn:LE,backInOut:oG,backOut:XD,anticipate:iG},iC=e=>{if(Array.isArray(e)){ME(e.length===4);const[t,n,r,o]=e;return od(t,n,r,o)}else if(typeof e=="string")return sG[e];return e},VE=(e,t)=>n=>!!(nd(n)&&oW.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),YD=(e,t,n)=>r=>{if(!nd(r))return r;const[o,i,s,a]=r.match(pm);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},aG=e=>pi(0,255,e),Hg={...Ts,transform:e=>Math.round(aG(e))},Hi={test:VE("rgb","red"),parse:YD("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Hg.transform(e)+", "+Hg.transform(t)+", "+Hg.transform(n)+", "+Sc(bc.transform(r))+")"};function lG(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const r0={test:VE("#"),parse:lG,transform:Hi.transform},la={test:VE("hsl","hue"),parse:YD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Mr.transform(Sc(t))+", "+Mr.transform(Sc(n))+", "+Sc(bc.transform(r))+")"},sn={test:e=>Hi.test(e)||r0.test(e)||la.test(e),parse:e=>Hi.test(e)?Hi.parse(e):la.test(e)?la.parse(e):r0.parse(e),transform:e=>nd(e)?e:e.hasOwnProperty("red")?Hi.transform(e):la.transform(e)},et=(e,t,n)=>-n*e+n*t+e;function Wg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cG({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=Wg(l,a,e+1/3),i=Wg(l,a,e),s=Wg(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const Gg=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},uG=[r0,Hi,la],dG=e=>uG.find(t=>t.test(e));function sC(e){const t=dG(e);let n=t.parse(e);return t===la&&(n=cG(n)),n}const JD=(e,t)=>{const n=sC(e),r=sC(t),o={...n};return i=>(o.red=Gg(n.red,r.red,i),o.green=Gg(n.green,r.green,i),o.blue=Gg(n.blue,r.blue,i),o.alpha=et(n.alpha,r.alpha,i),Hi.transform(o))};function fG(e){var t,n;return isNaN(e)&&nd(e)&&(((t=e.match(pm))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(CD))===null||n===void 0?void 0:n.length)||0)>0}const ZD={regex:nW,countKey:"Vars",token:"${v}",parse:Et},e2={regex:CD,countKey:"Colors",token:"${c}",parse:sn.parse},t2={regex:pm,countKey:"Numbers",token:"${n}",parse:Ts.parse};function Kg(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function Vh(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Kg(n,ZD),Kg(n,e2),Kg(n,t2),n}function n2(e){return Vh(e).values}function r2(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Vh(e),i=t.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(ZD.token,s[l]):l<r+n?a=a.replace(e2.token,sn.transform(s[l])):a=a.replace(t2.token,Sc(s[l]));return a}}const hG=e=>typeof e=="number"?0:e;function pG(e){const t=n2(e);return r2(e)(t.map(hG))}const mi={test:fG,parse:n2,createTransformer:r2,getAnimatableNone:pG},o2=(e,t)=>n=>`${n>0?t:e}`;function i2(e,t){return typeof e=="number"?n=>et(e,t,n):sn.test(e)?JD(e,t):e.startsWith("var(")?o2(e,t):a2(e,t)}const s2=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>i2(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},mG=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=i2(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},a2=(e,t)=>{const n=mi.createTransformer(t),r=Vh(e),o=Vh(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?oi(s2(r.values,o.values),n):o2(e,t)},hu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},aC=(e,t)=>n=>et(e,t,n);function gG(e){return typeof e=="number"?aC:typeof e=="string"?sn.test(e)?JD:a2:Array.isArray(e)?s2:typeof e=="object"?mG:aC}function vG(e,t,n){const r=[],o=n||gG(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Et:t;a=oi(l,a)}r.push(a)}return r}function l2(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(ME(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=vG(t,r,o),a=s.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const f=hu(e[u],e[u+1],c);return s[u](f)};return n?c=>l(pi(e[0],e[i-1],c)):l}function yG(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=hu(0,t,r);e.push(et(n,1,o))}}function wG(e){const t=[0];return yG(t,e.length-1),t}function _G(e,t){return e.map(n=>n*t)}function EG(e,t){return e.map(()=>t||GD).splice(0,e.length-1)}function Fh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=nG(r)?r.map(iC):iC(r),i={done:!1,value:t[0]},s=_G(n&&n.length===t.length?n:wG(t),e),a=l2(s,t,{ease:Array.isArray(o)?o:EG(t,o)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function c2(e,t){return t?e*(1e3/t):0}const xG=5;function u2(e,t,n){const r=Math.max(t-xG,0);return c2(n-e(r),t-r)}const qg=.001,bG=.01,lC=10,SG=.05,CG=1;function TG({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;KW(e<=ii(lC));let s=1-t;s=pi(SG,CG,s),e=pi(bG,lC,ao(e)),s<1?(o=c=>{const u=c*s,f=u*e,h=u-n,p=o0(c,s),g=Math.exp(-f);return qg-h/p*g},i=c=>{const f=c*s*e,h=f*n+n,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=o0(Math.pow(c,2),s);return(-o(c)+qg>0?-1:1)*((h-p)*g)/m}):(o=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-qg+u*f},i=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const a=5/e,l=IG(o,i,a);if(e=ii(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const RG=12;function IG(e,t,n){let r=n;for(let o=1;o<RG;o++)r=r-e(r)/t(r);return r}function o0(e,t){return e*Math.sqrt(1-t*t)}const PG=["duration","bounce"],AG=["stiffness","damping","mass"];function cC(e,t){return t.some(n=>e[n]!==void 0)}function $G(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!cC(e,AG)&&cC(e,PG)){const n=TG(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function d2({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,velocity:u,duration:f,isResolvedFromDuration:h}=$G(r),p=u?-ao(u):0,g=l/(2*Math.sqrt(a*c)),m=i-o,w=ao(Math.sqrt(a/c)),v=Math.abs(m)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let y;if(g<1){const E=o0(w,g);y=_=>{const b=Math.exp(-g*w*_);return i-b*((p+g*w*m)/E*Math.sin(E*_)+m*Math.cos(E*_))}}else if(g===1)y=E=>i-Math.exp(-w*E)*(m+(p+w*m)*E);else{const E=w*Math.sqrt(g*g-1);y=_=>{const b=Math.exp(-g*w*_),S=Math.min(E*_,300);return i-b*((p+g*w*m)*Math.sinh(S)+E*m*Math.cosh(S))/E}}return{calculatedDuration:h&&f||null,next:E=>{const _=y(E);if(h)s.done=E>=f;else{let b=p;E!==0&&(g<1?b=u2(y,E,_):b=0);const S=Math.abs(b)<=n,C=Math.abs(i-_)<=t;s.done=S&&C}return s.value=s.done?i:_,s}}}function uC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let m=n*t;const w=f+m,v=s===void 0?w:s(w);v!==w&&(m=v-f);const y=T=>-m*Math.exp(-T/r),E=T=>v+y(T),_=T=>{const I=y(T),M=E(T);h.done=Math.abs(I)<=c,h.value=h.done?v:M};let b,S;const C=T=>{p(h.value)&&(b=T,S=d2({keyframes:[h.value,g(h.value)],velocity:u2(E,T,h.value),damping:o,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let I=!1;return!S&&b===void 0&&(I=!0,_(T),C(T)),b!==void 0&&T>b?S.next(T-b):(!I&&_(T),h)}}}const kG=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tt.update(t,!0),stop:()=>xo(t),now:()=>Gt.isProcessing?Gt.timestamp:performance.now()}},dC=2e4;function fC(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<dC;)t+=n,r=e.next(t);return t>=dC?1/0:t}const DG={decay:uC,inertia:uC,tween:Fh,keyframes:Fh,spring:d2};function jh({autoplay:e=!0,delay:t=0,driver:n=kG,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let p=1,g=!1,m,w;const v=()=>{w=new Promise(V=>{m=V})};v();let y;const E=DG[o]||Fh;let _;E!==Fh&&typeof r[0]!="number"&&(_=l2([0,100],r,{clamp:!1}),r=[0,100]);const b=E({...h,keyframes:r});let S;a==="mirror"&&(S=E({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let C="idle",T=null,I=null,M=null;b.calculatedDuration===null&&i&&(b.calculatedDuration=fC(b));const{calculatedDuration:B}=b;let j=1/0,q=1/0;B!==null&&(j=B+s,q=j*(i+1)-s);let N=0;const U=V=>{if(I===null)return;p>0&&(I=Math.min(I,V)),p<0&&(I=Math.min(V-q/p,I)),T!==null?N=T:N=Math.round(V-I)*p;const L=N-t*(p>=0?1:-1),se=p>=0?L<0:L>q;N=Math.max(L,0),C==="finished"&&T===null&&(N=q);let ee=N,Te=b;if(i){const Me=N/j;let Se=Math.floor(Me),_e=Me%1;!_e&&Me>=1&&(_e=1),_e===1&&Se--,Se=Math.min(Se,i+1);const Re=!!(Se%2);Re&&(a==="reverse"?(_e=1-_e,s&&(_e-=s/j)):a==="mirror"&&(Te=S));let Tt=pi(0,1,_e);N>q&&(Tt=a==="reverse"&&Re?1:0),ee=Tt*j}const $e=se?{done:!1,value:r[0]}:Te.next(ee);_&&($e.value=_($e.value));let{done:te}=$e;!se&&B!==null&&(te=p>=0?N>=q:N<=0);const ye=T===null&&(C==="finished"||C==="running"&&te);return f&&f($e.value),ye&&k(),$e},W=()=>{y&&y.stop(),y=void 0},Z=()=>{C="idle",W(),m(),v(),I=M=null},k=()=>{C="finished",u&&u(),W(),m()},R=()=>{if(g)return;y||(y=n(U));const V=y.now();l&&l(),T!==null?I=V-T:(!I||C==="finished")&&(I=V),C==="finished"&&v(),M=I,T=null,C="running",y.start()};e&&R();const $={then(V,L){return w.then(V,L)},get time(){return ao(N)},set time(V){V=ii(V),N=V,T!==null||!y||p===0?T=V:I=y.now()-V/p},get duration(){const V=b.calculatedDuration===null?fC(b):b.calculatedDuration;return ao(V)},get speed(){return p},set speed(V){V===p||!y||(p=V,$.time=ao(N))},get state(){return C},play:R,pause:()=>{C="paused",T=N},stop:()=>{g=!0,C!=="idle"&&(C="idle",c&&c(),Z())},cancel:()=>{M!==null&&U(M),Z()},complete:()=>{C="finished"},sample:V=>(I=0,U(V))};return $}function NG(e){let t;return()=>(t===void 0&&(t=e()),t)}const MG=NG(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),OG=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Jd=10,LG=2e4,VG=(e,t)=>t.type==="spring"||e==="backgroundColor"||!BD(t.ease);function FG(e,t,{onUpdate:n,onComplete:r,...o}){if(!(MG()&&OG.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l;const c=()=>{l=new Promise(v=>{a=v})};c();let{keyframes:u,duration:f=300,ease:h,times:p}=o;if(VG(t,o)){const v=jh({...o,repeat:0,delay:0});let y={done:!1,value:u[0]};const E=[];let _=0;for(;!y.done&&_<LG;)y=v.sample(_),E.push(y.value),_+=Jd;p=void 0,u=E,f=_-Jd,h="linear"}const g=QW(e.owner.current,t,u,{...o,duration:f,ease:h,times:p}),m=()=>g.cancel(),w=()=>{tt.update(m),a(),c()};return g.onfinish=()=>{e.set(XW(u,o)),r&&r(),w()},{then(v,y){return l.then(v,y)},get timeline(){return g.timeline},set timeline(v){g.timeline=v,g.onfinish=null},get time(){return ao(g.currentTime||0)},set time(v){g.currentTime=ii(v)},get speed(){return g.playbackRate},set speed(v){g.playbackRate=v},get duration(){return ao(f)},play:()=>{s||(g.play(),xo(m))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:v}=g;if(v){const y=jh({...o,autoplay:!1});e.setWithVelocity(y.sample(v-Jd).value,y.sample(v).value,Jd)}w()},complete:()=>g.finish(),cancel:w}}function jG({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Et,pause:Et,stop:Et,then:i=>(i(),Promise.resolve()),cancel:Et,complete:Et});return t?jh({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const UG={type:"spring",stiffness:500,damping:25,restSpeed:10},BG=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zG={type:"keyframes",duration:.8},HG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WG=(e,{keyframes:t})=>t.length>2?zG:Cs.has(e)?e.startsWith("scale")?BG(t[1]):UG:HG,i0=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mi.test(t)||t==="0")&&!t.startsWith("url(")),GG=new Set(["brightness","contrast","saturate","opacity"]);function KG(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(pm)||[];if(!r)return e;const o=n.replace(r,"");let i=GG.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const qG=/([a-z-]*)\(.*?\)/g,s0={...mi,getAnimatableNone:e=>{const t=e.match(qG);return t?t.map(KG).join(" "):e}},QG={...TD,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:s0,WebkitFilter:s0},FE=e=>QG[e];function f2(e,t){let n=FE(e);return n!==s0&&(n=mi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const h2=e=>/^0[^.\s]+$/.test(e);function XG(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||h2(e)}function YG(e,t,n,r){const o=i0(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?s:i[c-1]),XG(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=f2(t,a)}return i}function JG({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function p2(e,t){return e[t]||e.default||e}const jE=(e,t,n,r={})=>o=>{const i=p2(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ii(s);const l=YG(t,e,n,i),c=l[0],u=l[l.length-1],f=i0(e,c),h=i0(e,u);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(JG(i)||(p={...p,...WG(e,p)}),p.duration&&(p.duration=ii(p.duration)),p.repeatDelay&&(p.repeatDelay=ii(p.repeatDelay)),!f||!h||qW.current||i.type===!1)return jG(p);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=FG(t,e,p);if(g)return g}return jh(p)};function Uh(e){return!!(xn(e)&&e.add)}const ZG=e=>/^\-?\d*\.?\d+$/.test(e);function UE(e,t){e.indexOf(t)===-1&&e.push(t)}function BE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class zE{constructor(){this.subscriptions=[]}add(t){return UE(this.subscriptions,t),()=>BE(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eK=e=>!isNaN(parseFloat(e));class tK{constructor(t,n={}){this.version="10.13.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Gt;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=eK(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new zE);const r=this.events[t].add(n);return t==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?c2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ha(e,t){return new tK(e,t)}const m2=e=>t=>t.test(e),nK={test:e=>e==="auto",parse:e=>e},g2=[Ts,le,Mr,ko,sW,iW,nK],jl=e=>g2.find(m2(e)),rK=[...g2,sn,mi],oK=e=>rK.find(m2(e));function iK(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ha(n))}function sK(e,t){const n=gm(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=EW(i[s]);iK(e,s,a)}}function aK(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],c=t[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(o=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&o!==void 0?o:t[l]),u!=null&&(typeof u=="string"&&(ZG(u)||h2(u))?u=parseFloat(u):!oK(u)&&mi.test(c)&&(u=f2(l,c)),e.addValue(l,Ha(u,{owner:e})),n[l]===void 0&&(n[l]=u),u!==null&&e.setBaseTarget(l,u))}}function lK(e,t){return t?(t[e]||t.default||t).from:void 0}function cK(e,t,n){const r={};for(const o in e){const i=lK(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function uK({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function v2(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const h=e.getValue(f),p=a[f];if(!h||p===void 0||u&&uK(u,f))continue;const g={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!h.hasAnimated){const w=e.getProps()[GW];w&&(g.elapsed=window.HandoffAppearAnimations(w,f,h,tt))}h.start(jE(f,h,p,e.shouldReduceMotion&&Cs.has(f)?{type:!1}:g));const m=h.animation;Uh(l)&&(l.add(f),m.then(()=>l.remove(f))),c.push(m)}return s&&Promise.all(c).then(()=>{s&&sK(e,s)}),c}function a0(e,t,n={}){const r=gm(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(v2(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=o;return dK(e,t,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(n.delay)])}function dK(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(fK).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(a0(c,t,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function fK(e,t){return e.sortNodePosition(t)}function hK(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>a0(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=a0(e,t,n);else{const o=typeof t=="function"?gm(e,t,n.custom):t;r=Promise.all(v2(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const pK=[...CE].reverse(),mK=CE.length;function gK(e){return t=>Promise.all(t.map(({animation:n,options:r})=>hK(e,n,r)))}function vK(e){let t=gK(e);const n=wK();let r=!0;const o=(l,c)=>{const u=gm(e,c);if(u){const{transition:f,transitionEnd:h,...p}=u;l={...l,...p,...h}}return l};function i(l){t=l(e)}function s(l,c){const u=e.getProps(),f=e.getVariantContext(!0)||{},h=[],p=new Set;let g={},m=1/0;for(let v=0;v<mK;v++){const y=pK[v],E=n[y],_=u[y]!==void 0?u[y]:f[y],b=du(_),S=y===c?E.isActive:null;S===!1&&(m=v);let C=_===f[y]&&_!==u[y]&&b;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...g},!E.isActive&&S===null||!_&&!E.prevProp||fm(_)||typeof _=="boolean")continue;const T=yK(E.prevProp,_);let I=T||y===c&&E.isActive&&!C&&b||v>m&&b;const M=Array.isArray(_)?_:[_];let B=M.reduce(o,{});S===!1&&(B={});const{prevResolvedValues:j={}}=E,q={...j,...B},N=U=>{I=!0,p.delete(U),E.needsAnimating[U]=!0};for(const U in q){const W=B[U],Z=j[U];g.hasOwnProperty(U)||(W!==Z?Lh(W)&&Lh(Z)?!jD(W,Z)||T?N(U):E.protectedKeys[U]=!0:W!==void 0?N(U):p.add(U):W!==void 0&&p.has(U)?N(U):E.protectedKeys[U]=!0)}E.prevProp=_,E.prevResolvedValues=B,E.isActive&&(g={...g,...B}),r&&e.blockInitialAnimation&&(I=!1),I&&!C&&h.push(...M.map(U=>({animation:U,options:{type:y,...l}})))}if(p.size){const v={};p.forEach(y=>{const E=e.getBaseTarget(y);E!==void 0&&(v[y]=E)}),h.push({animation:v})}let w=!!h.length;return r&&u.initial===!1&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function yK(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jD(t,e):!1}function Ri(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wK(){return{animate:Ri(!0),whileInView:Ri(),whileHover:Ri(),whileTap:Ri(),whileDrag:Ri(),whileFocus:Ri(),exit:Ri()}}class _K extends Ti{constructor(t){super(t),t.animationState||(t.animationState=vK(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),fm(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let EK=0;class xK extends Ti{constructor(){super(...arguments),this.id=EK++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const bK={animation:{Feature:_K},exit:{Feature:xK}},hC=(e,t)=>Math.abs(e-t);function SK(e,t){const n=hC(e.x,t.x),r=hC(e.y,t.y);return Math.sqrt(n**2+r**2)}class y2{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Xg(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,f=SK(c.offset,{x:0,y:0})>=3;if(!u&&!f)return;const{point:h}=c,{timestamp:p}=Gt;this.history.push({...h,timestamp:p});const{onStart:g,onMove:m}=this.handlers;u||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Qg(u,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:h}=this.handlers,p=Xg(c.type==="pointercancel"?this.lastMoveEventInfo:Qg(u,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,p),h&&h(c,p)},!MD(t))return;this.handlers=n,this.transformPagePoint=r;const o=mm(t),i=Qg(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Gt;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,Xg(i,this.history)),this.removeListeners=oi(so(window,"pointermove",this.handlePointerMove),so(window,"pointerup",this.handlePointerUp),so(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xo(this.updatePoint)}}function Qg(e,t){return t?{point:t(e.point)}:e}function pC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xg({point:e},t){return{point:e,delta:pC(e,w2(t)),offset:pC(e,CK(t)),velocity:TK(t,.1)}}function CK(e){return e[0]}function w2(e){return e[e.length-1]}function TK(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=w2(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>ii(t)));)n--;if(!r)return{x:0,y:0};const i=ao(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function On(e){return e.max-e.min}function l0(e,t=0,n=.01){return Math.abs(e-t)<=n}function mC(e,t,n,r=.5){e.origin=r,e.originPoint=et(t.min,t.max,e.origin),e.scale=On(n)/On(t),(l0(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=et(n.min,n.max,e.origin)-e.originPoint,(l0(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Cc(e,t,n,r){mC(e.x,t.x,n.x,r?r.originX:void 0),mC(e.y,t.y,n.y,r?r.originY:void 0)}function gC(e,t,n){e.min=n.min+t.min,e.max=e.min+On(t)}function RK(e,t,n){gC(e.x,t.x,n.x),gC(e.y,t.y,n.y)}function vC(e,t,n){e.min=t.min-n.min,e.max=e.min+On(t)}function Tc(e,t,n){vC(e.x,t.x,n.x),vC(e.y,t.y,n.y)}function IK(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?et(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?et(n,e,r.max):Math.min(e,n)),e}function yC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function PK(e,{top:t,left:n,bottom:r,right:o}){return{x:yC(e.x,n,o),y:yC(e.y,t,r)}}function wC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function AK(e,t){return{x:wC(e.x,t.x),y:wC(e.y,t.y)}}function $K(e,t){let n=.5;const r=On(e),o=On(t);return o>r?n=hu(t.min,t.max-r,e.min):r>o&&(n=hu(e.min,e.max-o,t.min)),pi(0,1,n)}function kK(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const c0=.35;function DK(e=c0){return e===!1?e=0:e===!0&&(e=c0),{x:_C(e,"left","right"),y:_C(e,"top","bottom")}}function _C(e,t,n){return{min:EC(e,t),max:EC(e,n)}}function EC(e,t){return typeof e=="number"?e:e[t]||0}const xC=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:xC(),y:xC()}),bC=()=>({min:0,max:0}),mt=()=>({x:bC(),y:bC()});function br(e){return[e("x"),e("y")]}function _2({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function NK({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MK(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yg(e){return e===void 0||e===1}function u0({scale:e,scaleX:t,scaleY:n}){return!Yg(e)||!Yg(t)||!Yg(n)}function $i(e){return u0(e)||E2(e)||e.z||e.rotate||e.rotateX||e.rotateY}function E2(e){return SC(e.x)||SC(e.y)}function SC(e){return e&&e!=="0%"}function Bh(e,t,n){const r=e-n,o=t*r;return n+o}function CC(e,t,n,r,o){return o!==void 0&&(e=Bh(e,o,r)),Bh(e,n,r)+t}function d0(e,t=0,n=1,r,o){e.min=CC(e.min,t,n,r,o),e.max=CC(e.max,t,n,r,o)}function x2(e,{x:t,y:n}){d0(e.x,t.translate,t.scale,t.originPoint),d0(e.y,n.translate,n.scale,n.originPoint)}function OK(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ua(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,x2(e,s)),r&&$i(i.latestValues)&&ua(e,i.latestValues))}t.x=TC(t.x),t.y=TC(t.y)}function TC(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Oo(e,t){e.min=e.min+t,e.max=e.max+t}function RC(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=et(e.min,e.max,i);d0(e,t[n],t[r],s,t.scale)}const LK=["x","scaleX","originX"],VK=["y","scaleY","originY"];function ua(e,t){RC(e.x,t,LK),RC(e.y,t,VK)}function b2(e,t){return _2(MK(e.getBoundingClientRect(),t))}function FK(e,t,n){const r=b2(e,n),{scroll:o}=t;return o&&(Oo(r.x,o.offset.x),Oo(r.y,o.offset.y)),r}const jK=new WeakMap;class UK{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=l=>{this.stopAnimation(),n&&this.snapToCursor(mm(l,"page").point)},i=(l,c)=>{const{drag:u,dragPropagation:f,onDragStart:h}=this.getProps();if(u&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=LD(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),br(g=>{let m=this.getAxisMotionValue(g).get()||0;if(Mr.test(m)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[g];v&&(m=On(v)*(parseFloat(m)/100))}}this.originPoint[g]=m}),h&&tt.update(()=>h(l,c),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},s=(l,c)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:h,onDrag:p}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:g}=c;if(f&&this.currentDirection===null){this.currentDirection=BK(g),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",c.point,g),this.updateAxis("y",c.point,g),this.visualElement.render(),p&&p(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new y2(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&tt.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Zd(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=IK(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&aa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=PK(r.layoutBox,t):this.constraints=!1,this.elastic=DK(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&br(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=kK(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!aa(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=FK(r,o.root,this.visualElement.getTransformPagePoint());let s=AK(o.layout.layoutBox,i);if(n){const a=n(NK(s));this.hasMutatedConstraints=!!a,a&&(s=_2(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=br(u=>{if(!Zd(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=o?200:1e6,p=o?40:1e7,g={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(jE(t,r,0,n))}stopAnimation(){br(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){br(n=>{const{drag:r}=this.getProps();if(!Zd(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-et(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!aa(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};br(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=$K({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),br(s=>{if(!Zd(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(et(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;jK.set(this.visualElement,this);const t=this.visualElement.current,n=so(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();aa(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=no(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(br(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=c0,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function Zd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function BK(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zK extends Ti{constructor(t){super(t),this.removeGroupControls=Et,this.removeListeners=Et,this.controls=new UK(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Et}unmount(){this.removeGroupControls(),this.removeListeners()}}const IC=e=>(t,n)=>{e&&tt.update(()=>e(t,n))};class HK extends Ti{constructor(){super(...arguments),this.removePointerDownListener=Et}onPointerDown(t){this.session=new y2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:IC(t),onStart:IC(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&tt.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=so(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function WK(){const e=d.useContext(SE);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=d.useId();return d.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const Mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ul={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(le.test(e))e=parseFloat(e);else return e;const n=PC(e,t.target.x),r=PC(e,t.target.y);return`${n}% ${r}%`}},GK={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=mi.parse(e);if(o.length>5)return r;const i=mi.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=l;const c=et(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class KK extends mn.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;JH(qK),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||tt.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function S2(e){const[t,n]=WK(),r=d.useContext(_D);return mn.createElement(KK,{...e,layoutGroup:r,switchLayoutGroup:d.useContext(ED),isPresent:t,safeToRemove:n})}const qK={borderRadius:{...Ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ul,borderTopRightRadius:Ul,borderBottomLeftRadius:Ul,borderBottomRightRadius:Ul,boxShadow:GK},C2=["TopLeft","TopRight","BottomLeft","BottomRight"],QK=C2.length,AC=e=>typeof e=="string"?parseFloat(e):e,$C=e=>typeof e=="number"||le.test(e);function XK(e,t,n,r,o,i){o?(e.opacity=et(0,n.opacity!==void 0?n.opacity:1,YK(r)),e.opacityExit=et(t.opacity!==void 0?t.opacity:1,0,JK(r))):i&&(e.opacity=et(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<QK;s++){const a=`border${C2[s]}Radius`;let l=kC(t,a),c=kC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$C(l)===$C(c)?(e[a]=Math.max(et(AC(l),AC(c),r),0),(Mr.test(c)||Mr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=et(t.rotate||0,n.rotate||0,r))}function kC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const YK=T2(0,.5,OE),JK=T2(.5,.95,Et);function T2(e,t,n){return r=>r<e?0:r>t?1:n(hu(e,t,r))}function DC(e,t){e.min=t.min,e.max=t.max}function jn(e,t){DC(e.x,t.x),DC(e.y,t.y)}function NC(e,t,n,r,o){return e-=t,e=Bh(e,1/n,r),o!==void 0&&(e=Bh(e,1/o,r)),e}function ZK(e,t=0,n=1,r=.5,o,i=e,s=e){if(Mr.test(t)&&(t=parseFloat(t),t=et(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=et(i.min,i.max,r);e===i&&(a-=t),e.min=NC(e.min,t,n,a,o),e.max=NC(e.max,t,n,a,o)}function MC(e,t,[n,r,o],i,s){ZK(e,t[n],t[r],t[o],t.scale,i,s)}const eq=["x","scaleX","originX"],tq=["y","scaleY","originY"];function OC(e,t,n,r){MC(e.x,t,eq,n?n.x:void 0,r?r.x:void 0),MC(e.y,t,tq,n?n.y:void 0,r?r.y:void 0)}function LC(e){return e.translate===0&&e.scale===1}function R2(e){return LC(e.x)&&LC(e.y)}function f0(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function VC(e){return On(e.x)/On(e.y)}class nq{constructor(){this.members=[]}add(t){UE(this.members,t),t.scheduleRender()}remove(t){if(BE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FC(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const rq=(e,t)=>e.depth-t.depth;class oq{constructor(){this.children=[],this.isDirty=!1}add(t){UE(this.children,t),this.isDirty=!0}remove(t){BE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rq),this.isDirty=!1,this.children.forEach(t)}}function iq(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(xo(r),e(i-t))};return tt.read(r,!0),()=>xo(r)}function sq(e){window.MotionDebug&&window.MotionDebug.record(e)}function aq(e){return e instanceof SVGElement&&e.tagName!=="svg"}function lq(e,t,n){const r=xn(e)?e:Ha(e);return r.start(jE("",r,t,n)),r.animation}const jC=["","X","Y","Z"],UC=1e3;let cq=0;const ki={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function I2({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=cq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ki.totalNodes=ki.resolvedTargetDeltas=ki.recalculatedProjection=0,this.nodes.forEach(fq),this.nodes.forEach(vq),this.nodes.forEach(yq),this.nodes.forEach(hq),sq(ki)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oq)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new zE),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aq(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=iq(h,250),Mf.hasAnimatedSinceResize&&(Mf.hasAnimatedSinceResize=!1,this.nodes.forEach(zC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||bq,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!f0(this.targetLayout,g)||p,E=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const _={...p2(m,"layout"),onPlay:w,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||zC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wq),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BC);return}this.isUpdating||this.nodes.forEach(mq),this.isUpdating=!1,this.nodes.forEach(gq),this.nodes.forEach(uq),this.nodes.forEach(dq),this.clearAllSnapshots();const a=performance.now();Gt.delta=pi(0,1e3/60,a-Gt.timestamp),Gt.timestamp=a,Gt.isProcessing=!0,Ug.update.process(Gt),Ug.preRender.process(Gt),Ug.render.process(Gt),Gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(pq),this.sharedNodes.forEach(_q)}scheduleUpdateProjection(){tt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!R2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||$i(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Cq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return mt();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Oo(a.x,l.offset.x),Oo(a.y,l.offset.y)),a}removeElementScroll(s){const a=mt();jn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){jn(a,s);const{scroll:h}=this.root;h&&(Oo(a.x,-h.offset.x),Oo(a.y,-h.offset.y))}Oo(a.x,u.offset.x),Oo(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=mt();jn(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ua(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),$i(u.latestValues)&&ua(l,u.latestValues)}return $i(this.latestValues)&&ua(l,this.latestValues),l}removeTransform(s){const a=mt();jn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$i(c.latestValues))continue;u0(c.latestValues)&&c.updateSnapshot();const u=mt(),f=c.measurePageBox();jn(u,f),OC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return $i(this.latestValues)&&OC(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Gt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Tc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),x2(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Tc(this.relativeTargetOrigin,this.target,p.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ki.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||u0(this.parent.latestValues)||E2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;jn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;OK(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=ca(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca());const m=this.projectionTransform;Cc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=FC(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),ki.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=mt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,w=this.getStack(),v=!w||w.members.length<=1,y=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(xq));this.animationProgress=0;let E;this.mixTargetDelta=_=>{const b=_/1e3;HC(f.x,s.x,b),HC(f.y,s.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Eq(this.relativeTarget,this.relativeTargetOrigin,h,b),E&&f0(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=mt()),jn(E,this.relativeTarget)),m&&(this.animationValues=u,XK(u,c,this.latestValues,b,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Mf.hasAnimatedSinceResize=!0,this.currentAnimation=lq(0,UC,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&P2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||mt();const f=On(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=On(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}jn(a,l),ua(a,u),Cc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new nq),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<jC.length;u++){const f="rotate"+jC[u];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Nf(s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Nf(s.pointerEvents)||""),this.hasProjected&&!$i(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=FC(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Mh){if(h[m]===void 0)continue;const{correct:w,applyTo:v}=Mh[m],y=c.transform==="none"?h[m]:w(h[m],f);if(v){const E=v.length;for(let _=0;_<E;_++)c[v[_]]=y}else c[m]=y}return this.options.layoutId&&(c.pointerEvents=f===this?Nf(s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(BC),this.root.sharedNodes.clear()}}}function uq(e){e.updateLayout()}function dq(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?br(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=On(h);h.min=r[f].min,h.max=h.min+p}):P2(i,n.layoutBox,r)&&br(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=On(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const a=ca();Cc(a,r,n.layoutBox);const l=ca();s?Cc(l,e.applyTransform(o,!0),n.measuredBox):Cc(l,r,n.layoutBox);const c=!R2(a);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=mt();Tc(g,n.layoutBox,h.layoutBox);const m=mt();Tc(m,r,p.layoutBox),f0(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function fq(e){ki.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pq(e){e.clearSnapshot()}function BC(e){e.clearMeasurements()}function mq(e){e.isLayoutDirty=!1}function gq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vq(e){e.resolveTargetDelta()}function yq(e){e.calcProjection()}function wq(e){e.resetRotation()}function _q(e){e.removeLeadSnapshot()}function HC(e,t,n){e.translate=et(t.translate,0,n),e.scale=et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WC(e,t,n,r){e.min=et(t.min,n.min,r),e.max=et(t.max,n.max,r)}function Eq(e,t,n,r){WC(e.x,t.x,n.x,r),WC(e.y,t.y,n.y,r)}function xq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bq={duration:.45,ease:[.4,0,.1,1]};let zh;const Sq=()=>navigator.userAgent.toLowerCase().includes("applewebkit/");function GC(e){e.min=zh(e.min),e.max=zh(e.max)}function Cq(e){zh||(zh=Sq()?Math.round:t=>Math.round(t*2)/2),GC(e.x),GC(e.y)}function P2(e,t,n){return e==="position"||e==="preserve-aspect"&&!l0(VC(t),VC(n),.2)}const Tq=I2({attachResizeListener:(e,t)=>no(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jg={current:void 0},A2=I2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jg.current){const e=new Tq({});e.mount(window),e.setOptions({layoutScroll:!0}),Jg.current=e}return Jg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Rq={pan:{Feature:HK},drag:{Feature:zK,ProjectionNode:A2,MeasureLayout:S2}},Iq=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Pq(e){const t=Iq.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function h0(e,t,n=1){const[r,o]=Pq(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);return i?i.trim():t0(o)?h0(o,t,n+1):o}function Aq(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!t0(i))return;const s=h0(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!t0(i))continue;const s=h0(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const $q=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$2=e=>$q.has(e),kq=e=>Object.keys(e).some($2),KC=e=>e===Ts||e===le,qC=(e,t)=>parseFloat(e.split(", ")[t]),QC=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return qC(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?qC(i[1],e):0}},Dq=new Set(["x","y","z"]),Nq=td.filter(e=>!Dq.has(e));function Mq(e){const t=[];return Nq.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Wa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:QC(4,13),y:QC(5,14)};Wa.translateX=Wa.x;Wa.translateY=Wa.y;const Oq=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{a[c]=Wa[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const u=t.getValue(c);u&&u.jump(a[c]),e[c]=Wa[c](l,i)}),e},Lq=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter($2);let i=[],s=!1;const a=[];if(o.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let u=n[l],f=jl(u);const h=t[l];let p;if(Lh(h)){const g=h.length,m=h[0]===null?1:0;u=h[m],f=jl(u);for(let w=m;w<g&&h[w]!==null;w++)p?ME(jl(h[w])===p):p=jl(h[w])}else p=jl(h);if(f!==p)if(KC(f)&&KC(p)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&p===le&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(u===0||h===0)?u===0?c.set(p.transform(u)):t[l]=f.transform(h):(s||(i=Mq(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Oq(t,e,a);return i.length&&i.forEach(([u,f])=>{e.getValue(u).set(f)}),e.render(),dm&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Vq(e,t,n,r){return kq(t)?Lq(e,t,n,r):{target:t,transitionEnd:r}}const Fq=(e,t,n,r)=>{const o=Aq(e,t,r);return t=o.target,r=o.transitionEnd,Vq(e,t,n,r)},p0={current:null},k2={current:!1};function jq(){if(k2.current=!0,!!dm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>p0.current=e.matches;e.addListener(t),t()}else p0.current=!1}function Uq(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(xn(i))e.addValue(o,i),Uh(r)&&r.add(o);else if(xn(s))e.addValue(o,Ha(i,{owner:e})),Uh(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Ha(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const XC=new WeakMap,D2=Object.keys(fu),Bq=D2.length,YC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],zq=TE.length;class Hq{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=hm(n),this.isVariantNode=wD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&xn(h)&&(h.set(a[f],!1),Uh(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,XC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),k2.current||jq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:p0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){XC.delete(this.current),this.projection&&this.projection.unmount(),xo(this.notifyUpdate),xo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Cs.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&tt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let l=0;l<Bq;l++){const c=D2[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:p}=fu[c];h&&(s=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(a=p))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&aa(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YC.length;r++){const o=YC[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=Uq(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<zq;r++){const o=TE[r],i=this.props[o];(du(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ha(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=NE(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!xn(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new zE),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class N2 extends Hq{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=cK(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){aK(this,r,s);const a=Fq(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function Wq(e){return window.getComputedStyle(e)}class Gq extends N2{readValueFromInstance(t,n){if(Cs.has(n)){const r=FE(n);return r&&r.default||0}else{const r=Wq(t),o=(SD(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return b2(t,n)}build(t,n,r,o){IE(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return DE(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){AD(t,n,r,o)}}class Kq extends N2{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cs.has(n)){const r=FE(n);return r&&r.default||0}return n=$D.has(n)?n:kE(n),t.getAttribute(n)}measureInstanceViewportBox(){return mt()}scrapeMotionValuesFromProps(t,n){return DD(t,n)}build(t,n,r,o){AE(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){kD(t,n,r,o)}mount(t){this.isSVGTag=$E(t.tagName),super.mount(t)}}const qq=(e,t)=>RE(e)?new Kq(t,{enableHardwareAcceleration:!1}):new Gq(t,{enableHardwareAcceleration:!0}),Qq={layout:{ProjectionNode:A2,MeasureLayout:S2}},Xq={...bK,...BW,...Rq,...Qq},JC=XH((e,t)=>TW(e,t,Xq,qq)),ZC=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,eT=Wk,HE=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return eT(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,s=Object.keys(o).map(c=>{const u=n==null?void 0:n[c],f=i==null?void 0:i[c];if(u===null)return null;const h=ZC(u)||ZC(f);return o[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(g=>{let[m,w]=g;return Array.isArray(w)?w.includes({...i,...a}[m]):{...i,...a}[m]===w})?[...c,f,h]:c},[]);return eT(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},tT=HE("inline-flex  items-center justify-center rounded-md text-sm font-medium transition-all transition-250 focus-visible:outline-none focus-visible:hover:translate-y-ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 hover:opacity-60 disabled:pointer-events-none ring-offset-background",{variants:{variant:{primary:"text-secondary bg-primary",secondary:"text-primary bg-secondary border-solid border-black",accent:"text-accent bg-accent hover:bg-accent/50 border-solid border-black",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"primary",size:"default"}}),ht=d.forwardRef(({className:e,isLoading:t,variant:n,size:r,asChild:o=!1,...i},s)=>{const a=o?Eo:"button";return t?x.jsx(a,{className:Y(tT({variant:n,size:r,className:e})),ref:s,...i,disabled:!0,children:x.jsx(OB,{className:"animate-spin-slow"})}):x.jsx(a,{className:Y(tT({variant:n,size:r,className:e})),ref:s,...i})});ht.displayName="Button";const Ga=jH,Ka=e=>x.jsx(UH,{asChild:!0,children:x.jsx(ht,{variant:"primary",className:e.className,title:e.label,disabled:e.disabled,onClick:e.onClick,children:e.icon})});function qa(e){return x.jsxs(wE,{children:[x.jsx(JC.div,{initial:"closed",animate:e.isOpen?"open":"closed",variants:{open:{opacity:.5},closed:{opacity:0}},children:x.jsx(_E,{className:"bg-black fixed inset-0"})}),x.jsx(JC.div,{initial:"closed",animate:e.isOpen?"open":"closed",variants:{open:{opacity:1,scale:1},closed:{opacity:0,scale:.94}},className:"fixed inset-0 z-40 min-h-screen items-center justify-center flex",children:x.jsx(EE,{forceMount:!0,className:Y(e.size??"w-full md:max-w-md","overflow-hidden md:rounded-2xl md:border md:shadow-xl bg-secondary"),children:x.jsxs("div",{className:"space-y-3 bg-secondary px-4 py-6",children:[x.jsxs(xE,{className:"flex justify-between",children:[x.jsx("label",{className:"text-2xl font-bold mb-4 text-primary",children:e.title}),x.jsx(gD,{children:x.jsx(ht,{variant:"ghost",children:x.jsx(om,{})})})]}),x.jsx(bE,{className:"mt-2 text-sm font-normal text-muted",children:e.description}),e.children]})})})]})}const Yq=d.forwardRef((e,t)=>d.createElement(ce.label,D({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),M2=Yq,Jq=HE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mb-2"),In=d.forwardRef(({className:e,...t},n)=>x.jsx(M2,{ref:n,className:Y(Jq(),e),...t}));In.displayName=M2.displayName;const Ft=d.forwardRef(({className:e,type:t,...n},r)=>x.jsx("input",{type:t,className:Y("flex h-10 w-full rounded-md border border-input bg-input px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Ft.displayName="Input";const O2=d.forwardRef(({className:e,name:t,type:n,...r},o)=>x.jsxs("div",{className:"mb-4",children:[x.jsxs("label",{className:"block text-sm font-medium leading-6 mb-2",children:[" ",t," "]}),x.jsx("input",{type:n,className:Y("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...r})]}));O2.displayName="Input";function Zq(e){const{toast:t}=Dt(),[n,r]=d.useState(0),o=Ur(),[i,s]=d.useState(!1),a=d.useMemo(()=>n<0,[n]);async function l(c){c.preventDefault(),s(()=>!0);try{const u={auctionId:e.auctionId,amount:n,bidderId:o?o.id:"None"},f=await xs.makeBid(u);return f.success?(t({title:"Success",description:"L'offre a t fait avec succs!",variant:"default"}),s(!1),f):(t({title:"Error",description:`${f.message}`,variant:"destructive"}),s(!1),f)}catch(u){return console.error(u),t({title:"Error",description:String(u),variant:"destructive"}),s(!1),{success:!1,message:"An error occurred while making the bid."}}}return x.jsxs("div",{className:"text-primary flex flex-col justify-center items-center h-full gap-6 max-w-60",children:[x.jsx("h2",{className:"text-3xl font-bold",children:"Enchrir"}),x.jsxs("div",{className:"flex flex-col justify-center items-center gap-4",children:[x.jsxs("div",{children:[x.jsx(In,{htmlFor:"someField",children:" Montant "}),x.jsx(Ft,{type:"number",min:"0",value:n,onChange:c=>r(Number(c.target.value))})]}),x.jsx(ht,{isLoading:i,disabled:a,onClick:l,type:"submit",className:"w-2/3",children:"Enchrir"})]})]})}function eQ(e){const{toast:t}=Dt(),[n,r]=d.useState(0),[o,i]=d.useState(!1),s=d.useMemo(()=>n<0,[n]);async function a(l){l.preventDefault(),i(()=>!0);try{const c={bidId:e.bid?e.bid.id:"None",amount:n},u=await xs.bidAgain(c);return u.success?(t({title:"Success",description:"L'offre a t fait avec succs!",variant:"default"}),i(!1),u):(t({title:"Error",description:`${u.message}`,variant:"destructive"}),i(!1),u)}catch(c){return console.error(c),t({title:"Error",description:String(c),variant:"destructive"}),i(!1),{success:!1,message:"An error occurred while making the bid."}}}return x.jsxs("div",{className:"text-primary flex flex-col justify-center items-center h-full gap-6 max-w-60",children:[x.jsx("h2",{className:"text-3xl font-bold"}),x.jsxs("div",{className:"flex flex-row items-center gap-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsxs(In,{className:"mr-2",htmlFor:"someField",children:[" ","Montant"," "]}),x.jsx(Ft,{type:"number",min:"0",value:n,onChange:l=>r(Number(l.target.value))})]}),x.jsx(ht,{isLoading:o,disabled:s,onClick:a,type:"submit",className:"w-2/3",children:"Encherir"})]})]})}function L2(e){const t=e.endTime.toDate(),[n,r]=d.useState(_c(Nh(t)));return d.useEffect(()=>{const o=setInterval(()=>{const i=Nh(t);r(_c(i))},100);return()=>{clearInterval(o)}},[t]),x.jsxs(x.Fragment,{children:[" ",n," "]})}function tQ({data:e}){const[t,n]=d.useState(!1),r=Uk(e.id),o=TB(e.endDate),i=Ur(),s=nl();EB(o,e.id);const a=()=>{i?n(!0):s("/authentification")};return x.jsxs(Ss,{children:[x.jsx(Ju,{className:"flex justify-between item-center gap-4",children:x.jsxs(mE,{children:[" ",e.item.name]})}),x.jsxs(fl,{children:[x.jsx("img",{src:e.item.imgUrl,style:{width:"200px",height:"200px"},className:"bg-contrast",alt:e.item.name}),x.jsxs("p",{children:[" Temps restant : ",o]}),x.jsxs("p",{children:[" Plus Offrant : ",r," XOF"]}),x.jsxs("div",{className:"flex justify-between items-center pt-4",children:[(!i||i&&i.id!=e.sellerId)&&x.jsxs(Ga,{open:t,onOpenChange:n,children:[x.jsx(Ka,{label:"Enchrir",icon:x.jsxs(x.Fragment,{children:[x.jsx(hE,{size:24}),"Enchrir"]}),onClick:a}),x.jsx(qa,{title:"",isOpen:t,children:x.jsx(Zq,{auctionId:e.id})})]}),x.jsxs(Ga,{children:[x.jsx(Ka,{icon:x.jsx(MB,{size:24}),label:"Dtail",onClick:()=>n(!0)}),x.jsx(qa,{title:`[${e.item.category}] ${e.item.name} `,isOpen:t,children:x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx("img",{src:e.item.imgUrl,className:"h-full"}),x.jsxs("div",{children:[x.jsxs("p",{children:[" ",e.item.description," "]}),x.jsxs("p",{children:[" ","x",e.item.quantity,"  au moin ",e.item.initial_price," ","XOF"," "]}),x.jsxs("p",{children:[" Enchere la plus Haute: ",r," XOF "]}),x.jsxs("p",{children:[" Enchere la plus Haute: ",r," XOF "]}),x.jsxs("p",{children:[" Enchere la plus Haute: ",r," XOF "]})]})]})})]})]})]})]})}function nQ({auction:e}){const t=xB(e.id);return e===null?x.jsx(x.Fragment,{children:" "}):x.jsxs(Ss,{className:"col-span-2",children:[x.jsxs(Ju,{children:[x.jsx("div",{children:x.jsxs("p",{children:[" ","Temps restant ",x.jsx("br",{})," ",e.endDate?x.jsx(L2,{endTime:e.endDate}):"Auction Completed"]})}),x.jsxs("div",{children:[x.jsxs("p",{children:["Produit : ",e.item.name]}),x.jsxs("p",{children:["Prix Minimum: ",e.item.initial_price]}),x.jsxs("p",{children:["Quantity: ",e.item.quantity]})]})]}),x.jsxs(fl,{children:[x.jsx("h3",{className:"text-lg font-semibold",children:" Top 5 Encheres "}),x.jsx("ul",{className:"list-none",children:t.map((n,r)=>x.jsxs("li",{className:"flex justify-between gap-16 border rounded-lg p-4 m-1",children:[x.jsxs("span",{className:"p-2 rounded-lg border",children:[" ",r+1]}),x.jsxs("span",{children:[" Nom : ",n.bidder.name]}),x.jsxs("span",{children:[" Prix :",n.amount]})]},n.id))})]})]})}function rQ({auction:e}){const t=Uk(e.id),n=Ur(),r=_B(n?n.id:"",e.id);return e!==null?x.jsxs(x.Fragment,{children:[x.jsx(Ss,{children:x.jsxs(Ju,{className:"flex justify-between item-center gap-4",children:[x.jsx("div",{children:x.jsxs("p",{children:[" ","Temps restant ",x.jsx("br",{}),e.endDate?x.jsx(L2,{endTime:e.endDate}):"Auction Completed"]})}),x.jsxs("div",{children:[x.jsxs("p",{children:[" Nom : ",e.item.name]}),x.jsxs("p",{children:[" Prix Minimum : ",e.item.initial_price," XOF"]}),x.jsxs("p",{children:[" Quantit : ",e.item.quantity," "]}),x.jsxs("p",{children:[" Plus Offrant : ",t," XOF"]}),r&&x.jsxs("p",{children:[" Mon Offre Actuelle: ",r.amount," XOF"]})]})]})}),x.jsx(eQ,{bid:r})]}):x.jsx(x.Fragment,{children:" "})}function oQ(){const e=bB();return x.jsxs(x.Fragment,{children:[x.jsx("h2",{className:"text-lg font-bold",children:" Auctions "}),x.jsx("div",{className:"pt-8 flex flex-wrap gap-4 mx-auto",children:e.map((t,n)=>x.jsx(tQ,{data:t},n))})]})}const Hh=[{icon:x.jsx(jB,{}),name:"Light",className:"light"},{icon:x.jsx(LB,{}),name:"Dark",className:"dark"}],iQ=(e,t)=>{switch(t.type){case"SET_THEME":return{...e,className:t.payload};default:return e}},WE=d.createContext({state:{className:Hh[0].className},toggleTheme:()=>{}}),GE=({children:e})=>{const[t,n]=d.useReducer(iQ,{className:Hh[0].className});d.useEffect(()=>{const o=localStorage.getItem("theme_class_name");o&&(n({type:"SET_THEME",payload:o}),document.body.className=o)},[]),d.useEffect(()=>{localStorage.setItem("theme_class_name",t.className),document.body.className=t.className},[t.className]);const r=o=>{n({type:"SET_THEME",payload:o})};return x.jsx(WE.Provider,{value:{state:t,toggleTheme:r},children:e})};function pl(e){return e.split("-")[1]}function KE(e){return e==="y"?"height":"width"}function lo(e){return e.split("-")[0]}function Rs(e){return["top","bottom"].includes(lo(e))?"x":"y"}function nT(e,t,n){let{reference:r,floating:o}=e;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,a=Rs(t),l=KE(a),c=r[l]/2-o[l]/2,u=a==="x";let f;switch(lo(t)){case"top":f={x:i,y:r.y-o.height};break;case"bottom":f={x:i,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-o.width,y:s};break;default:f={x:r.x,y:r.y}}switch(pl(t)){case"start":f[a]-=c*(n&&u?-1:1);break;case"end":f[a]+=c*(n&&u?-1:1)}return f}const sQ=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:f}=nT(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:w,fn:v}=a[m],{x:y,y:E,data:_,reset:b}=await v({x:u,y:f,initialPlacement:r,placement:h,strategy:o,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=y??u,f=E??f,p={...p,[w]:{...p[w],..._}},b&&g<=50&&(g++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):b.rects),{x:u,y:f}=nT(c,h,l)),m=-1)}return{x:u,y:f,placement:h,strategy:o,middlewareData:p}};function bo(e,t){return typeof e=="function"?e(t):e}function V2(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Wh(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function pu(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=bo(t,e),g=V2(p),m=a[h?f==="floating"?"reference":"floating":f],w=Wh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=f==="floating"?{...s.floating,x:r,y:o}:s.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(y))&&await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1},_=Wh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:y,strategy:l}):v);return{top:(w.top-_.top+g.top)/E.y,bottom:(_.bottom-w.bottom+g.bottom)/E.y,left:(w.left-_.left+g.left)/E.x,right:(_.right-w.right+g.right)/E.x}}const mu=Math.min,Di=Math.max;function m0(e,t,n){return Di(e,mu(t,n))}const rT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a}=t,{element:l,padding:c=0}=bo(e,t)||{};if(l==null)return{};const u=V2(c),f={x:n,y:r},h=Rs(o),p=KE(h),g=await s.getDimensions(l),m=h==="y",w=m?"top":"left",v=m?"bottom":"right",y=m?"clientHeight":"clientWidth",E=i.reference[p]+i.reference[h]-f[h]-i.floating[p],_=f[h]-i.reference[h],b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let S=b?b[y]:0;S&&await(s.isElement==null?void 0:s.isElement(b))||(S=a.floating[y]||i.floating[p]);const C=E/2-_/2,T=S/2-g[p]/2-1,I=mu(u[w],T),M=mu(u[v],T),B=I,j=S-g[p]-M,q=S/2-g[p]/2+C,N=m0(B,q,j),U=pl(o)!=null&&q!=N&&i.reference[p]/2-(q<B?I:M)-g[p]/2<0?q<B?B-q:j-q:0;return{[h]:f[h]-U,data:{[h]:N,centerOffset:q-N+U}}}}),F2=["top","right","bottom","left"];F2.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const aQ={left:"right",right:"left",bottom:"top",top:"bottom"};function Gh(e){return e.replace(/left|right|bottom|top/g,t=>aQ[t])}function lQ(e,t,n){n===void 0&&(n=!1);const r=pl(e),o=Rs(e),i=KE(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Gh(s)),{main:s,cross:Gh(s)}}const cQ={start:"end",end:"start"};function Zg(e){return e.replace(/start|end/g,t=>cQ[t])}const uQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:a,elements:l}=t,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=bo(e,t),w=lo(r),v=lo(s)===s,y=await(a.isRTL==null?void 0:a.isRTL(l.floating)),E=f||(v||!g?[Gh(s)]:function(B){const j=Gh(B);return[Zg(B),j,Zg(j)]}(s));f||p==="none"||E.push(...function(B,j,q,N){const U=pl(B);let W=function(Z,k,R){const $=["left","right"],V=["right","left"],L=["top","bottom"],se=["bottom","top"];switch(Z){case"top":case"bottom":return R?k?V:$:k?$:V;case"left":case"right":return k?L:se;default:return[]}}(lo(B),q==="start",N);return U&&(W=W.map(Z=>Z+"-"+U),j&&(W=W.concat(W.map(Zg)))),W}(s,g,p,y));const _=[s,...E],b=await pu(t,m),S=[];let C=((n=o.flip)==null?void 0:n.overflows)||[];if(c&&S.push(b[w]),u){const{main:B,cross:j}=lQ(r,i,y);S.push(b[B],b[j])}if(C=[...C,{placement:r,overflows:S}],!S.every(B=>B<=0)){var T,I;const B=(((T=o.flip)==null?void 0:T.index)||0)+1,j=_[B];if(j)return{data:{index:B,overflows:C},reset:{placement:j}};let q=(I=C.filter(N=>N.overflows[0]<=0).sort((N,U)=>N.overflows[1]-U.overflows[1])[0])==null?void 0:I.placement;if(!q)switch(h){case"bestFit":{var M;const N=(M=C.map(U=>[U.placement,U.overflows.filter(W=>W>0).reduce((W,Z)=>W+Z,0)]).sort((U,W)=>U[1]-W[1])[0])==null?void 0:M[0];N&&(q=N);break}case"initialPlacement":q=s}if(r!==q)return{reset:{placement:q}}}return{}}}};function oT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iT(e){return F2.some(t=>e[t]>=0)}const dQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=bo(e,t);switch(r){case"referenceHidden":{const i=oT(await pu(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:iT(i)}}}case"escaped":{const i=oT(await pu(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:i,escaped:iT(i)}}}default:return{}}}}},fQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(i,s){const{placement:a,platform:l,elements:c}=i,u=await(l.isRTL==null?void 0:l.isRTL(c.floating)),f=lo(a),h=pl(a),p=Rs(a)==="x",g=["left","top"].includes(f)?-1:1,m=u&&p?-1:1,w=bo(s,i);let{mainAxis:v,crossAxis:y,alignmentAxis:E}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...w};return h&&typeof E=="number"&&(y=h==="end"?-1*E:E),p?{x:y*m,y:v*g}:{x:v*g,y:y*m}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function j2(e){return e==="x"?"y":"x"}const hQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:v,y}=w;return{x:v,y}}},...l}=bo(e,t),c={x:n,y:r},u=await pu(t,l),f=Rs(lo(o)),h=j2(f);let p=c[f],g=c[h];if(i){const w=f==="y"?"bottom":"right";p=m0(p+u[f==="y"?"top":"left"],p,p-u[w])}if(s){const w=h==="y"?"bottom":"right";g=m0(g+u[h==="y"?"top":"left"],g,g-u[w])}const m=a.fn({...t,[f]:p,[h]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}},pQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=bo(e,t),u={x:n,y:r},f=Rs(o),h=j2(f);let p=u[f],g=u[h];const m=bo(a,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const E=f==="y"?"height":"width",_=i.reference[f]-i.floating[E]+w.mainAxis,b=i.reference[f]+i.reference[E]-w.mainAxis;p<_?p=_:p>b&&(p=b)}if(c){var v,y;const E=f==="y"?"width":"height",_=["top","left"].includes(lo(o)),b=i.reference[h]-i.floating[E]+(_&&((v=s.offset)==null?void 0:v[h])||0)+(_?0:w.crossAxis),S=i.reference[h]+i.reference[E]+(_?0:((y=s.offset)==null?void 0:y[h])||0)-(_?w.crossAxis:0);g<b?g=b:g>S&&(g=S)}return{[f]:p,[h]:g}}}},mQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...a}=bo(e,t),l=await pu(t,a),c=lo(n),u=pl(n),f=Rs(n)==="x",{width:h,height:p}=r.floating;let g,m;c==="top"||c==="bottom"?(g=c,m=u===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(m=c,g=u==="end"?"top":"bottom");const w=p-l[g],v=h-l[m],y=!t.middlewareData.shift;let E=w,_=v;if(f){const S=h-l.left-l.right;_=u||y?mu(v,S):S}else{const S=p-l.top-l.bottom;E=u||y?mu(w,S):S}if(y&&!u){const S=Di(l.left,0),C=Di(l.right,0),T=Di(l.top,0),I=Di(l.bottom,0);f?_=h-2*(S!==0||C!==0?S+C:Di(l.left,l.right)):E=p-2*(T!==0||I!==0?T+I:Di(l.top,l.bottom))}await s({...t,availableWidth:_,availableHeight:E});const b=await o.getDimensions(i.floating);return h!==b.width||p!==b.height?{reset:{rects:!0}}:{}}}};function kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lr(e){return kn(e).getComputedStyle(e)}function U2(e){return e instanceof kn(e).Node}function gi(e){return U2(e)?(e.nodeName||"").toLowerCase():"#document"}function vr(e){return e instanceof kn(e).HTMLElement}function sT(e){return typeof ShadowRoot<"u"&&(e instanceof kn(e).ShadowRoot||e instanceof ShadowRoot)}function gu(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function gQ(e){return["table","td","th"].includes(gi(e))}function g0(e){const t=qE(),n=Lr(e);return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qE(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function vm(e){return["html","body","#document"].includes(gi(e))}const v0=Math.min,Sa=Math.max,Kh=Math.round,ef=Math.floor,vi=e=>({x:e,y:e});function B2(e){const t=Lr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=vr(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Kh(n)!==i||Kh(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function co(e){return e instanceof kn(e).Element}function QE(e){return co(e)?e:e.contextElement}function Ca(e){const t=QE(e);if(!vr(t))return vi(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=B2(t);let s=(i?Kh(n.width):n.width)/r,a=(i?Kh(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const vQ=vi(0);function z2(e){const t=kn(e);return qE()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:vQ}function ds(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=QE(e);let s=vi(1);t&&(r?co(r)&&(s=Ca(r)):s=Ca(e));const a=function(h,p,g){return p===void 0&&(p=!1),!(!g||p&&g!==kn(h))&&p}(i,n,r)?z2(i):vi(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,f=o.height/s.y;if(i){const h=kn(i),p=r&&co(r)?kn(r):r;let g=h.frameElement;for(;g&&r&&p!==h;){const m=Ca(g),w=g.getBoundingClientRect(),v=getComputedStyle(g),y=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,E=w.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,f*=m.y,l+=y,c+=E,g=kn(g).frameElement}}return Wh({width:u,height:f,x:l,y:c})}function ym(e){return co(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function uo(e){return((U2(e)?e.ownerDocument:e.document)||window.document).documentElement}function H2(e){return ds(uo(e)).left+ym(e).scrollLeft}function Qa(e){if(gi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sT(e)&&e.host||uo(e);return sT(t)?t.host:t}function W2(e){const t=Qa(e);return vm(t)?e.ownerDocument?e.ownerDocument.body:e.body:vr(t)&&gu(t)?t:W2(t)}function qh(e,t){var n;t===void 0&&(t=[]);const r=W2(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=kn(r);return o?t.concat(i,i.visualViewport||[],gu(r)?r:[]):t.concat(r,qh(r))}function aT(e,t,n){let r;if(t==="viewport")r=function(o,i){const s=kn(o),a=uo(o),l=s.visualViewport;let c=a.clientWidth,u=a.clientHeight,f=0,h=0;if(l){c=l.width,u=l.height;const p=qE();(!p||p&&i==="fixed")&&(f=l.offsetLeft,h=l.offsetTop)}return{width:c,height:u,x:f,y:h}}(e,n);else if(t==="document")r=function(o){const i=uo(o),s=ym(o),a=o.ownerDocument.body,l=Sa(i.scrollWidth,i.clientWidth,a.scrollWidth,a.clientWidth),c=Sa(i.scrollHeight,i.clientHeight,a.scrollHeight,a.clientHeight);let u=-s.scrollLeft+H2(o);const f=-s.scrollTop;return Lr(a).direction==="rtl"&&(u+=Sa(i.clientWidth,a.clientWidth)-l),{width:l,height:c,x:u,y:f}}(uo(e));else if(co(t))r=function(o,i){const s=ds(o,!0,i==="fixed"),a=s.top+o.clientTop,l=s.left+o.clientLeft,c=vr(o)?Ca(o):vi(1);return{width:o.clientWidth*c.x,height:o.clientHeight*c.y,x:l*c.x,y:a*c.y}}(t,n);else{const o=z2(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Wh(r)}function G2(e,t){const n=Qa(e);return!(n===t||!co(n)||vm(n))&&(Lr(n).position==="fixed"||G2(n,t))}function yQ(e,t,n){const r=vr(t),o=uo(t),i=n==="fixed",s=ds(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=vi(0);if(r||!r&&!i)if((gi(t)!=="body"||gu(o))&&(a=ym(t)),vr(t)){const c=ds(t,!0,i,t);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else o&&(l.x=H2(o));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function lT(e,t){return vr(e)&&Lr(e).position!=="fixed"?t?t(e):e.offsetParent:null}function cT(e,t){const n=kn(e);if(!vr(e))return n;let r=lT(e,t);for(;r&&gQ(r)&&Lr(r).position==="static";)r=lT(r,t);return r&&(gi(r)==="html"||gi(r)==="body"&&Lr(r).position==="static"&&!g0(r))?n:r||function(o){let i=Qa(o);for(;vr(i)&&!vm(i);){if(g0(i))return i;i=Qa(i)}return null}(e)||n}const wQ={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=vr(n),i=uo(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=vi(1);const l=vi(0);if((o||!o&&r!=="fixed")&&((gi(n)!=="body"||gu(i))&&(s=ym(n)),vr(n))){const c=ds(n);a=Ca(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}},getDocumentElement:uo,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?function(l,c){const u=c.get(l);if(u)return u;let f=qh(l).filter(m=>co(m)&&gi(m)!=="body"),h=null;const p=Lr(l).position==="fixed";let g=p?Qa(l):l;for(;co(g)&&!vm(g);){const m=Lr(g),w=g0(g);w||m.position!=="fixed"||(h=null),(p?!w&&!h:!w&&m.position==="static"&&h&&["absolute","fixed"].includes(h.position)||gu(g)&&!w&&G2(l,g))?f=f.filter(v=>v!==g):h=m,g=Qa(g)}return c.set(l,f),f}(t,this._c):[].concat(n),r],s=i[0],a=i.reduce((l,c)=>{const u=aT(t,c,o);return l.top=Sa(u.top,l.top),l.right=v0(u.right,l.right),l.bottom=v0(u.bottom,l.bottom),l.left=Sa(u.left,l.left),l},aT(t,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:cT,getElementRects:async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||cT,i=this.getDimensions;return{reference:yQ(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return B2(e)},getScale:Ca,isElement:co,isRTL:function(e){return getComputedStyle(e).direction==="rtl"}};function _Q(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=QE(e),u=o||i?[...c?qh(c):[],...qh(t)]:[];u.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&a?function(w,v){let y,E=null;const _=uo(w);function b(){clearTimeout(y),E&&E.disconnect(),E=null}return function S(C,T){C===void 0&&(C=!1),T===void 0&&(T=1),b();const{left:I,top:M,width:B,height:j}=w.getBoundingClientRect();if(C||v(),!B||!j)return;const q={rootMargin:-ef(M)+"px "+-ef(_.clientWidth-(I+B))+"px "+-ef(_.clientHeight-(M+j))+"px "+-ef(I)+"px",threshold:Sa(0,v0(1,T))||1};let N=!0;function U(W){const Z=W[0].intersectionRatio;if(Z!==T){if(!N)return S();Z?S(!1,Z):y=setTimeout(()=>{S(!1,1e-7)},100)}N=!1}try{E=new IntersectionObserver(U,{...q,root:_.ownerDocument})}catch{E=new IntersectionObserver(U,q)}E.observe(w)}(!0),b}(c,n):null;let h,p=-1,g=null;s&&(g=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{g&&g.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let m=l?ds(e):null;return l&&function w(){const v=ds(e);!m||v.x===m.x&&v.y===m.y&&v.width===m.width&&v.height===m.height||n(),m=v,h=requestAnimationFrame(w)}(),n(),()=>{u.forEach(w=>{o&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f&&f(),g&&g.disconnect(),g=null,l&&cancelAnimationFrame(h)}}const EQ=(e,t,n)=>{const r=new Map,o={platform:wQ,...n},i={...o.platform,_c:r};return sQ(e,t,{...o,platform:i})},xQ=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?rT({element:r.current,padding:o}).fn(n):{}:r?rT({element:r,padding:o}).fn(n):{}}}};var Of=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Qh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Qh(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Qh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function K2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uT(e,t){const n=K2(e);return Math.round(t*n)/n}function dT(e){const t=d.useRef(e);return Of(()=>{t.current=e}),t}function bQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=d.useState(r);Qh(h,r)||p(r);const[g,m]=d.useState(null),[w,v]=d.useState(null),y=d.useCallback(W=>{W!=S.current&&(S.current=W,m(W))},[m]),E=d.useCallback(W=>{W!==C.current&&(C.current=W,v(W))},[v]),_=i||g,b=s||w,S=d.useRef(null),C=d.useRef(null),T=d.useRef(u),I=dT(l),M=dT(o),B=d.useCallback(()=>{if(!S.current||!C.current)return;const W={placement:t,strategy:n,middleware:h};M.current&&(W.platform=M.current),EQ(S.current,C.current,W).then(Z=>{const k={...Z,isPositioned:!0};j.current&&!Qh(T.current,k)&&(T.current=k,Vr.flushSync(()=>{f(k)}))})},[h,t,n,M]);Of(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[c]);const j=d.useRef(!1);Of(()=>(j.current=!0,()=>{j.current=!1}),[]),Of(()=>{if(_&&(S.current=_),b&&(C.current=b),_&&b){if(I.current)return I.current(_,b,B);B()}},[_,b,B,I]);const q=d.useMemo(()=>({reference:S,floating:C,setReference:y,setFloating:E}),[y,E]),N=d.useMemo(()=>({reference:_,floating:b}),[_,b]),U=d.useMemo(()=>{const W={position:n,left:0,top:0};if(!N.floating)return W;const Z=uT(N.floating,u.x),k=uT(N.floating,u.y);return a?{...W,transform:"translate("+Z+"px, "+k+"px)",...K2(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:k}},[n,a,N.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:B,refs:q,elements:N,floatingStyles:U}),[u,B,q,N,U])}function SQ(e){const[t,n]=d.useState(void 0);return dn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const q2="Popper",[Q2,ml]=yr(q2),[CQ,X2]=Q2(q2),TQ=e=>{const{__scopePopper:t,children:n}=e,[r,o]=d.useState(null);return d.createElement(CQ,{scope:t,anchor:r,onAnchorChange:o},n)},RQ="PopperAnchor",IQ=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=X2(RQ,n),s=d.useRef(null),a=Ae(t,s);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:d.createElement(ce.div,D({},o,{ref:a}))}),Y2="PopperContent",[PQ,Ene]=Q2(Y2),AQ=d.forwardRef((e,t)=>{var n,r,o,i,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:p="center",alignOffset:g=0,arrowPadding:m=0,collisionBoundary:w=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:E=!1,avoidCollisions:_=!0,onPlaced:b,...S}=e,C=X2(Y2,u),[T,I]=d.useState(null),M=Ae(t,Nt=>I(Nt)),[B,j]=d.useState(null),q=SQ(B),N=(n=q==null?void 0:q.width)!==null&&n!==void 0?n:0,U=(r=q==null?void 0:q.height)!==null&&r!==void 0?r:0,W=f+(p!=="center"?"-"+p:""),Z=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},k=Array.isArray(w)?w:[w],R=k.length>0,$={padding:Z,boundary:k.filter($Q),altBoundary:R},{refs:V,floatingStyles:L,placement:se,isPositioned:ee,middlewareData:Te}=bQ({strategy:"fixed",placement:W,whileElementsMounted:_Q,elements:{reference:C.anchor},middleware:[fQ({mainAxis:h+U,alignmentAxis:g}),_&&hQ({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?pQ():void 0,...$}),_&&uQ({...$}),mQ({...$,apply:({elements:Nt,rects:tr,availableWidth:To,availableHeight:Br})=>{const{width:Ds,height:_l}=tr.reference,Sn=Nt.floating.style;Sn.setProperty("--radix-popper-available-width",`${To}px`),Sn.setProperty("--radix-popper-available-height",`${Br}px`),Sn.setProperty("--radix-popper-anchor-width",`${Ds}px`),Sn.setProperty("--radix-popper-anchor-height",`${_l}px`)}}),B&&xQ({element:B,padding:m}),kQ({arrowWidth:N,arrowHeight:U}),E&&dQ({strategy:"referenceHidden"})]}),[$e,te]=J2(se),ye=at(b);dn(()=>{ee&&(ye==null||ye())},[ee,ye]);const Me=(o=Te.arrow)===null||o===void 0?void 0:o.x,Se=(i=Te.arrow)===null||i===void 0?void 0:i.y,_e=((s=Te.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Re,Tt]=d.useState();return dn(()=>{T&&Tt(window.getComputedStyle(T).zIndex)},[T]),d.createElement("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:ee?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(a=Te.transformOrigin)===null||a===void 0?void 0:a.x,(l=Te.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},d.createElement(PQ,{scope:u,placedSide:$e,onArrowChange:j,arrowX:Me,arrowY:Se,shouldHideArrow:_e},d.createElement(ce.div,D({"data-side":$e,"data-align":te},S,{ref:M,style:{...S.style,animation:ee?void 0:"none",opacity:(c=Te.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function $Q(e){return e!==null}const kQ=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,s;const{placement:a,rects:l,middlewareData:c}=t,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:e.arrowWidth,p=f?0:e.arrowHeight,[g,m]=J2(a),w={start:"0%",center:"50%",end:"100%"}[m],v=((r=(o=c.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+h/2,y=((i=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0)+p/2;let E="",_="";return g==="bottom"?(E=f?w:`${v}px`,_=`${-p}px`):g==="top"?(E=f?w:`${v}px`,_=`${l.floating.height+p}px`):g==="right"?(E=`${-p}px`,_=f?w:`${y}px`):g==="left"&&(E=`${l.floating.width+p}px`,_=f?w:`${y}px`),{data:{x:E,y:_}}}});function J2(e){const[t,n="center"]=e.split("-");return[t,n]}const XE=TQ,YE=IQ,JE=AQ,Z2="Popover",[eN,xne]=yr(Z2,[ml]),ZE=ml(),[DQ,gl]=eN(Z2),NQ=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!1}=e,a=ZE(t),l=d.useRef(null),[c,u]=d.useState(!1),[f=!1,h]=hi({prop:r,defaultProp:o,onChange:i});return d.createElement(XE,a,d.createElement(DQ,{scope:t,contentId:dr(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:c,onCustomAnchorAdd:d.useCallback(()=>u(!0),[]),onCustomAnchorRemove:d.useCallback(()=>u(!1),[]),modal:s},n))},MQ="PopoverTrigger",OQ=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=gl(MQ,n),i=ZE(n),s=Ae(t,o.triggerRef),a=d.createElement(ce.button,D({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":rN(o.open)},r,{ref:s,onClick:G(e.onClick,o.onOpenToggle)}));return o.hasCustomAnchor?a:d.createElement(YE,D({asChild:!0},i),a)}),tN="PopoverPortal",[LQ,VQ]=eN(tN,{forceMount:void 0}),FQ=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=gl(tN,t);return d.createElement(LQ,{scope:t,forceMount:n},d.createElement(Zn,{present:n||i.open},d.createElement(Zu,{asChild:!0,container:o},r)))},vu="PopoverContent",jQ=d.forwardRef((e,t)=>{const n=VQ(vu,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=gl(vu,e.__scopePopover);return d.createElement(Zn,{present:r||i.open},i.modal?d.createElement(UQ,D({},o,{ref:t})):d.createElement(BQ,D({},o,{ref:t})))}),UQ=d.forwardRef((e,t)=>{const n=gl(vu,e.__scopePopover),r=d.useRef(null),o=Ae(t,r),i=d.useRef(!1);return d.useEffect(()=>{const s=r.current;if(s)return ed(s)},[]),d.createElement(cm,{as:Eo,allowPinchZoom:!0},d.createElement(nN,D({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),i.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:G(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),BQ=d.forwardRef((e,t)=>{const n=gl(vu,e.__scopePopover),r=d.useRef(!1),o=d.useRef(!1);return d.createElement(nN,D({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,i),!i.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),i.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:i=>{var s,a;(s=e.onInteractOutside)===null||s===void 0||s.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}}))}),nN=d.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=e,h=gl(vu,n),p=ZE(n);return am(),d.createElement(sm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i},d.createElement(hl,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1)},d.createElement(JE,D({"data-state":rN(h.open),role:"dialog",id:h.contentId},p,f,{ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function rN(e){return e?"open":"closed"}const zQ=NQ,HQ=OQ,WQ=FQ,oN=jQ,iN=zQ,sN=HQ,e1=d.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>x.jsx(WQ,{children:x.jsx(oN,{ref:o,align:t,sideOffset:n,className:Y("z-50 w-72 rounded-md border p-4 shadow-md bg-muted outline-none animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));e1.displayName=oN.displayName;function t1({className:e}){const{state:t,toggleTheme:n}=d.useContext(WE),r=d.useMemo(()=>Hh.find(o=>o.className===t.className),[t.className]);return x.jsxs(iN,{children:[x.jsx(sN,{className:e,children:r==null?void 0:r.icon}),x.jsx(e1,{className:"w-fit",children:x.jsx("ul",{children:Hh.map(o=>x.jsx(ht,{asChild:!0,disabled:(r==null?void 0:r.theme)===o.theme,onClick:()=>n(o.className),className:"flex justify-between gap-1 bg-main",children:x.jsxs("li",{children:[o.icon," ",x.jsxs("span",{children:[" ",o.name]})]})},o.name))})})]})}function aN(){const{state:e}=d.useContext(WE),[t,n]=d.useState(e.className==="light"?"bg-white":"bg-gray-900");return d.useEffect(()=>{n(e.className==="light"?"bg-white":"bg-gray-900")},[e]),t}function GQ(){const{toast:e}=Dt(),[t,n]=d.useState(""),[r,o]=d.useState(""),i=nl(),s=Fr(),a=aN(),[l,c]=d.useState(!1),u=d.useMemo(()=>t===""||r==="",[t,r]);async function f(h){h.preventDefault(),c(()=>!0);const p={email:t,password:r},g=await nm.login(p);g.success?(e({title:"Success",description:"Connexion russie",variant:"default"}),s.state&&s.state.from?i(s.state.from):i("/")):e({title:"Error",description:`${g.message}`,variant:"destructive"}),c(!1)}return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex justify-end fixed bottom-4 right-4 z-50",children:x.jsx(t1,{})}),x.jsx("div",{className:"flex flex-col justify-center items-center h-screen ",children:x.jsx("div",{className:`${a} rounded-lg shadow-lg p-8 w-96 h-96`,children:x.jsxs("div",{className:"text-primary flex flex-col justify-center items-center h-full gap-6 max-w-60",children:[x.jsx("h2",{className:"text-3xl font-bold",children:"Se connecter"}),x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"w-full",children:x.jsx(Ft,{type:"email",placeholder:"Email",value:t,onChange:h=>n(h.target.value)})}),x.jsxs("div",{className:"w-full",children:[x.jsx(Ft,{type:"password",placeholder:"Mot de passe",value:r,onChange:h=>o(h.target.value)}),x.jsx("a",{className:"float-right",href:"#",children:"mot de passe oubli ?"})]}),x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsx(ht,{isLoading:l,disabled:u,onClick:f,type:"submit",className:"w-2/3",children:"Se connecter"}),x.jsxs("span",{children:["Vous n'avez pas de compte ?"," ",x.jsx(yp,{className:"ml-2",to:"/inscription",children:"S'inscrire"})]})]})]})]})})})]})}function vl(e){const t=e+"CollectionProvider",[n,r]=yr(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:g,children:m}=p,w=mn.useRef(null),v=mn.useRef(new Map).current;return mn.createElement(o,{scope:g,itemMap:v,collectionRef:w},m)},a=e+"CollectionSlot",l=mn.forwardRef((p,g)=>{const{scope:m,children:w}=p,v=i(a,m),y=Ae(g,v.collectionRef);return mn.createElement(Eo,{ref:y},w)}),c=e+"CollectionItemSlot",u="data-radix-collection-item",f=mn.forwardRef((p,g)=>{const{scope:m,children:w,...v}=p,y=mn.useRef(null),E=Ae(g,y),_=i(c,m);return mn.useEffect(()=>(_.itemMap.set(y,{ref:y,...v}),()=>void _.itemMap.delete(y))),mn.createElement(Eo,{[u]:"",ref:E},w)});function h(p){const g=i(e+"CollectionConsumer",p);return mn.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((_,b)=>v.indexOf(_.ref.current)-v.indexOf(b.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}const wm=d.forwardRef((e,t)=>d.createElement(ce.span,D({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),KQ=wm,lN="ToastProvider",[n1,qQ,QQ]=vl("Toast"),[cN,bne]=yr("Toast",[QQ]),[XQ,_m]=cN(lN),uN=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:s}=e,[a,l]=d.useState(null),[c,u]=d.useState(0),f=d.useRef(!1),h=d.useRef(!1);return d.createElement(n1.Provider,{scope:t},d.createElement(XQ,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:d.useCallback(()=>u(p=>p+1),[]),onToastRemove:d.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h},s))};uN.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${lN}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const YQ="ToastViewport",JQ=["F8"],y0="toast.viewportPause",w0="toast.viewportResume",ZQ=d.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=JQ,label:o="Notifications ({hotkey})",...i}=e,s=_m(YQ,n),a=qQ(n),l=d.useRef(null),c=d.useRef(null),u=d.useRef(null),f=d.useRef(null),h=Ae(t,f,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=s.toastCount>0;d.useEffect(()=>{const w=v=>{var y;r.every(_=>v[_]||v.code===_)&&((y=f.current)===null||y===void 0||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),d.useEffect(()=>{const w=l.current,v=f.current;if(g&&w&&v){const y=()=>{if(!s.isClosePausedRef.current){const S=new CustomEvent(y0);v.dispatchEvent(S),s.isClosePausedRef.current=!0}},E=()=>{if(s.isClosePausedRef.current){const S=new CustomEvent(w0);v.dispatchEvent(S),s.isClosePausedRef.current=!1}},_=S=>{!w.contains(S.relatedTarget)&&E()},b=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",y),w.addEventListener("focusout",_),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",b),window.addEventListener("blur",y),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",b),window.removeEventListener("blur",y),window.removeEventListener("focus",E)}}},[g,s.isClosePausedRef]);const m=d.useCallback(({tabbingDirection:w})=>{const y=a().map(E=>{const _=E.ref.current,b=[_,...mX(_)];return w==="forwards"?b:b.reverse()});return(w==="forwards"?y.reverse():y).flat()},[a]);return d.useEffect(()=>{const w=f.current;if(w){const v=y=>{const E=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!E){const T=document.activeElement,I=y.shiftKey;if(y.target===w&&I){var b;(b=c.current)===null||b===void 0||b.focus();return}const j=m({tabbingDirection:I?"backwards":"forwards"}),q=j.findIndex(N=>N===T);if(ev(j.slice(q+1)))y.preventDefault();else{var S,C;I?(S=c.current)===null||S===void 0||S.focus():(C=u.current)===null||C===void 0||C.focus()}}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,m]),d.createElement(Oz,{ref:l,role:"region","aria-label":o.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"}},g&&d.createElement(fT,{ref:c,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});ev(w)}}),d.createElement(n1.Slot,{scope:n},d.createElement(ce.ol,D({tabIndex:-1},i,{ref:h}))),g&&d.createElement(fT,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});ev(w)}}))}),eX="ToastFocusProxy",fT=d.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,i=_m(eX,n);return d.createElement(wm,D({"aria-hidden":!0,tabIndex:0},o,{ref:t,style:{position:"fixed"},onFocus:s=>{var a;const l=s.relatedTarget;!((a=i.viewport)!==null&&a!==void 0&&a.contains(l))&&r()}}))}),Em="Toast",tX="toast.swipeStart",nX="toast.swipeMove",rX="toast.swipeCancel",oX="toast.swipeEnd",iX=d.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...s}=e,[a=!0,l]=hi({prop:r,defaultProp:o,onChange:i});return d.createElement(Zn,{present:n||a},d.createElement(dN,D({open:a},s,{ref:t,onClose:()=>l(!1),onPause:at(e.onPause),onResume:at(e.onResume),onSwipeStart:G(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:G(e.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:G(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:G(e.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})))}),[sX,aX]=cN(Em,{onClose(){}}),dN=d.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:i,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=_m(Em,n),[w,v]=d.useState(null),y=Ae(t,N=>v(N)),E=d.useRef(null),_=d.useRef(null),b=o||m.duration,S=d.useRef(0),C=d.useRef(b),T=d.useRef(0),{onToastAdd:I,onToastRemove:M}=m,B=at(()=>{var N;(w==null?void 0:w.contains(document.activeElement))&&((N=m.viewport)===null||N===void 0||N.focus()),s()}),j=d.useCallback(N=>{!N||N===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(B,N))},[B]);d.useEffect(()=>{const N=m.viewport;if(N){const U=()=>{j(C.current),c==null||c()},W=()=>{const Z=new Date().getTime()-S.current;C.current=C.current-Z,window.clearTimeout(T.current),l==null||l()};return N.addEventListener(y0,W),N.addEventListener(w0,U),()=>{N.removeEventListener(y0,W),N.removeEventListener(w0,U)}}},[m.viewport,b,l,c,j]),d.useEffect(()=>{i&&!m.isClosePausedRef.current&&j(b)},[i,b,m.isClosePausedRef,j]),d.useEffect(()=>(I(),()=>M()),[I,M]);const q=d.useMemo(()=>w?mN(w):null,[w]);return m.viewport?d.createElement(d.Fragment,null,q&&d.createElement(lX,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},q),d.createElement(sX,{scope:n,onClose:B},Vr.createPortal(d.createElement(n1.ItemSlot,{scope:n},d.createElement(Mz,{asChild:!0,onEscapeKeyDown:G(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||B(),m.isFocusedToastEscapeKeyDownRef.current=!1})},d.createElement(ce.li,D({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection},g,{ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:G(e.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:G(e.onPointerDown,N=>{N.button===0&&(E.current={x:N.clientX,y:N.clientY})}),onPointerMove:G(e.onPointerMove,N=>{if(!E.current)return;const U=N.clientX-E.current.x,W=N.clientY-E.current.y,Z=!!_.current,k=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,$=k?R(0,U):0,V=k?0:R(0,W),L=N.pointerType==="touch"?10:2,se={x:$,y:V},ee={originalEvent:N,delta:se};Z?(_.current=se,tf(nX,f,ee,{discrete:!1})):hT(se,m.swipeDirection,L)?(_.current=se,tf(tX,u,ee,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(U)>L||Math.abs(W)>L)&&(E.current=null)}),onPointerUp:G(e.onPointerUp,N=>{const U=_.current,W=N.target;if(W.hasPointerCapture(N.pointerId)&&W.releasePointerCapture(N.pointerId),_.current=null,E.current=null,U){const Z=N.currentTarget,k={originalEvent:N,delta:U};hT(U,m.swipeDirection,m.swipeThreshold)?tf(oX,p,k,{discrete:!0}):tf(rX,h,k,{discrete:!0}),Z.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})))),m.viewport))):null});dN.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${Em}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const lX=e=>{const{__scopeToast:t,children:n,...r}=e,o=_m(Em,t),[i,s]=d.useState(!1),[a,l]=d.useState(!1);return hX(()=>s(!0)),d.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.createElement(Zu,{asChild:!0},d.createElement(wm,r,i&&d.createElement(d.Fragment,null,o.label," ",n)))},cX=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return d.createElement(ce.div,D({},r,{ref:t}))}),uX=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return d.createElement(ce.div,D({},r,{ref:t}))}),dX="ToastAction",fN=d.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?d.createElement(pN,{altText:n,asChild:!0},d.createElement(hN,D({},r,{ref:t}))):null});fN.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${dX}\``)}};const fX="ToastClose",hN=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=aX(fX,n);return d.createElement(pN,{asChild:!0},d.createElement(ce.button,D({type:"button"},r,{ref:t,onClick:G(e.onClick,o.onClose)})))}),pN=d.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return d.createElement(ce.div,D({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},o,{ref:t}))});function mN(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),pX(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...mN(r))}}),t}function tf(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?gE(o,i):o.dispatchEvent(i)}const hT=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),i=r>o;return t==="left"||t==="right"?i&&r>n:!i&&o>n};function hX(e=()=>{}){const t=at(e);dn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function pX(e){return e.nodeType===e.ELEMENT_NODE}function mX(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ev(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const gX=uN,gN=ZQ,vN=iX,yN=cX,wN=uX,_N=fN,EN=hN,vX=gX,xN=d.forwardRef(({className:e,...t},n)=>x.jsx(gN,{ref:n,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));xN.displayName=gN.displayName;const yX=HE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border",destructive:"destructive group border-destructive bg-contrast "}},defaultVariants:{variant:"default"}}),bN=d.forwardRef(({className:e,variant:t,...n},r)=>{const o=t==="destructive"?"bg-red-500":"bg-green-500";return x.jsx(vN,{ref:r,className:Y(yX({variant:t}),o,e),...n})});bN.displayName=vN.displayName;const wX=d.forwardRef(({className:e,...t},n)=>x.jsx(_N,{ref:n,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive  group-[.destructive]:focus:ring-destructive",e),...t}));wX.displayName=_N.displayName;const SN=d.forwardRef(({className:e,...t},n)=>x.jsx(EN,{ref:n,className:Y("absolute right-2 top-2 rounded-md p-1 /50 opacity-0 transition-opacity  focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:x.jsx(om,{className:"h-4 w-4"})}));SN.displayName=EN.displayName;const CN=d.forwardRef(({className:e,...t},n)=>x.jsx(yN,{ref:n,className:Y("text-sm font-semibold","text-white",e),...t}));CN.displayName=yN.displayName;const TN=d.forwardRef(({className:e,...t},n)=>x.jsx(wN,{ref:n,className:Y("text-sm opacity-90","text-white",e),...t}));TN.displayName=wN.displayName;function r1(){const{toasts:e}=Dt();return x.jsxs(vX,{children:[e.map(function({id:t,title:n,description:r,action:o,...i}){return x.jsxs(bN,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(CN,{children:n}),r&&x.jsx(TN,{children:r})]}),o,x.jsx(SN,{})]},t)}),x.jsx(xN,{})]})}function _X(){return x.jsxs(GE,{children:[x.jsx(GQ,{}),x.jsx(r1,{})]})}function EX(){const{toast:e}=Dt(),[t,n]=d.useState(""),[r,o]=d.useState(""),[i,s]=d.useState(""),[a,l]=d.useState(""),c=nl(),u=aN(),[f,h]=d.useState(!1),p=d.useMemo(()=>t===""||i===""||a===""||i!=a,[t,i,a]);async function g(m){m.preventDefault(),h(()=>!0);const w={email:t,password:i,name:r},v=await nm.signup(w);v.success?(e({title:"Success",description:"Inscription russie",variant:"default"}),c("/authentification")):e({title:"Error",description:`${v.message}`,variant:"destructive"}),h(!1)}return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex justify-end fixed bottom-4 right-4 z-50",children:x.jsx(t1,{})}),x.jsx("div",{className:"flex flex-col justify-center items-center h-screen ",children:x.jsx("div",{className:`${u} rounded-lg shadow-lg p-8 w-96 h-100`,children:x.jsxs("div",{className:"text-primary flex flex-col justify-center items-center h-full gap-6 max-w-60",children:[x.jsx("h2",{className:"text-3xl font-bold",children:"Inscription"}),x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"w-full",children:x.jsx(Ft,{type:"email",placeholder:"Email",value:t,onChange:m=>n(m.target.value)})}),x.jsx("div",{className:"w-full",children:x.jsx(Ft,{placeholder:"Nom",value:r,onChange:m=>o(m.target.value)})}),x.jsx("div",{className:"w-full",children:x.jsx(Ft,{type:"password",placeholder:"Mot de passe",value:i,onChange:m=>s(m.target.value)})}),x.jsxs("div",{className:"w-full",children:[x.jsx(Ft,{type:"password",placeholder:"Confirmer mot de passe",value:a,onChange:m=>l(m.target.value)}),x.jsx("a",{className:"float-right",href:"#",children:"mot de passe oubli?"})]}),x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsx(ht,{isLoading:f,disabled:p,onClick:g,type:"submit",className:"w-2/3",children:"S'inscrire"}),x.jsxs("span",{children:["Vous avez dj un compte?"," ",x.jsx(yp,{className:"ml-2",to:"/authentification",children:"Se connecter"})]})]})]})]})})})]})}function xX(){return x.jsxs(GE,{children:[x.jsx(EX,{}),x.jsx(r1,{})]})}const bX=d.createContext(void 0);function xm(e){const t=d.useContext(bX);return e||t||"ltr"}const tv="rovingFocusGroup.onEntryFocus",SX={bubbles:!1,cancelable:!0},o1="RovingFocusGroup",[_0,RN,CX]=vl(o1),[TX,IN]=yr(o1,[CX]),[RX,IX]=TX(o1),PX=d.forwardRef((e,t)=>d.createElement(_0.Provider,{scope:e.__scopeRovingFocusGroup},d.createElement(_0.Slot,{scope:e.__scopeRovingFocusGroup},d.createElement(AX,D({},e,{ref:t}))))),AX=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=e,f=d.useRef(null),h=Ae(t,f),p=xm(i),[g=null,m]=hi({prop:s,defaultProp:a,onChange:l}),[w,v]=d.useState(!1),y=at(c),E=RN(n),_=d.useRef(!1),[b,S]=d.useState(0);return d.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(tv,y),()=>C.removeEventListener(tv,y)},[y]),d.createElement(RX,{scope:n,orientation:r,dir:p,loop:o,currentTabStopId:g,onItemFocus:d.useCallback(C=>m(C),[m]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:d.useCallback(()=>S(C=>C-1),[])},d.createElement(ce.div,D({tabIndex:w||b===0?-1:0,"data-orientation":r},u,{ref:h,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{_.current=!0}),onFocus:G(e.onFocus,C=>{const T=!_.current;if(C.target===C.currentTarget&&T&&!w){const I=new CustomEvent(tv,SX);if(C.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=E().filter(U=>U.focusable),B=M.find(U=>U.active),j=M.find(U=>U.id===g),N=[B,j,...M].filter(Boolean).map(U=>U.ref.current);PN(N)}}_.current=!1}),onBlur:G(e.onBlur,()=>v(!1))})))}),$X="RovingFocusGroupItem",kX=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,...s}=e,a=dr(),l=i||a,c=IX($X,n),u=c.currentTabStopId===l,f=RN(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return d.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),d.createElement(_0.ItemSlot,{scope:n,id:l,focusable:r,active:o},d.createElement(ce.span,D({tabIndex:u?0:-1,"data-orientation":c.orientation},s,{ref:t,onMouseDown:G(e.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:G(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:G(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=MX(g,c.orientation,c.dir);if(m!==void 0){g.preventDefault();let v=f().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const y=v.indexOf(g.currentTarget);v=c.loop?OX(v,y+1):v.slice(y+1)}setTimeout(()=>PN(v))}})})))}),DX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NX(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MX(e,t,n){const r=NX(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DX[r]}function PN(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function OX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const LX=PX,VX=kX,E0=["Enter"," "],FX=["ArrowDown","PageUp","Home"],AN=["ArrowUp","PageDown","End"],jX=[...FX,...AN],UX={ltr:[...E0,"ArrowRight"],rtl:[...E0,"ArrowLeft"]},BX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bm="Menu",[yu,zX,HX]=vl(bm),[Is,$N]=yr(bm,[HX,ml,IN]),i1=ml(),kN=IN(),[WX,Ps]=Is(bm),[GX,id]=Is(bm),KX=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:i,modal:s=!0}=e,a=i1(t),[l,c]=d.useState(null),u=d.useRef(!1),f=at(i),h=xm(o);return d.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),d.createElement(XE,a,d.createElement(WX,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c},d.createElement(GX,{scope:t,onClose:d.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:s},r)))},DN=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=i1(n);return d.createElement(YE,D({},o,r,{ref:t}))}),NN="MenuPortal",[qX,MN]=Is(NN,{forceMount:void 0}),QX=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=Ps(NN,t);return d.createElement(qX,{scope:t,forceMount:n},d.createElement(Zn,{present:n||i.open},d.createElement(Zu,{asChild:!0,container:o},r)))},fr="MenuContent",[XX,s1]=Is(fr),YX=d.forwardRef((e,t)=>{const n=MN(fr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=Ps(fr,e.__scopeMenu),s=id(fr,e.__scopeMenu);return d.createElement(yu.Provider,{scope:e.__scopeMenu},d.createElement(Zn,{present:r||i.open},d.createElement(yu.Slot,{scope:e.__scopeMenu},s.modal?d.createElement(JX,D({},o,{ref:t})):d.createElement(ZX,D({},o,{ref:t})))))}),JX=d.forwardRef((e,t)=>{const n=Ps(fr,e.__scopeMenu),r=d.useRef(null),o=Ae(t,r);return d.useEffect(()=>{const i=r.current;if(i)return ed(i)},[]),d.createElement(a1,D({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:G(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),ZX=d.forwardRef((e,t)=>{const n=Ps(fr,e.__scopeMenu);return d.createElement(a1,D({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),a1=d.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,w=Ps(fr,n),v=id(fr,n),y=i1(n),E=kN(n),_=zX(n),[b,S]=d.useState(null),C=d.useRef(null),T=Ae(t,C,w.onContentChange),I=d.useRef(0),M=d.useRef(""),B=d.useRef(0),j=d.useRef(null),q=d.useRef("right"),N=d.useRef(0),U=g?cm:d.Fragment,W=g?{as:Eo,allowPinchZoom:!0}:void 0,Z=R=>{var $,V;const L=M.current+R,se=_().filter(Me=>!Me.disabled),ee=document.activeElement,Te=($=se.find(Me=>Me.ref.current===ee))===null||$===void 0?void 0:$.textValue,$e=se.map(Me=>Me.textValue),te=mY($e,L,Te),ye=(V=se.find(Me=>Me.textValue===te))===null||V===void 0?void 0:V.ref.current;(function Me(Se){M.current=Se,window.clearTimeout(I.current),Se!==""&&(I.current=window.setTimeout(()=>Me(""),1e3))})(L),ye&&setTimeout(()=>ye.focus())};d.useEffect(()=>()=>window.clearTimeout(I.current),[]),am();const k=d.useCallback(R=>{var $,V;return q.current===(($=j.current)===null||$===void 0?void 0:$.side)&&vY(R,(V=j.current)===null||V===void 0?void 0:V.area)},[]);return d.createElement(XX,{scope:n,searchRef:M,onItemEnter:d.useCallback(R=>{k(R)&&R.preventDefault()},[k]),onItemLeave:d.useCallback(R=>{var $;k(R)||(($=C.current)===null||$===void 0||$.focus(),S(null))},[k]),onTriggerLeave:d.useCallback(R=>{k(R)&&R.preventDefault()},[k]),pointerGraceTimerRef:B,onPointerGraceIntentChange:d.useCallback(R=>{j.current=R},[])},d.createElement(U,W,d.createElement(sm,{asChild:!0,trapped:o,onMountAutoFocus:G(i,R=>{var $;R.preventDefault(),($=C.current)===null||$===void 0||$.focus()}),onUnmountAutoFocus:s},d.createElement(hl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p},d.createElement(LX,D({asChild:!0},E,{dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:b,onCurrentTabStopIdChange:S,onEntryFocus:G(l,R=>{v.isUsingKeyboardRef.current||R.preventDefault()})}),d.createElement(JE,D({role:"menu","aria-orientation":"vertical","data-state":jN(w.open),"data-radix-menu-content":"",dir:v.dir},y,m,{ref:T,style:{outline:"none",...m.style},onKeyDown:G(m.onKeyDown,R=>{const V=R.target.closest("[data-radix-menu-content]")===R.currentTarget,L=R.ctrlKey||R.altKey||R.metaKey,se=R.key.length===1;V&&(R.key==="Tab"&&R.preventDefault(),!L&&se&&Z(R.key));const ee=C.current;if(R.target!==ee||!jX.includes(R.key))return;R.preventDefault();const $e=_().filter(te=>!te.disabled).map(te=>te.ref.current);AN.includes(R.key)&&$e.reverse(),hY($e)}),onBlur:G(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(I.current),M.current="")}),onPointerMove:G(e.onPointerMove,wu(R=>{const $=R.target,V=N.current!==R.clientX;if(R.currentTarget.contains($)&&V){const L=R.clientX>N.current?"right":"left";q.current=L,N.current=R.clientX}}))})))))))}),eY=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return d.createElement(ce.div,D({},r,{ref:t}))}),x0="MenuItem",pT="menu.itemSelect",l1=d.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,i=d.useRef(null),s=id(x0,e.__scopeMenu),a=s1(x0,e.__scopeMenu),l=Ae(t,i),c=d.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(pT,{bubbles:!0,cancelable:!0});f.addEventListener(pT,p=>r==null?void 0:r(p),{once:!0}),gE(f,h),h.defaultPrevented?c.current=!1:s.onClose()}};return d.createElement(ON,D({},o,{ref:l,disabled:n,onClick:G(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)===null||h===void 0||h.call(e,f),c.current=!0},onPointerUp:G(e.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)===null||h===void 0||h.click()}),onKeyDown:G(e.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||E0.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),ON=d.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=e,s=s1(x0,n),a=kN(n),l=d.useRef(null),c=Ae(t,l),[u,f]=d.useState(!1),[h,p]=d.useState("");return d.useEffect(()=>{const g=l.current;if(g){var m;p(((m=g.textContent)!==null&&m!==void 0?m:"").trim())}},[i.children]),d.createElement(yu.ItemSlot,{scope:n,disabled:r,textValue:o??h},d.createElement(VX,D({asChild:!0},a,{focusable:!r}),d.createElement(ce.div,D({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},i,{ref:c,onPointerMove:G(e.onPointerMove,wu(g=>{r?s.onItemLeave(g):(s.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus())})),onPointerLeave:G(e.onPointerLeave,wu(g=>s.onItemLeave(g))),onFocus:G(e.onFocus,()=>f(!0)),onBlur:G(e.onBlur,()=>f(!1))}))))}),tY=d.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return d.createElement(VN,{scope:e.__scopeMenu,checked:n},d.createElement(l1,D({role:"menuitemcheckbox","aria-checked":Xh(n)?"mixed":n},o,{ref:t,"data-state":c1(n),onSelect:G(o.onSelect,()=>r==null?void 0:r(Xh(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),nY="MenuRadioGroup",[Sne,rY]=Is(nY,{value:void 0,onValueChange:()=>{}}),oY="MenuRadioItem",iY=d.forwardRef((e,t)=>{const{value:n,...r}=e,o=rY(oY,e.__scopeMenu),i=n===o.value;return d.createElement(VN,{scope:e.__scopeMenu,checked:i},d.createElement(l1,D({role:"menuitemradio","aria-checked":i},r,{ref:t,"data-state":c1(i),onSelect:G(r.onSelect,()=>{var s;return(s=o.onValueChange)===null||s===void 0?void 0:s.call(o,n)},{checkForDefaultPrevented:!1})})))}),LN="MenuItemIndicator",[VN,sY]=Is(LN,{checked:!1}),aY=d.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,i=sY(LN,n);return d.createElement(Zn,{present:r||Xh(i.checked)||i.checked===!0},d.createElement(ce.span,D({},o,{ref:t,"data-state":c1(i.checked)})))}),lY=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return d.createElement(ce.div,D({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),cY="MenuSub",[Cne,FN]=Is(cY),nf="MenuSubTrigger",uY=d.forwardRef((e,t)=>{const n=Ps(nf,e.__scopeMenu),r=id(nf,e.__scopeMenu),o=FN(nf,e.__scopeMenu),i=s1(nf,e.__scopeMenu),s=d.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:e.__scopeMenu},u=d.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return d.useEffect(()=>u,[u]),d.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),d.createElement(DN,D({asChild:!0},c),d.createElement(ON,D({id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":jN(n.open)},e,{ref:im(t,o.onTriggerChange),onClick:f=>{var h;(h=e.onClick)===null||h===void 0||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:G(e.onPointerMove,wu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:G(e.onPointerLeave,wu(f=>{var h;u();const p=(h=n.content)===null||h===void 0?void 0:h.getBoundingClientRect();if(p){var g;const m=(g=n.content)===null||g===void 0?void 0:g.dataset.side,w=m==="right",v=w?-5:5,y=p[w?"left":"right"],E=p[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:y,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x:y,y:p.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:G(e.onKeyDown,f=>{const h=i.searchRef.current!=="";if(!(e.disabled||h&&f.key===" ")&&UX[r.dir].includes(f.key)){var p;n.onOpenChange(!0),(p=n.content)===null||p===void 0||p.focus(),f.preventDefault()}})})))}),dY="MenuSubContent",fY=d.forwardRef((e,t)=>{const n=MN(fr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=Ps(fr,e.__scopeMenu),s=id(fr,e.__scopeMenu),a=FN(dY,e.__scopeMenu),l=d.useRef(null),c=Ae(t,l);return d.createElement(yu.Provider,{scope:e.__scopeMenu},d.createElement(Zn,{present:r||i.open},d.createElement(yu.Slot,{scope:e.__scopeMenu},d.createElement(a1,D({id:a.contentId,"aria-labelledby":a.triggerId},o,{ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)===null||f===void 0||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:G(e.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:G(e.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:G(e.onKeyDown,u=>{const f=u.currentTarget.contains(u.target),h=BX[s.dir].includes(u.key);if(f&&h){var p;i.onOpenChange(!1),(p=a.trigger)===null||p===void 0||p.focus(),u.preventDefault()}})})))))});function jN(e){return e?"open":"closed"}function Xh(e){return e==="indeterminate"}function c1(e){return Xh(e)?"indeterminate":e?"checked":"unchecked"}function hY(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function pY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function mY(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=pY(e,Math.max(i,0));o.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function gY(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i].x,l=t[i].y,c=t[s].x,u=t[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}function vY(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return gY(n,t)}function wu(e){return t=>t.pointerType==="mouse"?e(t):void 0}const yY=KX,wY=DN,_Y=QX,EY=YX,xY=eY,bY=l1,SY=tY,CY=iY,TY=aY,RY=lY,IY=uY,PY=fY,UN="DropdownMenu",[AY,Tne]=yr(UN,[$N]),er=$N(),[$Y,BN]=AY(UN),kY=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=er(t),c=d.useRef(null),[u=!1,f]=hi({prop:o,defaultProp:i,onChange:s});return d.createElement($Y,{scope:t,triggerId:dr(),triggerRef:c,contentId:dr(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:a},d.createElement(yY,D({},l,{open:u,onOpenChange:f,dir:r,modal:a}),n))},DY="DropdownMenuTrigger",NY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,i=BN(DY,n),s=er(n);return d.createElement(wY,D({asChild:!0},s),d.createElement(ce.button,D({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:im(t,i.triggerRef),onPointerDown:G(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:G(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),MY=e=>{const{__scopeDropdownMenu:t,...n}=e,r=er(t);return d.createElement(_Y,D({},r,n))},OY="DropdownMenuContent",LY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=BN(OY,n),i=er(n),s=d.useRef(!1);return d.createElement(EY,D({id:o.contentId,"aria-labelledby":o.triggerId},i,r,{ref:t,onCloseAutoFocus:G(e.onCloseAutoFocus,a=>{var l;s.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:G(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!o.modal||u)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),VY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=er(n);return d.createElement(xY,D({},o,r,{ref:t}))}),FY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=er(n);return d.createElement(bY,D({},o,r,{ref:t}))}),jY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=er(n);return d.createElement(SY,D({},o,r,{ref:t}))}),UY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=er(n);return d.createElement(CY,D({},o,r,{ref:t}))}),BY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=er(n);return d.createElement(TY,D({},o,r,{ref:t}))}),zY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=er(n);return d.createElement(RY,D({},o,r,{ref:t}))}),HY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=er(n);return d.createElement(IY,D({},o,r,{ref:t}))}),WY=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=er(n);return d.createElement(PY,D({},o,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),GY=kY,KY=NY,qY=MY,zN=LY,HN=VY,WN=FY,GN=jY,KN=UY,qN=BY,QN=zY,XN=HY,YN=WY,QY=GY,XY=KY,YY=d.forwardRef(({className:e,inset:t,children:n,...r},o)=>x.jsxs(XN,{ref:o,className:Y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,x.jsx(Bk,{className:"ml-auto h-4 w-4"})]}));YY.displayName=XN.displayName;const JY=d.forwardRef(({className:e,...t},n)=>x.jsx(YN,{ref:n,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-tertiary p-1 text-primary shadow-md animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",e),...t}));JY.displayName=YN.displayName;const JN=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>x.jsx(qY,{children:x.jsx(zN,{ref:r,sideOffset:t,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-tertiary p-1 text-primary shadow-md animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));JN.displayName=zN.displayName;const Lf=d.forwardRef(({className:e,inset:t,...n},r)=>x.jsx(WN,{ref:r,className:Y("relative cursor-pointer flex select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-primary  data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Lf.displayName=WN.displayName;const ZY=d.forwardRef(({className:e,children:t,checked:n,...r},o)=>x.jsxs(GN,{ref:o,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(qN,{children:x.jsx(fE,{className:"h-4 w-4"})})}),t]}));ZY.displayName=GN.displayName;const eJ=d.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(KN,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(qN,{children:x.jsx(DB,{className:"h-2 w-2 fill-current"})})}),t]}));eJ.displayName=KN.displayName;const tJ=d.forwardRef(({className:e,inset:t,...n},r)=>x.jsx(HN,{ref:r,className:Y("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));tJ.displayName=HN.displayName;const ZN=d.forwardRef(({className:e,...t},n)=>x.jsx(QN,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));ZN.displayName=QN.displayName;function nv({column:e,title:t,className:n}){return e.getCanSort()?x.jsx("div",{className:Y("flex items-center space-x-2",n),children:x.jsxs(QY,{children:[x.jsx(XY,{asChild:!0,children:x.jsxs(ht,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[x.jsx("span",{children:t}),e.getIsSorted()==="desc"?x.jsx(NS,{className:"ml-2 h-4 w-4"}):e.getIsSorted()==="asc"?x.jsx(MS,{className:"ml-2 h-4 w-4"}):x.jsx(zk,{className:"ml-2 h-4 w-4"})]})}),x.jsxs(JN,{align:"start",children:[x.jsxs(Lf,{onClick:()=>e.toggleSorting(!1),children:[x.jsx(MS,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),x.jsxs(Lf,{onClick:()=>e.toggleSorting(!0),children:[x.jsx(NS,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),x.jsx(ZN,{}),x.jsxs(Lf,{onClick:()=>e.toggleVisibility(!1),children:[x.jsx(NB,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})}):x.jsx("div",{className:Y(n),children:t})}function Ta(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function nJ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function eM(...e){return t=>e.forEach(n=>nJ(n,t))}function sd(...e){return d.useCallback(eM(...e),e)}function rJ(e,t=[]){let n=[];function r(i,s){const a=d.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][l])||a,w=d.useMemo(()=>g,Object.values(g));return d.createElement(m.Provider,{value:w},p)}function u(f,h){const p=(h==null?void 0:h[e][l])||a,g=d.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const o=()=>{const i=n.map(s=>d.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,oJ(o,...t)]}function oJ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}const b0=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},iJ=H0["useId".toString()]||(()=>{});let sJ=0;function rv(e){const[t,n]=d.useState(iJ());return b0(()=>{e||n(r=>r??String(sJ++))},[e]),e||(t?`radix-${t}`:"")}function fs(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function aJ({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=lJ({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,a=fs(n),l=d.useCallback(c=>{if(i){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else o(c)},[i,e,o,a]);return[s,l]}function lJ({defaultProp:e,onChange:t}){const n=d.useState(e),[r]=n,o=d.useRef(r),i=fs(t);return d.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}const u1=d.forwardRef((e,t)=>{const{children:n,...r}=e,o=d.Children.toArray(n),i=o.find(uJ);if(i){const s=i.props.children,a=o.map(l=>l===i?d.Children.count(s)>1?d.Children.only(null):d.isValidElement(s)?s.props.children:null:l);return d.createElement(S0,D({},r,{ref:t}),d.isValidElement(s)?d.cloneElement(s,void 0,a):null)}return d.createElement(S0,D({},r,{ref:t}),n)});u1.displayName="Slot";const S0=d.forwardRef((e,t)=>{const{children:n,...r}=e;return d.isValidElement(n)?d.cloneElement(n,{...dJ(r,n.props),ref:eM(t,n.ref)}):d.Children.count(n)>1?d.Children.only(null):null});S0.displayName="SlotClone";const cJ=({children:e})=>d.createElement(d.Fragment,null,e);function uJ(e){return d.isValidElement(e)&&e.type===cJ}function dJ(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{i==null||i(...a),o==null||o(...a)}:r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}const fJ=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],Sm=fJ.reduce((e,t)=>{const n=d.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?u1:t;return d.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),d.createElement(a,D({},s,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function hJ(e,t){e&&Vr.flushSync(()=>e.dispatchEvent(t))}function pJ(e){const t=fs(e);d.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const C0="dismissableLayer.update",mJ="dismissableLayer.pointerDownOutside",gJ="dismissableLayer.focusOutside";let mT;const vJ=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yJ=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,c=d.useContext(vJ),[u,f]=d.useState(null),[,h]=d.useState({}),p=sd(t,S=>f(S)),g=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(m),v=u?g.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,E=v>=w,_=wJ(S=>{const C=S.target,T=[...c.branches].some(I=>I.contains(C));!E||T||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())}),b=_J(S=>{const C=S.target;[...c.branches].some(I=>I.contains(C))||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())});return pJ(S=>{v===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))}),d.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mT=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),gT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=mT)}},[u,n,c]),d.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),gT())},[u,c]),d.useEffect(()=>{const S=()=>h({});return document.addEventListener(C0,S),()=>document.removeEventListener(C0,S)},[]),d.createElement(Sm.div,D({},l,{ref:p,style:{pointerEvents:y?E?"auto":"none":void 0,...e.style},onFocusCapture:Ta(e.onFocusCapture,b.onFocusCapture),onBlurCapture:Ta(e.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Ta(e.onPointerDownCapture,_.onPointerDownCapture)}))});function wJ(e){const t=fs(e),n=d.useRef(!1),r=d.useRef(()=>{});return d.useEffect(()=>{const o=s=>{if(s.target&&!n.current){let c=function(){tM(mJ,t,l,{discrete:!0})};var a=c;const l={originalEvent:s};s.pointerType==="touch"?(document.removeEventListener("click",r.current),r.current=c,document.addEventListener("click",r.current,{once:!0})):c()}n.current=!1},i=window.setTimeout(()=>{document.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),document.removeEventListener("pointerdown",o),document.removeEventListener("click",r.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function _J(e){const t=fs(e),n=d.useRef(!1);return d.useEffect(()=>{const r=o=>{o.target&&!n.current&&tM(gJ,t,{originalEvent:o},{discrete:!1})};return document.addEventListener("focusin",r),()=>document.removeEventListener("focusin",r)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gT(){const e=new CustomEvent(C0);document.dispatchEvent(e)}function tM(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?hJ(o,i):o.dispatchEvent(i)}const ov="focusScope.autoFocusOnMount",iv="focusScope.autoFocusOnUnmount",vT={bubbles:!1,cancelable:!0},EJ=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[a,l]=d.useState(null),c=fs(o),u=fs(i),f=d.useRef(null),h=sd(t,m=>l(m)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let v=function(E){if(p.paused||!a)return;const _=E.target;a.contains(_)?f.current=_:Ni(f.current,{select:!0})},y=function(E){p.paused||!a||a.contains(E.relatedTarget)||Ni(f.current,{select:!0})};var m=v,w=y;return document.addEventListener("focusin",v),document.addEventListener("focusout",y),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y)}}},[r,a,p.paused]),d.useEffect(()=>{if(a){wT.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(ov,vT);a.addEventListener(ov,c),a.dispatchEvent(v),v.defaultPrevented||(xJ(RJ(nM(a)),{select:!0}),document.activeElement===m&&Ni(a))}return()=>{a.removeEventListener(ov,c),setTimeout(()=>{const v=new CustomEvent(iv,vT);a.addEventListener(iv,u),a.dispatchEvent(v),v.defaultPrevented||Ni(m??document.body,{select:!0}),a.removeEventListener(iv,u),wT.remove(p)},0)}}},[a,c,u,p]);const g=d.useCallback(m=>{if(!n&&!r||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(w&&v){const y=m.currentTarget,[E,_]=bJ(y);E&&_?!m.shiftKey&&v===_?(m.preventDefault(),n&&Ni(E,{select:!0})):m.shiftKey&&v===E&&(m.preventDefault(),n&&Ni(_,{select:!0})):v===y&&m.preventDefault()}},[n,r,p.paused]);return d.createElement(Sm.div,D({tabIndex:-1},s,{ref:h,onKeyDown:g}))});function xJ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ni(r,{select:t}),document.activeElement!==n)return}function bJ(e){const t=nM(e),n=yT(t,e),r=yT(t.reverse(),e);return[n,r]}function nM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yT(e,t){for(const n of e)if(!SJ(n,{upTo:t}))return n}function SJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function CJ(e){return e instanceof HTMLInputElement&&"select"in e}function Ni(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&CJ(e)&&t&&e.select()}}const wT=TJ();function TJ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_T(e,t),e.unshift(t)},remove(t){var n;e=_T(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function _T(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function RJ(e){return e.filter(t=>t.tagName!=="A")}const IJ=d.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?YI.createPortal(d.createElement(Sm.div,D({},o,{ref:t})),r):null});function PJ(e,t){return d.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const Cm=e=>{const{present:t,children:n}=e,r=AJ(t),o=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=sd(r.ref,o.ref);return typeof n=="function"||r.isPresent?d.cloneElement(o,{ref:i}):null};Cm.displayName="Presence";function AJ(e){const[t,n]=d.useState(),r=d.useRef({}),o=d.useRef(e),i=d.useRef("none"),s=e?"mounted":"unmounted",[a,l]=PJ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const c=rf(r.current);i.current=a==="mounted"?c:"none"},[a]),b0(()=>{const c=r.current,u=o.current;if(u!==e){const h=i.current,p=rf(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),b0(()=>{if(t){const c=f=>{const p=rf(r.current).includes(f.animationName);f.target===t&&p&&Vr.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===t&&(i.current=rf(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function rf(e){return(e==null?void 0:e.animationName)||"none"}let sv=0;function $J(){d.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:ET()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:ET()),sv++,()=>{sv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),sv--}},[])}function ET(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var rM=tD(),av=function(){},Tm=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:av,onWheelCapture:av,onTouchMoveCapture:av}),o=r[0],i=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,y=ll(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=h,_=eD([n,t]),b=Yt(Yt({},y),o);return d.createElement(d.Fragment,null,u&&d.createElement(E,{sideCar:rM,removeScrollBar:c,shards:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:n}),s?d.cloneElement(d.Children.only(a),Yt(Yt({},b),{ref:_})):d.createElement(v,Yt({},b,{className:l,ref:_}),a))});Tm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tm.classNames={fullWidth:xc,zeroRight:Ec};var T0=!1;if(typeof window<"u")try{var of=Object.defineProperty({},"passive",{get:function(){return T0=!0,!0}});window.addEventListener("test",of,of),window.removeEventListener("test",of,of)}catch{T0=!1}var js=T0?{passive:!1}:!1,kJ=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},DJ=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},xT=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=oM(e,n);if(r){var o=iM(e,n),i=o[1],s=o[2];if(i>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},NJ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},MJ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},oM=function(e,t){return e==="v"?kJ(t):DJ(t)},iM=function(e,t){return e==="v"?NJ(t):MJ(t)},OJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},LJ=function(e,t,n,r,o){var i=OJ(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,l=t.contains(a),c=!1,u=s>0,f=0,h=0;do{var p=iM(e,a),g=p[0],m=p[1],w=p[2],v=m-w-i*g;(g||v)&&oM(e,a)&&(f+=v,h+=g),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(o&&f===0||!o&&s>f)||!u&&(o&&h===0||!o&&-s>h))&&(c=!0),c},sf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bT=function(e){return[e.deltaX,e.deltaY]},ST=function(e){return e&&"current"in e?e.current:e},VJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jJ=0,Us=[];function UJ(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),o=d.useState(jJ++)[0],i=d.useState(function(){return vE()})[0],s=d.useRef(e);d.useEffect(function(){s.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=F$([e.lockRef.current],(e.shards||[]).map(ST),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=d.useCallback(function(m,w){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var v=sf(m),y=n.current,E="deltaX"in m?m.deltaX:y[0]-v[0],_="deltaY"in m?m.deltaY:y[1]-v[1],b,S=m.target,C=Math.abs(E)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&S.type==="range")return!1;var T=xT(C,S);if(!T)return!0;if(T?b=C:(b=C==="v"?"h":"v",T=xT(C,S)),!T)return!1;if(!r.current&&"changedTouches"in m&&(E||_)&&(r.current=b),!b)return!0;var I=r.current||b;return LJ(I,w,m,I==="h"?E:_,!0)},[]),l=d.useCallback(function(m){var w=m;if(!(!Us.length||Us[Us.length-1]!==i)){var v="deltaY"in w?bT(w):sf(w),y=t.current.filter(function(b){return b.name===w.type&&b.target===w.target&&VJ(b.delta,v)})[0];if(y&&y.should){w.preventDefault();return}if(!y){var E=(s.current.shards||[]).map(ST).filter(Boolean).filter(function(b){return b.contains(w.target)}),_=E.length>0?a(w,E[0]):!s.current.noIsolation;_&&w.preventDefault()}}},[]),c=d.useCallback(function(m,w,v,y){var E={name:m,delta:w,target:v,should:y};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(_){return _!==E})},1)},[]),u=d.useCallback(function(m){n.current=sf(m),r.current=void 0},[]),f=d.useCallback(function(m){c(m.type,bT(m),m.target,a(m,e.lockRef.current))},[]),h=d.useCallback(function(m){c(m.type,sf(m),m.target,a(m,e.lockRef.current))},[]);d.useEffect(function(){return Us.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,js),document.addEventListener("touchmove",l,js),document.addEventListener("touchstart",u,js),function(){Us=Us.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,js),document.removeEventListener("touchmove",l,js),document.removeEventListener("touchstart",u,js)}},[]);var p=e.removeScrollBar,g=e.inert;return d.createElement(d.Fragment,null,g?d.createElement(i,{styles:FJ(o)}):null,p?d.createElement(iD,{gapMode:"margin"}):null)}const BJ=rD(rM,UJ);var sM=d.forwardRef(function(e,t){return d.createElement(Tm,Yt({},e,{ref:t,sideCar:BJ}))});sM.classNames=Tm.classNames;const zJ=sM,aM="Dialog",[lM,Rne]=rJ(aM),[HJ,As]=lM(aM),WJ=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,a=d.useRef(null),l=d.useRef(null),[c=!1,u]=aJ({prop:r,defaultProp:o,onChange:i});return d.createElement(HJ,{scope:t,triggerRef:a,contentRef:l,contentId:rv(),titleId:rv(),descriptionId:rv(),open:c,onOpenChange:u,onOpenToggle:d.useCallback(()=>u(f=>!f),[u]),modal:s},n)},cM="DialogPortal",[GJ,uM]=lM(cM,{forceMount:void 0}),KJ=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=As(cM,t);return d.createElement(GJ,{scope:t,forceMount:n},d.Children.map(r,s=>d.createElement(Cm,{present:n||i.open},d.createElement(IJ,{asChild:!0,container:o},s))))},R0="DialogOverlay",qJ=d.forwardRef((e,t)=>{const n=uM(R0,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=As(R0,e.__scopeDialog);return i.modal?d.createElement(Cm,{present:r||i.open},d.createElement(QJ,D({},o,{ref:t}))):null}),QJ=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=As(R0,n);return d.createElement(zJ,{as:u1,allowPinchZoom:!0,shards:[o.contentRef]},d.createElement(Sm.div,D({"data-state":fM(o.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),_u="DialogContent",XJ=d.forwardRef((e,t)=>{const n=uM(_u,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=As(_u,e.__scopeDialog);return d.createElement(Cm,{present:r||i.open},i.modal?d.createElement(YJ,D({},o,{ref:t})):d.createElement(JJ,D({},o,{ref:t})))}),YJ=d.forwardRef((e,t)=>{const n=As(_u,e.__scopeDialog),r=d.useRef(null),o=sd(t,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return ed(i)},[]),d.createElement(dM,D({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ta(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:Ta(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&i.preventDefault()}),onFocusOutside:Ta(e.onFocusOutside,i=>i.preventDefault())}))}),JJ=d.forwardRef((e,t)=>{const n=As(_u,e.__scopeDialog),r=d.useRef(!1);return d.createElement(dM,D({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),o.preventDefault()}r.current=!1},onInteractOutside:o=>{var i,s;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(r.current=!0);const a=o.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(a))&&o.preventDefault()}}))}),dM=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=e,a=As(_u,n),l=d.useRef(null),c=sd(t,l);return $J(),d.createElement(d.Fragment,null,d.createElement(EJ,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i},d.createElement(yJ,D({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":fM(a.open)},s,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function fM(e){return e?"open":"closed"}const ZJ=WJ,eZ=KJ,tZ=qJ,nZ=XJ;var CT=1,rZ=.9,oZ=.3,lv=.1,iZ=0,cv=.999,sZ=.9999,aZ=.99,TT=/[\\\/\-_+.# \t"@\[\(\{&]/,lZ=/[\\\/\-_+.# \t"@\[\(\{&]/g;function I0(e,t,n,r,o,i){if(i===t.length)return o===e.length?CT:aZ;for(var s=r.charAt(i),a=n.indexOf(s,o),l=0,c,u,f;a>=0;)c=I0(e,t,n,r,a+1,i+1),c>l&&(a===o?c*=CT:TT.test(e.charAt(a-1))?(c*=rZ,f=e.slice(o,a-1).match(lZ),f&&o>0&&(c*=Math.pow(cv,f.length))):TT.test(e.slice(o,a-1))?(c*=iZ,o>0&&(c*=Math.pow(cv,a-o))):(c*=oZ,o>0&&(c*=Math.pow(cv,a-o))),e.charAt(a)!==t.charAt(i)&&(c*=sZ)),c<lv&&n.charAt(a-1)===r.charAt(i+1)&&n.charAt(a-1)!==r.charAt(i)&&(u=I0(e,t,n,r,a+1,i+2),u*lv>c&&(c=u*lv)),c>l&&(l=c),a=n.indexOf(s,a+1);return l}function cZ(e,t){return I0(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}var uZ=cZ;const dZ=F0(uZ);var fZ='[cmdk-list-sizer=""]',Bl='[cmdk-group=""]',uv='[cmdk-group-items=""]',hZ='[cmdk-group-heading=""]',hM='[cmdk-item=""]',RT=`${hM}:not([aria-disabled="true"])`,P0="cmdk-item-select",Do="data-value",pZ=(e,t)=>dZ(e,t),pM=d.createContext(void 0),ad=()=>d.useContext(pM),mM=d.createContext(void 0),d1=()=>d.useContext(mM),gM=d.createContext(void 0),vM=d.forwardRef((e,t)=>{let n=d.useRef(null),r=Ws(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),o=Ws(()=>new Set),i=Ws(()=>new Map),s=Ws(()=>new Map),a=Ws(()=>new Set),l=yM(e),{label:c,children:u,value:f,onValueChange:h,filter:p,shouldFilter:g,...m}=e,w=d.useId(),v=d.useId(),y=d.useId(),E=CZ();yl(()=>{if(f!==void 0){let R=f.trim().toLowerCase();r.current.value=R,E(6,M),_.emit()}},[f]);let _=d.useMemo(()=>({subscribe:R=>(a.current.add(R),()=>a.current.delete(R)),snapshot:()=>r.current,setState:(R,$,V)=>{var L,se,ee;if(!Object.is(r.current[R],$)){if(r.current[R]=$,R==="search")I(),C(),E(1,T);else if(R==="value")if(((L=l.current)==null?void 0:L.value)!==void 0){(ee=(se=l.current).onValueChange)==null||ee.call(se,$);return}else V||E(5,M);_.emit()}},emit:()=>{a.current.forEach(R=>R())}}),[]),b=d.useMemo(()=>({value:(R,$)=>{$!==s.current.get(R)&&(s.current.set(R,$),r.current.filtered.items.set(R,S($)),E(2,()=>{C(),_.emit()}))},item:(R,$)=>(o.current.add(R),$&&(i.current.has($)?i.current.get($).add(R):i.current.set($,new Set([R]))),E(3,()=>{I(),C(),r.current.value||T(),_.emit()}),()=>{s.current.delete(R),o.current.delete(R),r.current.filtered.items.delete(R),E(4,()=>{I(),T(),_.emit()})}),group:R=>(i.current.has(R)||i.current.set(R,new Set),()=>{s.current.delete(R),i.current.delete(R)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],listId:w,inputId:y,labelId:v}),[]);function S(R){var $;let V=(($=l.current)==null?void 0:$.filter)??pZ;return R?V(R,r.current.search):0}function C(){if(!n.current||!r.current.search||l.current.shouldFilter===!1)return;let R=r.current.filtered.items,$=[];r.current.filtered.groups.forEach(L=>{let se=i.current.get(L),ee=0;se.forEach(Te=>{let $e=R.get(Te);ee=Math.max($e,ee)}),$.push([L,ee])});let V=n.current.querySelector(fZ);j().sort((L,se)=>{let ee=L.getAttribute(Do),Te=se.getAttribute(Do);return(R.get(Te)??0)-(R.get(ee)??0)}).forEach(L=>{let se=L.closest(uv);se?se.appendChild(L.parentElement===se?L:L.closest(`${uv} > *`)):V.appendChild(L.parentElement===V?L:L.closest(`${uv} > *`))}),$.sort((L,se)=>se[1]-L[1]).forEach(L=>{let se=n.current.querySelector(`${Bl}[${Do}="${L[0]}"]`);se==null||se.parentElement.appendChild(se)})}function T(){let R=j().find(V=>!V.ariaDisabled),$=R==null?void 0:R.getAttribute(Do);_.setState("value",$||void 0)}function I(){if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=o.current.size;return}r.current.filtered.groups=new Set;let R=0;for(let $ of o.current){let V=s.current.get($),L=S(V);r.current.filtered.items.set($,L),L>0&&R++}for(let[$,V]of i.current)for(let L of V)if(r.current.filtered.items.get(L)>0){r.current.filtered.groups.add($);break}r.current.filtered.count=R}function M(){var R,$,V;let L=B();L&&(((R=L.parentElement)==null?void 0:R.firstChild)===L&&((V=($=L.closest(Bl))==null?void 0:$.querySelector(hZ))==null||V.scrollIntoView({block:"nearest"})),L.scrollIntoView({block:"nearest"}))}function B(){return n.current.querySelector(`${hM}[aria-selected="true"]`)}function j(){return Array.from(n.current.querySelectorAll(RT))}function q(R){let $=j()[R];$&&_.setState("value",$.getAttribute(Do))}function N(R){var $;let V=B(),L=j(),se=L.findIndex(Te=>Te===V),ee=L[se+R];($=l.current)!=null&&$.loop&&(ee=se+R<0?L[L.length-1]:se+R===L.length?L[0]:L[se+R]),ee&&_.setState("value",ee.getAttribute(Do))}function U(R){let $=B(),V=$==null?void 0:$.closest(Bl),L;for(;V&&!L;)V=R>0?bZ(V,Bl):SZ(V,Bl),L=V==null?void 0:V.querySelector(RT);L?_.setState("value",L.getAttribute(Do)):N(R)}let W=()=>q(j().length-1),Z=R=>{R.preventDefault(),R.metaKey?W():R.altKey?U(1):N(1)},k=R=>{R.preventDefault(),R.metaKey?q(0):R.altKey?U(-1):N(-1)};return d.createElement("div",{ref:ld([n,t]),...m,"cmdk-root":"",onKeyDown:R=>{var $;if(($=m.onKeyDown)==null||$.call(m,R),!R.defaultPrevented)switch(R.key){case"n":case"j":{R.ctrlKey&&Z(R);break}case"ArrowDown":{Z(R);break}case"p":case"k":{R.ctrlKey&&k(R);break}case"ArrowUp":{k(R);break}case"Home":{R.preventDefault(),q(0);break}case"End":{R.preventDefault(),W();break}case"Enter":{R.preventDefault();let V=B();if(V){let L=new Event(P0);V.dispatchEvent(L)}}}}},d.createElement("label",{"cmdk-label":"",htmlFor:b.inputId,id:b.labelId,style:TZ},c),d.createElement(mM.Provider,{value:_},d.createElement(pM.Provider,{value:b},u)))}),mZ=d.forwardRef((e,t)=>{let n=d.useId(),r=d.useRef(null),o=d.useContext(gM),i=ad(),s=yM(e);yl(()=>i.item(n,o),[]);let a=wM(n,r,[e.value,e.children,r]),l=d1(),c=Xa(v=>v.value&&v.value===a.current),u=Xa(v=>i.filter()===!1?!0:v.search?v.filtered.items.get(n)>0:!0);d.useEffect(()=>{let v=r.current;if(!(!v||e.disabled))return v.addEventListener(P0,f),()=>v.removeEventListener(P0,f)},[u,e.onSelect,e.disabled]);function f(){var v,y;(y=(v=s.current).onSelect)==null||y.call(v,a.current)}function h(){l.setState("value",a.current,!0)}if(!u)return null;let{disabled:p,value:g,onSelect:m,...w}=e;return d.createElement("div",{ref:ld([r,t]),...w,"cmdk-item":"",role:"option","aria-disabled":p||void 0,"aria-selected":c||void 0,"data-selected":c||void 0,onPointerMove:p?void 0:h,onClick:p?void 0:f},e.children)}),gZ=d.forwardRef((e,t)=>{let{heading:n,children:r,...o}=e,i=d.useId(),s=d.useRef(null),a=d.useRef(null),l=d.useId(),c=ad(),u=Xa(h=>c.filter()===!1?!0:h.search?h.filtered.groups.has(i):!0);yl(()=>c.group(i),[]),wM(i,s,[e.value,e.heading,a]);let f=d.createElement(gM.Provider,{value:i},r);return d.createElement("div",{ref:ld([s,t]),...o,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},n&&d.createElement("div",{ref:a,"cmdk-group-heading":"","aria-hidden":!0,id:l},n),d.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?l:void 0},f))}),vZ=d.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,o=d.useRef(null),i=Xa(s=>!s.search);return!n&&!i?null:d.createElement("div",{ref:ld([o,t]),...r,"cmdk-separator":"",role:"separator"})}),yZ=d.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,o=e.value!=null,i=d1(),s=Xa(l=>l.search),a=ad();return d.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),d.createElement("input",{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":a.listId,"aria-labelledby":a.labelId,id:a.inputId,type:"text",value:o?e.value:s,onChange:l=>{o||i.setState("search",l.target.value),n==null||n(l.target.value)}})}),wZ=d.forwardRef((e,t)=>{let{children:n,...r}=e,o=d.useRef(null),i=d.useRef(null),s=ad();return d.useEffect(()=>{if(i.current&&o.current){let a=i.current,l=o.current,c,u=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{let f=a.getBoundingClientRect().height;l.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return u.observe(a),()=>{cancelAnimationFrame(c),u.unobserve(a)}}},[]),d.createElement("div",{ref:ld([o,t]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:s.listId,"aria-labelledby":s.inputId},d.createElement("div",{ref:i,"cmdk-list-sizer":""},n))}),_Z=d.forwardRef((e,t)=>{let{open:n,onOpenChange:r,container:o,...i}=e;return d.createElement(ZJ,{open:n,onOpenChange:r},d.createElement(eZ,{container:o},d.createElement(tZ,{"cmdk-overlay":""}),d.createElement(nZ,{"aria-label":e.label,"cmdk-dialog":""},d.createElement(vM,{ref:t,...i}))))}),EZ=d.forwardRef((e,t)=>{let n=d.useRef(!0),r=Xa(o=>o.filtered.count===0);return d.useEffect(()=>{n.current=!1},[]),n.current||!r?null:d.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),xZ=d.forwardRef((e,t)=>{let{progress:n,children:r,...o}=e;return d.createElement("div",{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},d.createElement("div",{"aria-hidden":!0},r))}),bn=Object.assign(vM,{List:wZ,Item:mZ,Input:yZ,Group:gZ,Separator:vZ,Dialog:_Z,Empty:EZ,Loading:xZ});function bZ(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function SZ(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function yM(e){let t=d.useRef(e);return yl(()=>{t.current=e}),t}var yl=typeof window>"u"?d.useEffect:d.useLayoutEffect;function Ws(e){let t=d.useRef();return t.current===void 0&&(t.current=e()),t}function ld(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Xa(e){let t=d1(),n=()=>e(t.snapshot());return d.useSyncExternalStore(t.subscribe,n,n)}function wM(e,t,n){let r=d.useRef(),o=ad();return yl(()=>{var i;let s=(()=>{var a;for(let l of n){if(typeof l=="string")return l.trim().toLowerCase();if(typeof l=="object"&&"current"in l&&l.current)return(a=l.current.textContent)==null?void 0:a.trim().toLowerCase()}})();o.value(e,s),(i=t.current)==null||i.setAttribute(Do,s),r.current=s}),r}var CZ=()=>{let[e,t]=d.useState(),n=Ws(()=>new Map);return yl(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,o)=>{n.current.set(r,o),t({})}},TZ={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _M=({className:e,...t})=>x.jsx(wE,{className:Y(e),...t});_M.displayName=wE.displayName;const EM=d.forwardRef(({className:e,...t},n)=>x.jsx(_E,{ref:n,className:Y("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));EM.displayName=_E.displayName;const RZ=d.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(_M,{children:[x.jsx(EM,{}),x.jsxs(EE,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...n,children:[t,x.jsxs(gD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted",children:[x.jsx(om,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));RZ.displayName=EE.displayName;const IZ=d.forwardRef(({className:e,...t},n)=>x.jsx(xE,{ref:n,className:Y("text-lg font-semibold leading-none tracking-tight",e),...t}));IZ.displayName=xE.displayName;const PZ=d.forwardRef(({className:e,...t},n)=>x.jsx(bE,{ref:n,className:Y("text-sm text-muted",e),...t}));PZ.displayName=bE.displayName;const xM=d.forwardRef(({className:e,...t},n)=>x.jsx(bn,{ref:n,className:Y("flex h-full w-full flex-col overflow-hidden rounded-md bg-secondary text-secondary",e),...t}));xM.displayName=bn.displayName;const bM=d.forwardRef(({className:e,...t},n)=>x.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[x.jsx(FB,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),x.jsx(bn.Input,{ref:n,className:Y("flex h-11 w-full rounded-md py-3 text-sm outline-none placeholder:text-muted disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));bM.displayName=bn.Input.displayName;const AZ=d.forwardRef(({className:e,...t},n)=>x.jsx(bn.List,{ref:n,className:Y("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));AZ.displayName=bn.List.displayName;const SM=d.forwardRef((e,t)=>x.jsx(bn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));SM.displayName=bn.Empty.displayName;const CM=d.forwardRef(({className:e,...t},n)=>x.jsx(bn.Group,{ref:n,className:Y("overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted",e),...t}));CM.displayName=bn.Group.displayName;const $Z=d.forwardRef(({className:e,...t},n)=>x.jsx(bn.Separator,{ref:n,className:Y("-mx-1 h-px bg-border",e),...t}));$Z.displayName=bn.Separator.displayName;const TM=d.forwardRef(({className:e,...t},n)=>x.jsx(bn.Item,{ref:n,className:Y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-tooltip text-accent data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));TM.displayName=bn.Item.displayName;function f1(e){const[t,n]=d.useState(!1);return x.jsxs(iN,{open:t,onOpenChange:n,children:[x.jsx(sN,{asChild:!0,children:x.jsxs(ht,{variant:"ghost",role:"combobox","aria-label":"Chercher "+e.placeholder,"aria-expanded":t,className:"flex-1 justify-between w-full border border-dashed mt-1.5",children:[e.index!==null?e.label(e.values[e.index]):""+e.placeholder,x.jsx(zk,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),x.jsx(e1,{className:"w-[300px] p-0",children:x.jsxs(xM,{children:[x.jsx(bM,{placeholder:"Chercher "+e.placeholder}),x.jsx(SM,{children:"No presets found."}),x.jsx(CM,{children:e.values.map((r,o)=>x.jsxs(TM,{onSelect:()=>{e.onChange(o,r),n(!1)},children:[e.label(e.values[o]),x.jsx(fE,{className:Y("ml-auto h-4 w-4",o===e.index?"opacity-100":"opacity-0")})]},o))})]})})]})}const h1=d.forwardRef(({className:e,...t},n)=>x.jsx("textarea",{className:Y("bg-input flex min-h-[80px] w-full rounded-md border border-input px-3 py-2 text-sm ring-offset placeholder:text-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));h1.displayName="Textarea";function kZ(e){const{toast:t}=Dt(),[n,r]=d.useState(e.item.name),[o,i]=d.useState(e.item.initial_price),[s,a]=d.useState(e.item.quantity),[l,c]=d.useState(e.item.description),[u,f]=d.useState(null),h=["Informatique et High-Tech","Meubles et Dcoration","Vtements et Accessoires","Sports et Fitness","Jeux et Jouets","Autres"],[p,g]=d.useState(h.indexOf(e.item.category)),[m,w]=d.useState(!1),v=d.useMemo(()=>n===""||o<0||s<0||l===""||p===null||n===e.item.name&&o===e.item.initial_price&&s===e.item.quantity&&l===e.item.description&&h[p??0]===e.item.category,[n,o,s,l,p,u,e.item]),y=d.useRef(null);async function E(_){_.preventDefault(),w(()=>!0);let b=null;if(u){if(!u.type.startsWith("image/")){t({title:"Error",description:"Le fichier slectionn n'est pas une image.",variant:"destructive"}),w(!1);return}try{const T=Fk(jk,`${Date.now()}_${u.name}`);await Lk(T,u),b=await Vk(T)}catch(T){console.error(T),t({title:"Error",description:"Une erreur est survenue lors de l'upload de l'image.",variant:"destructive"})}}const S={itemId:e.item.id,name:n,stockId:e.item.stockId,quantity:s,category:h[p??0],description:l,initial_price:o,imgUrl:b||e.item.imgUrl};e.item.imgUrl&&b!==e.item.imgUrl&&e.item.imgUrl;const C=await tm.updateItem(S);C.success?(t({title:"Success",description:"L'article a t ajout avec succs!",variant:"default"}),e.item.name=n,e.item.initial_price=o,e.item.quantity=s,e.item.description=l,e.item.category=h[p??0]):t({title:"Error",description:`${C.message}`,variant:"destructive"}),w(!1)}return x.jsxs("div",{className:"text-primary flex flex-col justify-center items-center h-full gap-6 max-w-60",children:[x.jsx("h2",{className:"text-3xl font-bold",children:"Modifier un article"}),x.jsx("div",{className:"flex flex-col gap-4",children:x.jsxs("div",{className:"flex flex-row gap-4",children:[x.jsxs("div",{children:[x.jsxs("div",{children:[x.jsx(In,{htmlFor:"nameField",children:" Nom "}),x.jsx(Ft,{value:n,onChange:_=>r(_.target.value)})]}),x.jsxs("div",{children:[x.jsx(In,{htmlFor:"priceField",children:" Prix "}),x.jsx(Ft,{type:"number",min:"0",value:o,onChange:_=>i(Number(_.target.value))})]}),x.jsxs("div",{children:[x.jsx(In,{htmlFor:"quantityField",children:" Quantit "}),x.jsx(Ft,{type:"number",min:"1",value:s,onChange:_=>a(Number(_.target.value))})]}),x.jsxs("div",{children:[x.jsx(In,{htmlFor:"ImageField",children:" Image"}),x.jsxs("div",{className:"flex flex-row items-center",children:[x.jsx(ht,{onClick:()=>{var _;return(_=y.current)==null?void 0:_.click()},children:"Choisir image"}),x.jsx(Ft,{onChange:_=>{var b;return f(((b=_.target.files)==null?void 0:b[0])??null)},accept:"image/*",ref:y,type:"file",className:"hidden"}),x.jsx("span",{className:"ml-2",children:u==null?void 0:u.name})]})]})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex flex-col mb-4",children:[x.jsx(In,{htmlFor:"descriptionField",children:" Description "}),x.jsx(h1,{value:l,onChange:_=>c(_.target.value)})]}),x.jsx("div",{children:x.jsx(f1,{values:h,index:p,placeholder:"Categories",onChange:_=>g(_),label:_=>_})})]})]})}),x.jsx(ht,{isLoading:m,disabled:v,onClick:E,type:"submit",className:"w-80",children:"Modifier"})]})}function DZ(e){const[t,n]=d.useState(!1),{toast:r}=Dt(),[o,i]=d.useState(!1);async function s(a){a.preventDefault(),n(()=>!0);const l={itemId:e.item.id},c=await tm.deleteItem(l);c.success?(r({title:"Success",description:"L'article a t supprim avec succs!",variant:"default"}),i(!0)):r({title:"Error",description:`${c.message}`,variant:"destructive"}),n(!1)}return x.jsxs("div",{className:"text-primary flex flex-col justify-center items-center h-full gap-6 max-w-60",children:[x.jsx("h2",{className:"text-3xl font-bold",children:"Supprimer un article"}),x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsxs("div",{className:"mb-2",children:[x.jsx("label",{children:" Etes vous sur de vouloir supprimer: "}),x.jsx("p",{className:"truncate text-3xl text-primary",children:e.item.name})]}),x.jsx(ht,{isLoading:t,disabled:o,onClick:s,type:"submit",className:"w-80",children:"Supprimer"})]})]})}const NZ=[{id:"name",accessorKey:"name",header:({column:e})=>x.jsx(nv,{column:e,title:"Nom"}),filterFn:"includesString",enableColumnFilter:!0,enableSorting:!0,enableHiding:!0,cell:({row:e})=>x.jsx("span",{children:e.getValue("name")})},{id:"initial_price",accessorKey:"initial_price",header:({column:e})=>x.jsx(nv,{column:e,title:"Prix"}),enableColumnFilter:!1,enableSorting:!0,enableHiding:!0,cell:({row:e})=>x.jsx("span",{children:e.getValue("initial_price")})},{id:"quantity",accessorKey:"quantity",header:({column:e})=>x.jsx(nv,{column:e,title:"Quantit"}),filterFn:"includesString",enableColumnFilter:!0,enableSorting:!0,enableHiding:!0,cell:({row:e})=>x.jsx("span",{children:e.getValue("quantity")})},{header:"Actions",columns:[{id:"edit",header:"Modifier",accessorFn:e=>e,cell(e){const[t,n]=d.useState(!1);return x.jsxs(Ga,{open:t,onOpenChange:n,children:[x.jsx(Ka,{label:"Metre a jour",icon:x.jsx(VB,{size:24})}),x.jsx(qa,{title:"",isOpen:t,children:x.jsx(kZ,{item:e.getValue()})})]})}},{id:"delete",header:"Supprimer",accessorFn:e=>e,cell(e){const[t,n]=d.useState(!1);return e.getValue(),x.jsxs(Ga,{open:t,onOpenChange:n,children:[x.jsx(Ka,{label:"Supprimer",icon:x.jsx(UB,{size:24})}),x.jsx(qa,{title:"",isOpen:t,children:x.jsx(DZ,{item:e.getValue()})})]})}}]}];function MZ({table:e}){var n;const t=e.getPreFilteredRowModel().rows.length>e.getFilteredRowModel().rows.length;return x.jsx("div",{className:"flex flex-wrap items-center justify-between",children:x.jsxs("div",{className:"flex flex-1 flex-wrap items-center space-x-2",children:[x.jsx(O2,{name:"Filtrer par nom",placeholder:"Filtrer par nom",value:((n=e.getColumn("name"))==null?void 0:n.getFilterValue())??"",onChange:r=>{var o;return(o=e.getColumn("name"))==null?void 0:o.setFilterValue(r.target.value)},className:"h-8 w-[150px] lg:w-[250px]"}),t&&x.jsxs(ht,{variant:"ghost",onClick:()=>e.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",x.jsx(om,{className:"ml-2 h-4 w-4"})]})]})})}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wo(e,t){return typeof e=="function"?e(t):e}function Jn(e,t){return n=>{t.setState(r=>({...r,[e]:Wo(n,r[e])}))}}function Yh(e){return e instanceof Function}function OZ(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function LZ(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const s=t(i);s!=null&&s.length&&r(s)})};return r(e),n}function ue(e,t,n){let r=[],o;return()=>{let i;n.key&&n.debug&&(i=Date.now());const s=e();if(!(s.length!==r.length||s.some((c,u)=>r[u]!==c)))return o;r=s;let l;if(n.key&&n.debug&&(l=Date.now()),o=t(...s),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-i)*100)/100,u=Math.round((Date.now()-l)*100)/100,f=u/16,h=(p,g)=>{for(p=String(p);p.length<g;)p=" "+p;return p};console.info(`%c ${h(u,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function VZ(e,t,n,r){var o,i;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let c=(o=(i=a.id)!=null?i:l?l.replace(".","_"):void 0)!=null?o:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=h=>{let p=h;for(const m of l.split(".")){var g;p=(g=p)==null?void 0:g[m]}return p}:u=h=>h[a.accessorKey]),!c)throw new Error;let f={id:`${String(c)}`,accessorFn:u,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:ue(()=>[!0],()=>{var h;return[f,...(h=f.columns)==null?void 0:h.flatMap(p=>p.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var h;return(h=e.options.debugAll)!=null?h:e.options.debugColumns}}),getLeafColumns:ue(()=>[e._getOrderColumnsFn()],h=>{var p;if((p=f.columns)!=null&&p.length){let g=f.columns.flatMap(m=>m.getLeafColumns());return h(g)}return[f]},{key:"column.getLeafColumns",debug:()=>{var h;return(h=e.options.debugAll)!=null?h:e.options.debugColumns}})};return f=e._features.reduce((h,p)=>Object.assign(h,p.createColumn==null?void 0:p.createColumn(f,e)),f),f}function IT(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(i),s},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(s=>{Object.assign(i,s.createHeader==null?void 0:s.createHeader(i,e))}),i}const FZ={createTable:e=>({getHeaderGroups:ue(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,s;const a=(i=r==null?void 0:r.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?i:[],l=(s=o==null?void 0:o.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?s:[],c=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(o!=null&&o.includes(f.id)));return af(t,[...a,...c,...l],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterHeaderGroups:ue(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),af(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftHeaderGroups:ue(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?o:[];return af(t,i,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightHeaderGroups:ue(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?o:[];return af(t,i,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFooterGroups:ue(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFooterGroups:ue(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFooterGroups:ue(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFooterGroups:ue(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFlatHeaders:ue(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFlatHeaders:ue(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFlatHeaders:ue(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFlatHeaders:ue(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterLeafHeaders:ue(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftLeafHeaders:ue(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightLeafHeaders:ue(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeafHeaders:ue(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,s,a,l,c;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})})};function af(e,t,n,r){var o,i;let s=0;const a=function(h,p){p===void 0&&(p=1),s=Math.max(s,p),h.filter(g=>g.getIsVisible()).forEach(g=>{var m;(m=g.columns)!=null&&m.length&&a(g.columns,p+1)},0)};a(e);let l=[];const c=(h,p)=>{const g={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},m=[];h.forEach(w=>{const v=[...m].reverse()[0],y=w.column.depth===g.depth;let E,_=!1;if(y&&w.column.parent?E=w.column.parent:(E=w.column,_=!0),v&&(v==null?void 0:v.column)===E)v.subHeaders.push(w);else{const b=IT(n,E,{id:[r,p,E.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${m.filter(S=>S.column===E).length}`:void 0,depth:p,index:m.length});b.subHeaders.push(w),m.push(b)}g.headers.push(w),w.headerGroup=g}),l.push(g),p>0&&c(m,p-1)},u=t.map((h,p)=>IT(n,h,{depth:s,index:p}));c(u,s-1),l.reverse();const f=h=>h.filter(g=>g.column.getIsVisible()).map(g=>{let m=0,w=0,v=[0];g.subHeaders&&g.subHeaders.length?(v=[],f(g.subHeaders).forEach(E=>{let{colSpan:_,rowSpan:b}=E;m+=_,v.push(b)})):m=1;const y=Math.min(...v);return w=w+y,g.colSpan=m,g.rowSpan=w,{colSpan:m,rowSpan:w}});return f((o=(i=l[0])==null?void 0:i.headers)!=null?o:[]),l}const lf={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},dv=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),jZ={getDefaultColumnDef:()=>lf,getInitialState:e=>({columnSizing:{},columnSizingInfo:dv(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:Jn("columnSizing",e),onColumnSizingInfoChange:Jn("columnSizingInfo",e)}),createColumn:(e,t)=>({getSize:()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:lf.minSize,(r=i??e.columnDef.size)!=null?r:lf.size),(o=e.columnDef.maxSize)!=null?o:lf.maxSize)},getStart:n=>{const r=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),o=r.findIndex(i=>i.id===e.id);if(o>0){const i=r[o-1];return i.getStart(n)+i.getSize()}return 0},resetSize:()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},getCanResize:()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},getIsResizing:()=>t.getState().columnSizingInfo.isResizingColumn===e.id}),createHeader:(e,t)=>({getSize:()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},getStart:()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},getResizeHandler:()=>{const n=t.getColumn(e.column.id),r=n==null?void 0:n.getCanResize();return o=>{if(!n||!r||(o.persist==null||o.persist(),fv(o)&&o.touches&&o.touches.length>1))return;const i=e.getSize(),s=e?e.getLeafHeaders().map(m=>[m.column.id,m.column.getSize()]):[[n.id,n.getSize()]],a=fv(o)?Math.round(o.touches[0].clientX):o.clientX,l={},c=(m,w)=>{typeof w=="number"&&(t.setColumnSizingInfo(v=>{var y,E;const _=w-((y=v==null?void 0:v.startOffset)!=null?y:0),b=Math.max(_/((E=v==null?void 0:v.startSize)!=null?E:0),-.999999);return v.columnSizingStart.forEach(S=>{let[C,T]=S;l[C]=Math.round(Math.max(T+T*b,0)*100)/100}),{...v,deltaOffset:_,deltaPercentage:b}}),(t.options.columnResizeMode==="onChange"||m==="end")&&t.setColumnSizing(v=>({...v,...l})))},u=m=>c("move",m),f=m=>{c("end",m),t.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h={moveHandler:m=>u(m.clientX),upHandler:m=>{document.removeEventListener("mousemove",h.moveHandler),document.removeEventListener("mouseup",h.upHandler),f(m.clientX)}},p={moveHandler:m=>(m.cancelable&&(m.preventDefault(),m.stopPropagation()),u(m.touches[0].clientX),!1),upHandler:m=>{var w;document.removeEventListener("touchmove",p.moveHandler),document.removeEventListener("touchend",p.upHandler),m.cancelable&&(m.preventDefault(),m.stopPropagation()),f((w=m.touches[0])==null?void 0:w.clientX)}},g=UZ()?{passive:!1}:!1;fv(o)?(document.addEventListener("touchmove",p.moveHandler,g),document.addEventListener("touchend",p.upHandler,g)):(document.addEventListener("mousemove",h.moveHandler,g),document.addEventListener("mouseup",h.upHandler,g)),t.setColumnSizingInfo(m=>({...m,startOffset:a,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:n.id}))}}}),createTable:e=>({setColumnSizing:t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),setColumnSizingInfo:t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),resetColumnSizing:t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},resetHeaderSizeInfo:t=>{var n;e.setColumnSizingInfo(t?dv():(n=e.initialState.columnSizingInfo)!=null?n:dv())},getTotalSize:()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},getLeftTotalSize:()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},getCenterTotalSize:()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},getRightTotalSize:()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}})};let cf=null;function UZ(){if(typeof cf=="boolean")return cf;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return cf=e,cf}function fv(e){return e.type==="touchstart"}const BZ={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Jn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;return{_autoResetExpanded:()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},setExpanded:r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),toggleAllRowsExpanded:r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},resetExpanded:r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},getCanSomeRowsExpand:()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),getToggleAllRowsExpandedHandler:()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},getIsAllRowsExpanded:()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},getExpandedDepth:()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const s=i.split(".");r=Math.max(r,s.length)}),r},getPreExpandedRowModel:()=>e.getSortedRowModel(),getExpandedRowModel:()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())}},createRow:(e,t)=>({toggleExpanded:n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(o=n)!=null?o:!i,!i&&n)return{...s,[e.id]:!0};if(i&&!n){const{[e.id]:a,...l}=s;return l}return r})},getIsExpanded:()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},getCanExpand:()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},getToggleExpandedHandler:()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}})},RM=(e,t,n)=>{var r,o,i;const s=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(o=r.toString())==null||(i=o.toLowerCase())==null)&&i.includes(s))};RM.autoRemove=e=>hr(e);const IM=(e,t,n)=>{var r,o;return!!(!((r=e.getValue(t))==null||(o=r.toString())==null)&&o.includes(n))};IM.autoRemove=e=>hr(e);const PM=(e,t,n)=>{var r,o;return((r=e.getValue(t))==null||(o=r.toString())==null?void 0:o.toLowerCase())===(n==null?void 0:n.toLowerCase())};PM.autoRemove=e=>hr(e);const AM=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};AM.autoRemove=e=>hr(e)||!(e!=null&&e.length);const $M=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});$M.autoRemove=e=>hr(e)||!(e!=null&&e.length);const kM=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});kM.autoRemove=e=>hr(e)||!(e!=null&&e.length);const DM=(e,t,n)=>e.getValue(t)===n;DM.autoRemove=e=>hr(e);const NM=(e,t,n)=>e.getValue(t)==n;NM.autoRemove=e=>hr(e);const p1=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};p1.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(o)?1/0:o;if(i>s){const a=i;i=s,s=a}return[i,s]};p1.autoRemove=e=>hr(e)||hr(e[0])&&hr(e[1]);const Hr={includesString:RM,includesStringSensitive:IM,equalsString:PM,arrIncludes:AM,arrIncludesAll:$M,arrIncludesSome:kM,equals:DM,weakEquals:NM,inNumberRange:p1};function hr(e){return e==null||e===""}const zZ={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Jn("columnFilters",e),onGlobalFilterChange:Jn("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n,r;const o=(n=e.getCoreRowModel().flatRows[0])==null||(r=n._getAllCellsByColumnId()[t.id])==null?void 0:r.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,t)=>({getAutoFilterFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Hr.includesString:typeof r=="number"?Hr.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Hr.equals:Array.isArray(r)?Hr.arrIncludes:Hr.weakEquals},getFilterFn:()=>{var n,r;return Yh(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Hr[e.columnDef.filterFn]},getCanFilter:()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},getCanGlobalFilter:()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},getIsFiltered:()=>e.getFilterIndex()>-1,getFilterValue:()=>{var n,r;return(n=t.getState().columnFilters)==null||(r=n.find(o=>o.id===e.id))==null?void 0:r.value},getFilterIndex:()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},setFilterValue:n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(u=>u.id===e.id),s=Wo(n,i?i.value:void 0);if(PT(o,s,e)){var a;return(a=r==null?void 0:r.filter(u=>u.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(i){var c;return(c=r==null?void 0:r.map(u=>u.id===e.id?l:u))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})},_getFacetedRowModel:t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),getFacetedRowModel:()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),_getFacetedUniqueValues:t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),getFacetedUniqueValues:()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),getFacetedMinMaxValues:()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}),createRow:(e,t)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:e=>({getGlobalAutoFilterFn:()=>Hr.includesString,getGlobalFilterFn:()=>{var t,n;const{globalFilterFn:r}=e.options;return Yh(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Hr[r]},setColumnFilters:t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=Wo(t,o))==null?void 0:i.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(PT(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},setGlobalFilter:t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},resetGlobalFilter:t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},resetColumnFilters:t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},getPreFilteredRowModel:()=>e.getCoreRowModel(),getFilteredRowModel:()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),_getGlobalFacetedRowModel:e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),getGlobalFacetedRowModel:()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),getGlobalFacetedUniqueValues:()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}})};function PT(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const HZ=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),WZ=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},GZ=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},KZ=(e,t,n)=>{let r,o;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r===void 0?s>=s&&(r=o=s):(r>s&&(r=s),o<s&&(o=s)))}),[r,o]},qZ=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},QZ=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!OZ(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,s)=>i-s);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},XZ=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),YZ=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,JZ=(e,t)=>t.length,hv={sum:HZ,min:WZ,max:GZ,extent:KZ,mean:qZ,median:QZ,unique:XZ,uniqueCount:YZ,count:JZ},ZZ={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Jn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>({toggleGrouping:()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},getCanGroup:()=>{var n,r,o,i;return(n=(r=(o=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?o:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},getIsGrouped:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},getGroupedIndex:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},getToggleGroupingHandler:()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},getAutoAggregationFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return hv.sum;if(Object.prototype.toString.call(r)==="[object Date]")return hv.extent},getAggregationFn:()=>{var n,r;if(!e)throw new Error;return Yh(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:hv[e.columnDef.aggregationFn]}}),createTable:e=>({setGrouping:t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),resetGrouping:t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},getPreGroupedRowModel:()=>e.getFilteredRowModel(),getGroupedRowModel:()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())}),createRow:(e,t)=>({getIsGrouped:()=>!!e.groupingColumnId,getGroupingValue:n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},_groupingValuesCache:{}}),createCell:(e,t,n,r)=>({getIsGrouped:()=>t.getIsGrouped()&&t.id===n.groupingColumnId,getIsPlaceholder:()=>!e.getIsGrouped()&&t.getIsGrouped(),getIsAggregated:()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}})};function eee(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(s=>s.id===i)).filter(Boolean),...r]}const tee={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Jn("columnOrder",e)}),createTable:e=>({setColumnOrder:t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),resetColumnOrder:t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},_getOrderColumnsFn:ue(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const s=[...t],a=[...o];for(;a.length&&s.length;){const l=s.shift(),c=a.findIndex(u=>u.id===l);c>-1&&i.push(a.splice(c,1)[0])}i=[...i,...a]}return eee(i,n,r)},{key:!1})})},A0=0,$0=10,pv=()=>({pageIndex:A0,pageSize:$0}),nee={getInitialState:e=>({...e,pagination:{...pv(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Jn("pagination",e)}),createTable:e=>{let t=!1,n=!1;return{_autoResetPageIndex:()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},setPagination:r=>{const o=i=>Wo(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},resetPagination:r=>{var o;e.setPagination(r?pv():(o=e.initialState.pagination)!=null?o:pv())},setPageIndex:r=>{e.setPagination(o=>{let i=Wo(r,o.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,s)),{...o,pageIndex:i}})},resetPageIndex:r=>{var o,i,s;e.setPageIndex(r?A0:(o=(i=e.initialState)==null||(s=i.pagination)==null?void 0:s.pageIndex)!=null?o:A0)},resetPageSize:r=>{var o,i,s;e.setPageSize(r?$0:(o=(i=e.initialState)==null||(s=i.pagination)==null?void 0:s.pageSize)!=null?o:$0)},setPageSize:r=>{e.setPagination(o=>{const i=Math.max(1,Wo(r,o.pageSize)),s=o.pageSize*o.pageIndex,a=Math.floor(s/i);return{...o,pageIndex:a,pageSize:i}})},setPageCount:r=>e.setPagination(o=>{var i;let s=Wo(r,(i=e.options.pageCount)!=null?i:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...o,pageCount:s}}),getPageOptions:ue(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,s)=>s)),o},{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugTable}}),getCanPreviousPage:()=>e.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},previousPage:()=>e.setPageIndex(r=>r-1),nextPage:()=>e.setPageIndex(r=>r+1),getPrePaginationRowModel:()=>e.getExpandedRowModel(),getPaginationRowModel:()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),getPageCount:()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}}},mv=()=>({left:[],right:[]}),ree={getInitialState:e=>({columnPinning:mv(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Jn("columnPinning",e)}),createColumn:(e,t)=>({pin:n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,s;if(n==="right"){var a,l;return{left:((a=o==null?void 0:o.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((l=o==null?void 0:o.right)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var c,u;return{left:[...((c=o==null?void 0:o.left)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((u=o==null?void 0:o.right)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f))),right:((s=o==null?void 0:o.right)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f)))}})},getCanPin:()=>e.getLeafColumns().some(r=>{var o,i;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=t.options.enablePinning)!=null?i:!0)}),getIsPinned:()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>o==null?void 0:o.includes(a));return i?"left":s?"right":!1},getPinnedIndex:()=>{var n,r,o;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(o=r[i])==null?void 0:o.indexOf(e.id))!=null?n:-1:0}}),createRow:(e,t)=>({getCenterVisibleCells:ue(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(s=>!i.includes(s.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getLeftVisibleCells:ue(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getRightVisibleCells:ue(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>({setColumnPinning:t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),resetColumnPinning:t=>{var n,r;return e.setColumnPinning(t?mv():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:mv())},getIsSomeColumnsPinned:t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},getLeftLeafColumns:ue(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getRightLeafColumns:ue(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getCenterLeafColumns:ue(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}})})},oee={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Jn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>({setRowSelection:t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),resetRowSelection:t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},toggleAllRowsSelected:t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},toggleAllPageRowsSelected:t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{k0(o,i.id,r,e)}),o}),getPreSelectedRowModel:()=>e.getCoreRowModel(),getSelectedRowModel:ue(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?gv(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getFilteredSelectedRowModel:ue(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?gv(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getGroupedSelectedRowModel:ue(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?gv(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getIsAllRowsSelected:()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},getIsAllPageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},getIsSomeRowsSelected:()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>t=>{e.toggleAllRowsSelected(t.target.checked)},getToggleAllPageRowsSelectedHandler:()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}}),createRow:(e,t)=>({toggleSelected:n=>{const r=e.getIsSelected();t.setRowSelection(o=>{if(n=typeof n<"u"?n:!r,r===n)return o;const i={...o};return k0(i,e.id,n,t),i})},getIsSelected:()=>{const{rowSelection:n}=t.getState();return m1(e,n)},getIsSomeSelected:()=>{const{rowSelection:n}=t.getState();return AT(e,n)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:n}=t.getState();return AT(e,n)==="all"},getCanSelect:()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},getCanSelectSubRows:()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},getCanMultiSelect:()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},getToggleSelectedHandler:()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}})},k0=(e,t,n,r)=>{var o;const i=r.getRow(t);n?(i.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),i.getCanSelect()&&(e[t]=!0)):delete e[t],(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(s=>k0(e,s.id,n,r))};function gv(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(s,a){return s.map(l=>{var c;const u=m1(l,n);if(u&&(r.push(l),o[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:i(l.subRows)}),u)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function m1(e,t){var n;return(n=t[e.id])!=null?n:!1}function AT(e,t,n){if(e.subRows&&e.subRows.length){let r=!0,o=!1;return e.subRows.forEach(i=>{o&&!r||(m1(i,t)?o=!0:r=!1)}),r?"all":o?"some":!1}return!1}const D0=/([0-9]+)/gm,iee=(e,t,n)=>MM(yi(e.getValue(n)).toLowerCase(),yi(t.getValue(n)).toLowerCase()),see=(e,t,n)=>MM(yi(e.getValue(n)),yi(t.getValue(n))),aee=(e,t,n)=>g1(yi(e.getValue(n)).toLowerCase(),yi(t.getValue(n)).toLowerCase()),lee=(e,t,n)=>g1(yi(e.getValue(n)),yi(t.getValue(n))),cee=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},uee=(e,t,n)=>g1(e.getValue(n),t.getValue(n));function g1(e,t){return e===t?0:e>t?1:-1}function yi(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function MM(e,t){const n=e.split(D0).filter(Boolean),r=t.split(D0).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),s=parseInt(o,10),a=parseInt(i,10),l=[s,a].sort();if(isNaN(l[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const zl={alphanumeric:iee,alphanumericCaseSensitive:see,text:aee,textCaseSensitive:lee,datetime:cee,basic:uee},dee={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Jn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>({getAutoSortingFn:()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return zl.datetime;if(typeof i=="string"&&(r=!0,i.split(D0).length>1))return zl.alphanumeric}return r?zl.text:zl.basic},getAutoSortDir:()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},getSortingFn:()=>{var n,r;if(!e)throw new Error;return Yh(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:zl[e.columnDef.sortingFn]},toggleSorting:(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s==null?void 0:s.find(p=>p.id===e.id),l=s==null?void 0:s.findIndex(p=>p.id===e.id);let c=[],u,f=i?n:o==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?u="toggle":u="add":s!=null&&s.length&&l!==s.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(i||o||(u="remove")),u==="add"){var h;c=[...s,{id:e.id,desc:f}],c.splice(0,c.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=s.map(p=>p.id===e.id?{...p,desc:f}:p):u==="remove"?c=s.filter(p=>p.id!==e.id):c=[{id:e.id,desc:f}];return c})},getFirstSortDir:()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:n=>{var r,o;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:s==="desc"?"asc":"desc":i},getCanSort:()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},getCanMultiSort:()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},getIsSorted:()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},getSortIndex:()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},clearSorting:()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},getToggleSortingHandler:()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}}),createTable:e=>({setSorting:t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),resetSorting:t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},getPreSortedRowModel:()=>e.getGroupedRowModel(),getSortedRowModel:()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())})},fee={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Jn("columnVisibility",e)}),createColumn:(e,t)=>({toggleVisibility:n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},getIsVisible:()=>{var n,r;return(n=(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},getCanHide:()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},getToggleVisibilityHandler:()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}}),createRow:(e,t)=>({_getAllVisibleCells:ue(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getVisibleCells:ue(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>{const t=(n,r)=>ue(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),{key:n,debug:()=>{var o;return(o=e.options.debugAll)!=null?o:e.options.debugColumns}});return{getVisibleFlatColumns:t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),getVisibleLeafColumns:t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),getLeftVisibleLeafColumns:t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),getRightVisibleLeafColumns:t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),getCenterVisibleLeafColumns:t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),setColumnVisibility:n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),resetColumnVisibility:n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},toggleAllColumnsVisible:n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),getIsSomeColumnsVisible:()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}}},$T=[FZ,fee,tee,ree,zZ,dee,ZZ,BZ,nee,oee,jZ];function hee(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:$T};const r=n._features.reduce((u,f)=>Object.assign(u,f.getDefaultOptions==null?void 0:f.getDefaultOptions(n)),{}),o=u=>n.options.mergeOptions?n.options.mergeOptions(r,u):{...r,...u};let s={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(u=>{var f;s=(f=u.getInitialState==null?void 0:u.getInitialState(s))!=null?f:s});const a=[];let l=!1;const c={_features:$T,options:{...r,...e},initialState:s,_queue:u=>{a.push(u),l||(l=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();l=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{n.setState(n.initialState)},setOptions:u=>{const f=Wo(u,n.options);n.options=o(f)},getState:()=>n.options.state,setState:u=>{n.options.onStateChange==null||n.options.onStateChange(u)},_getRowId:(u,f,h)=>{var p;return(p=n.options.getRowId==null?void 0:n.options.getRowId(u,f,h))!=null?p:`${h?[h.id,f].join("."):f}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:u=>{const f=n.getRowModel().rowsById[u];if(!f)throw new Error;return f},_getDefaultColumnDef:ue(()=>[n.options.defaultColumn],u=>{var f;return u=(f=u)!=null?f:{},{header:h=>{const p=h.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:h=>{var p,g;return(p=(g=h.renderValue())==null||g.toString==null?void 0:g.toString())!=null?p:null},...n._features.reduce((h,p)=>Object.assign(h,p.getDefaultColumnDef==null?void 0:p.getDefaultColumnDef()),{}),...u}},{debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:ue(()=>[n._getColumnDefs()],u=>{const f=function(h,p,g){return g===void 0&&(g=0),h.map(m=>{const w=VZ(n,m,g,p),v=m;return w.columns=v.columns?f(v.columns,w,g+1):[],w})};return f(u)},{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),getAllFlatColumns:ue(()=>[n.getAllColumns()],u=>u.flatMap(f=>f.getFlatColumns()),{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),_getAllFlatColumnsById:ue(()=>[n.getAllFlatColumns()],u=>u.reduce((f,h)=>(f[h.id]=h,f),{}),{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),getAllLeafColumns:ue(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(u,f)=>{let h=u.flatMap(p=>p.getLeafColumns());return f(h)},{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),getColumn:u=>n._getAllFlatColumnsById()[u]};return Object.assign(n,c),n._features.forEach(u=>Object.assign(n,u.createTable==null?void 0:u.createTable(n))),n}function pee(e,t,n,r){const o=()=>{var s;return(s=i.getValue())!=null?s:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:ue(()=>[e,n,t,i],(s,a,l,c)=>({table:s,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(s=>{Object.assign(i,s.createCell==null?void 0:s.createCell(i,n,t,e))},{}),i}const v1=(e,t,n,r,o,i,s)=>{let a={id:t,index:r,original:n,depth:o,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>LZ(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:ue(()=>[e.getAllLeafColumns()],l=>l.map(c=>pee(e,a,c,c.id)),{key:!1,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}}),_getAllCellsByColumnId:ue(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}})};for(let l=0;l<e._features.length;l++){const c=e._features[l];Object.assign(a,c==null||c.createRow==null?void 0:c.createRow(a,e))}return a};function mee(){return e=>ue(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,s){i===void 0&&(i=0);const a=[];for(let c=0;c<o.length;c++){const u=v1(e,e._getRowId(o[c],c,s),o[c],c,i,void 0,s==null?void 0:s.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,a.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(o[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=r(u.originalSubRows,i+1,u))}}return a};return n.rows=r(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function OM(e,t,n){return n.options.filterFromLeafRows?gee(e,t,n):vee(e,t,n)}function gee(e,t,n){var r;const o=[],i={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let h=0;h<l.length;h++){var f;let p=l[h];const g=v1(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(g.columnFilters=p.columnFilters,(f=p.subRows)!=null&&f.length&&c<s){if(g.subRows=a(p.subRows,c+1),p=g,t(p)&&!g.subRows.length){u.push(p),i[p.id]=p,i[h]=p;continue}if(t(p)||g.subRows.length){u.push(p),i[p.id]=p,i[h]=p;continue}}else p=g,t(p)&&(u.push(p),i[p.id]=p,i[h]=p)}return u};return{rows:a(e),flatRows:o,rowsById:i}}function vee(e,t,n){var r;const o=[],i={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let h=0;h<l.length;h++){let p=l[h];if(t(p)){var f;if((f=p.subRows)!=null&&f.length&&c<s){const m=v1(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);m.subRows=a(p.subRows,c+1),p=m}u.push(p),o.push(p),i[p.id]=p}}return u};return{rows:a(e),flatRows:o,rowsById:i}}function yee(){return e=>ue(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const o=[],i=[];(n??[]).forEach(h=>{var p;const g=e.getColumn(h.id);if(!g)return;const m=g.getFilterFn();m&&o.push({id:h.id,filterFn:m,resolvedValue:(p=m.resolveFilterValue==null?void 0:m.resolveFilterValue(h.value))!=null?p:h.value})});const s=n.map(h=>h.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(h=>{var p;i.push({id:h.id,filterFn:a,resolvedValue:(p=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?p:r})}));let c,u;for(let h=0;h<t.flatRows.length;h++){const p=t.flatRows[h];if(p.columnFilters={},o.length)for(let g=0;g<o.length;g++){c=o[g];const m=c.id;p.columnFilters[m]=c.filterFn(p,m,c.resolvedValue,w=>{p.columnFiltersMeta[m]=w})}if(i.length){for(let g=0;g<i.length;g++){u=i[g];const m=u.id;if(u.filterFn(p,m,u.resolvedValue,w=>{p.columnFiltersMeta[m]=w})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const f=h=>{for(let p=0;p<s.length;p++)if(h.columnFilters[s[p]]===!1)return!1;return!0};return OM(t.rows,f,e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function wee(){return(e,t)=>ue(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,o)=>{if(!n.rows.length||!(r!=null&&r.length)&&!o)return n;const i=[...r.map(a=>a.id).filter(a=>a!==t),o?"__global__":void 0].filter(Boolean),s=a=>{for(let l=0;l<i.length;l++)if(a.columnFilters[i[l]]===!1)return!1;return!0};return OM(n.rows,s,e)},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{}})}function _ee(){return(e,t)=>ue(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let i=0;i<n.flatRows.length;i++){const s=n.flatRows[i].getUniqueValues(t);for(let a=0;a<s.length;a++){const l=s[a];if(r.has(l)){var o;r.set(l,((o=r.get(l))!=null?o:0)+1)}else r.set(l,1)}}return r},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{}})}function Eee(){return e=>ue(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),s={};i.forEach(l=>{const c=e.getColumn(l.id);c&&(s[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=[...l];return c.sort((u,f)=>{for(let p=0;p<i.length;p+=1){var h;const g=i[p],m=s[g.id],w=(h=g==null?void 0:g.desc)!=null?h:!1;let v=0;if(m.sortUndefined){const y=u.getValue(g.id),E=f.getValue(g.id),_=y===void 0,b=E===void 0;(_||b)&&(v=_&&b?0:_?m.sortUndefined:-m.sortUndefined)}if(v===0&&(v=m.sortingFn(u,f,g.id)),v!==0)return w&&(v*=-1),m.invertSorting&&(v*=-1),v}return u.index-f.index}),c.forEach(u=>{var f;o.push(u),(f=u.subRows)!=null&&f.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(n.rows),flatRows:o,rowsById:n.rowsById}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function xee(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function bee(e){return t=>ue(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:i}=n;let{rows:s,flatRows:a,rowsById:l}=r;const c=o*i,u=c+o;s=s.slice(c,u);let f;t.options.paginateExpandedRows?f={rows:s,flatRows:a,rowsById:l}:f=xee({rows:s,flatRows:a,rowsById:l}),f.flatRows=[];const h=p=>{f.flatRows.push(p),p.subRows.length&&p.subRows.forEach(h)};return f.rows.forEach(h),f},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}})}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kT(e,t){return e?See(e)?d.createElement(e,t):e:null}function See(e){return Cee(e)||typeof e=="function"||Tee(e)}function Cee(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Tee(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Ree(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=d.useState(()=>({current:hee(t)})),[r,o]=d.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:s=>{o(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const LM=d.forwardRef(({className:e,...t},n)=>x.jsx("div",{className:"w-full overflow-auto",children:x.jsx("table",{ref:n,className:Y("w-full caption-bottom text-sm",e),...t})}));LM.displayName="Table";const VM=d.forwardRef(({className:e,...t},n)=>x.jsx("thead",{ref:n,className:Y("[&_tr]:border-b",e),...t}));VM.displayName="TableHeader";const FM=d.forwardRef(({className:e,...t},n)=>x.jsx("tbody",{ref:n,className:Y("[&_tr:last-child]:border-0",e),...t}));FM.displayName="TableBody";const Iee=d.forwardRef(({className:e,...t},n)=>x.jsx("tfoot",{ref:n,className:Y("bg-primary font-medium text-primary",e),...t}));Iee.displayName="TableFooter";const Vf=d.forwardRef(({className:e,...t},n)=>x.jsx("tr",{ref:n,className:Y("border-b transition-colors data-[state=selected]:bg-muted",e),...t}));Vf.displayName="TableRow";const jM=d.forwardRef(({className:e,...t},n)=>x.jsx("th",{ref:n,className:Y("h-12 px-4 text-left align-middle font-medium text-muted [&:has([role=checkbox])]:pr-0",e),...t}));jM.displayName="TableHead";const N0=d.forwardRef(({className:e,...t},n)=>x.jsx("td",{ref:n,className:Y("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));N0.displayName="TableCell";const Pee=d.forwardRef(({className:e,...t},n)=>x.jsx("caption",{ref:n,className:Y("mt-4 text-sm text-muted",e),...t}));Pee.displayName="TableCaption";function DT(e,[t,n]){return Math.min(n,Math.max(t,e))}function UM(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const Aee=[" ","Enter","ArrowUp","ArrowDown"],$ee=[" ","Enter"],Rm="Select",[Im,y1,kee]=vl(Rm),[wl,Ine]=yr(Rm,[kee,ml]),w1=ml(),[Dee,$s]=wl(Rm),[Nee,Mee]=wl(Rm),Oee=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:p}=e,g=w1(t),[m,w]=d.useState(null),[v,y]=d.useState(null),[E,_]=d.useState(!1),b=xm(c),[S=!1,C]=hi({prop:r,defaultProp:o,onChange:i}),[T,I]=hi({prop:s,defaultProp:a,onChange:l}),M=d.useRef(null),B=m?!!m.closest("form"):!0,[j,q]=d.useState(new Set),N=Array.from(j).map(U=>U.props.value).join(";");return d.createElement(XE,g,d.createElement(Dee,{required:p,scope:t,trigger:m,onTriggerChange:w,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:E,onValueNodeHasChildrenChange:_,contentId:dr(),value:T,onValueChange:I,open:S,onOpenChange:C,dir:b,triggerPointerDownPosRef:M,disabled:h},d.createElement(Im.Provider,{scope:t},d.createElement(Nee,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(U=>{q(W=>new Set(W).add(U))},[]),onNativeOptionRemove:d.useCallback(U=>{q(W=>{const Z=new Set(W);return Z.delete(U),Z})},[])},n)),B?d.createElement(HM,{key:N,"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:T,onChange:U=>I(U.target.value),disabled:h},T===void 0?d.createElement("option",{value:""}):null,Array.from(j)):null))},Lee="SelectTrigger",Vee=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=w1(n),s=$s(Lee,n),a=s.disabled||r,l=Ae(t,s.onTriggerChange),c=y1(n),[u,f,h]=WM(g=>{const m=c().filter(y=>!y.disabled),w=m.find(y=>y.value===s.value),v=GM(m,g,w);v!==void 0&&s.onValueChange(v.value)}),p=()=>{a||(s.onOpenChange(!0),h())};return d.createElement(YE,D({asChild:!0},i),d.createElement(ce.button,D({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":s.value===void 0?"":void 0},o,{ref:l,onClick:G(o.onClick,g=>{g.currentTarget.focus()}),onPointerDown:G(o.onPointerDown,g=>{const m=g.target;m.hasPointerCapture(g.pointerId)&&m.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&(p(),s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)},g.preventDefault())}),onKeyDown:G(o.onKeyDown,g=>{const m=u.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(m&&g.key===" ")&&Aee.includes(g.key)&&(p(),g.preventDefault())})})))}),Fee="SelectValue",jee=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:s,...a}=e,l=$s(Fee,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,f=Ae(t,l.onValueNodeChange);return dn(()=>{c(u)},[c,u]),d.createElement(ce.span,D({},a,{ref:f,style:{pointerEvents:"none"}}),l.value===void 0&&s!==void 0?s:i)}),Uee=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return d.createElement(ce.span,D({"aria-hidden":!0},o,{ref:t}),r||"")}),Bee=e=>d.createElement(Zu,D({asChild:!0},e)),Ya="SelectContent",zee=d.forwardRef((e,t)=>{const n=$s(Ya,e.__scopeSelect),[r,o]=d.useState();if(dn(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?Vr.createPortal(d.createElement(BM,{scope:e.__scopeSelect},d.createElement(Im.Slot,{scope:e.__scopeSelect},d.createElement("div",null,e.children))),i):null}return d.createElement(Hee,D({},e,{ref:t}))}),Gr=10,[BM,Pm]=wl(Ya),Hee=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w,...v}=e,y=$s(Ya,n),[E,_]=d.useState(null),[b,S]=d.useState(null),C=Ae(t,te=>_(te)),[T,I]=d.useState(null),[M,B]=d.useState(null),j=y1(n),[q,N]=d.useState(!1),U=d.useRef(!1);d.useEffect(()=>{if(E)return ed(E)},[E]),am();const W=d.useCallback(te=>{const[ye,...Me]=j().map(Re=>Re.ref.current),[Se]=Me.slice(-1),_e=document.activeElement;for(const Re of te)if(Re===_e||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===ye&&b&&(b.scrollTop=0),Re===Se&&b&&(b.scrollTop=b.scrollHeight),Re==null||Re.focus(),document.activeElement!==_e))return},[j,b]),Z=d.useCallback(()=>W([T,E]),[W,T,E]);d.useEffect(()=>{q&&Z()},[q,Z]);const{onOpenChange:k,triggerPointerDownPosRef:R}=y;d.useEffect(()=>{if(E){let te={x:0,y:0};const ye=Se=>{var _e,Re,Tt,Nt;te={x:Math.abs(Math.round(Se.pageX)-((_e=(Re=R.current)===null||Re===void 0?void 0:Re.x)!==null&&_e!==void 0?_e:0)),y:Math.abs(Math.round(Se.pageY)-((Tt=(Nt=R.current)===null||Nt===void 0?void 0:Nt.y)!==null&&Tt!==void 0?Tt:0))}},Me=Se=>{te.x<=10&&te.y<=10?Se.preventDefault():E.contains(Se.target)||k(!1),document.removeEventListener("pointermove",ye),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Me,{capture:!0})}}},[E,k,R]),d.useEffect(()=>{const te=()=>k(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[k]);const[$,V]=WM(te=>{const ye=j().filter(_e=>!_e.disabled),Me=ye.find(_e=>_e.ref.current===document.activeElement),Se=GM(ye,te,Me);Se&&setTimeout(()=>Se.ref.current.focus())}),L=d.useCallback((te,ye,Me)=>{const Se=!U.current&&!Me;(y.value!==void 0&&y.value===ye||Se)&&(I(te),Se&&(U.current=!0))},[y.value]),se=d.useCallback(()=>E==null?void 0:E.focus(),[E]),ee=d.useCallback((te,ye,Me)=>{const Se=!U.current&&!Me;(y.value!==void 0&&y.value===ye||Se)&&B(te)},[y.value]),Te=r==="popper"?NT:Wee,$e=Te===NT?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w}:{};return d.createElement(BM,{scope:n,content:E,viewport:b,onViewportChange:S,itemRefCallback:L,selectedItem:T,onItemLeave:se,itemTextRefCallback:ee,focusSelectedItem:Z,selectedItemText:M,position:r,isPositioned:q,searchRef:$},d.createElement(cm,{as:Eo,allowPinchZoom:!0},d.createElement(sm,{asChild:!0,trapped:y.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:G(o,te=>{var ye;(ye=y.trigger)===null||ye===void 0||ye.focus({preventScroll:!0}),te.preventDefault()})},d.createElement(hl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},d.createElement(Te,D({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:te=>te.preventDefault()},v,$e,{onPlaced:()=>N(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:G(v.onKeyDown,te=>{const ye=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ye&&te.key.length===1&&V(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Se=j().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const _e=te.target,Re=Se.indexOf(_e);Se=Se.slice(Re+1)}setTimeout(()=>W(Se)),te.preventDefault()}})}))))))}),Wee=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=$s(Ya,n),s=Pm(Ya,n),[a,l]=d.useState(null),[c,u]=d.useState(null),f=Ae(t,C=>u(C)),h=y1(n),p=d.useRef(!1),g=d.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:v,focusSelectedItem:y}=s,E=d.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&w&&v){const C=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),M=v.getBoundingClientRect();if(i.dir!=="rtl"){const _e=M.left-T.left,Re=I.left-_e,Tt=C.left-Re,Nt=C.width+Tt,tr=Math.max(Nt,T.width),To=window.innerWidth-Gr,Br=DT(Re,[Gr,To-tr]);a.style.minWidth=Nt+"px",a.style.left=Br+"px"}else{const _e=T.right-M.right,Re=window.innerWidth-I.right-_e,Tt=window.innerWidth-C.right-Re,Nt=C.width+Tt,tr=Math.max(Nt,T.width),To=window.innerWidth-Gr,Br=DT(Re,[Gr,To-tr]);a.style.minWidth=Nt+"px",a.style.right=Br+"px"}const B=h(),j=window.innerHeight-Gr*2,q=m.scrollHeight,N=window.getComputedStyle(c),U=parseInt(N.borderTopWidth,10),W=parseInt(N.paddingTop,10),Z=parseInt(N.borderBottomWidth,10),k=parseInt(N.paddingBottom,10),R=U+W+q+k+Z,$=Math.min(w.offsetHeight*5,R),V=window.getComputedStyle(m),L=parseInt(V.paddingTop,10),se=parseInt(V.paddingBottom,10),ee=C.top+C.height/2-Gr,Te=j-ee,$e=w.offsetHeight/2,te=w.offsetTop+$e,ye=U+W+te,Me=R-ye;if(ye<=ee){const _e=w===B[B.length-1].ref.current;a.style.bottom="0px";const Re=c.clientHeight-m.offsetTop-m.offsetHeight,Tt=Math.max(Te,$e+(_e?se:0)+Re+Z),Nt=ye+Tt;a.style.height=Nt+"px"}else{const _e=w===B[0].ref.current;a.style.top="0px";const Tt=Math.max(ee,U+m.offsetTop+(_e?L:0)+$e)+Me;a.style.height=Tt+"px",m.scrollTop=ye-ee+m.offsetTop}a.style.margin=`${Gr}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,a,c,m,w,v,i.dir,r]);dn(()=>E(),[E]);const[_,b]=d.useState();dn(()=>{c&&b(window.getComputedStyle(c).zIndex)},[c]);const S=d.useCallback(C=>{C&&g.current===!0&&(E(),y==null||y(),g.current=!1)},[E,y]);return d.createElement(Gee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:S},d.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_}},d.createElement(ce.div,D({},o,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),NT=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Gr,...i}=e,s=w1(n);return d.createElement(JE,D({},s,i,{ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Gee,Kee]=wl(Ya,{}),MT="SelectViewport",qee=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Pm(MT,n),i=Kee(MT,n),s=Ae(t,o.onViewportChange),a=d.useRef(0);return d.createElement(d.Fragment,null,d.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),d.createElement(Im.Slot,{scope:n},d.createElement(ce.div,D({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:G(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const p=window.innerHeight-Gr*2,g=parseFloat(u.style.minHeight),m=parseFloat(u.style.height),w=Math.max(g,m);if(w<p){const v=w+h,y=Math.min(p,v),E=v-y;u.style.height=y+"px",u.style.bottom==="0px"&&(c.scrollTop=E>0?E:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),Qee="SelectGroup",[Pne,Xee]=wl(Qee),Yee="SelectLabel",Jee=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Xee(Yee,n);return d.createElement(ce.div,D({id:o.id},r,{ref:t}))}),M0="SelectItem",[Zee,zM]=wl(M0),ete=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...s}=e,a=$s(M0,n),l=Pm(M0,n),c=a.value===r,[u,f]=d.useState(i??""),[h,p]=d.useState(!1),g=Ae(t,v=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,v,r,o)}),m=dr(),w=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};return d.createElement(Zee,{scope:n,value:r,disabled:o,textId:m,isSelected:c,onItemTextChange:d.useCallback(v=>{f(y=>{var E;return y||((E=v==null?void 0:v.textContent)!==null&&E!==void 0?E:"").trim()})},[])},d.createElement(Im.ItemSlot,{scope:n,value:r,disabled:o,textValue:u},d.createElement(ce.div,D({role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},s,{ref:g,onFocus:G(s.onFocus,()=>p(!0)),onBlur:G(s.onBlur,()=>p(!1)),onPointerUp:G(s.onPointerUp,w),onPointerMove:G(s.onPointerMove,v=>{if(o){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(s.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:G(s.onKeyDown,v=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&v.key===" "||($ee.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})}))))}),uf="SelectItemText",tte=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,s=$s(uf,n),a=Pm(uf,n),l=zM(uf,n),c=Mee(uf,n),[u,f]=d.useState(null),h=Ae(t,v=>f(v),l.onItemTextChange,v=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,v,l.value,l.disabled)}),p=u==null?void 0:u.textContent,g=d.useMemo(()=>d.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},p),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=c;return dn(()=>(m(g),()=>w(g)),[m,w,g]),d.createElement(d.Fragment,null,d.createElement(ce.span,D({id:l.textId},i,{ref:h})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Vr.createPortal(i.children,s.valueNode):null)}),nte="SelectItemIndicator",rte=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return zM(nte,n).isSelected?d.createElement(ce.span,D({"aria-hidden":!0},r,{ref:t})):null}),ote=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return d.createElement(ce.div,D({"aria-hidden":!0},r,{ref:t}))}),HM=d.forwardRef((e,t)=>{const{value:n,...r}=e,o=d.useRef(null),i=Ae(t,o),s=UM(n);return d.useEffect(()=>{const a=o.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),d.createElement(wm,{asChild:!0},d.createElement("select",D({},r,{ref:i,defaultValue:n})))});HM.displayName="BubbleSelect";function WM(e){const t=at(e),n=d.useRef(""),r=d.useRef(0),o=d.useCallback(s=>{const a=n.current+s;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function GM(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=ite(e,Math.max(i,0));o.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function ite(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const ste=Oee,KM=Vee,ate=jee,lte=Uee,cte=Bee,qM=zee,ute=qee,QM=Jee,XM=ete,dte=tte,fte=rte,YM=ote,hte=ste,pte=ate,JM=d.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(KM,{ref:r,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,x.jsx(lte,{asChild:!0,children:x.jsx(PB,{className:"h-4 w-4 opacity-50"})})]}));JM.displayName=KM.displayName;const ZM=d.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>x.jsx(cte,{children:x.jsx(qM,{ref:o,className:Y("relative z-50 min-w-fit overflow-hidden rounded-md border bg-main text-main shadow-md animate-in fade-in-80",n==="popper"&&"translate-y-1",e),position:n,...r,children:x.jsx(ute,{className:Y("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));ZM.displayName=qM.displayName;const mte=d.forwardRef(({className:e,...t},n)=>x.jsx(QM,{ref:n,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));mte.displayName=QM.displayName;const eO=d.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(XM,{ref:r,className:Y("bg-main relative flex w-full cursor-default select-none items-center rounded-sm py-2 px-8 text-sm outline-none","hover:bg-secondary text-primary cursor-pointer","focus:bg-accent focus:text-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(fte,{children:x.jsx(fE,{className:"h-4 w-4"})})}),x.jsx(dte,{children:t})]}));eO.displayName=XM.displayName;const gte=d.forwardRef(({className:e,...t},n)=>x.jsx(YM,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));gte.displayName=YM.displayName;function vte({table:e}){return x.jsxs("div",{className:"flex flex-wrap items-center justify-between px-2",children:[x.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[e.getFilteredSelectedRowModel().rows.length," of"," ",e.getFilteredRowModel().rows.length," row(s) selected."]}),x.jsxs("div",{className:"flex flex-wrap items-center space-x-6 lg:space-x-8",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),x.jsxs(hte,{value:`${e.getState().pagination.pageSize}`,onValueChange:t=>{e.setPageSize(Number(t))},children:[x.jsx(JM,{className:"h-8 w-[70px]",children:x.jsx(pte,{placeholder:e.getState().pagination.pageSize})}),x.jsx(ZM,{side:"top",children:[10,20,30,40,50].map(t=>x.jsx(eO,{value:`${t}`,children:t},t))})]})]}),x.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",e.getState().pagination.pageIndex+1," of"," ",e.getPageCount()]}),x.jsxs("div",{className:"flex flex-wrap items-center space-x-2",children:[x.jsxs(ht,{variant:"ghost",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:[x.jsx("span",{className:"sr-only",children:"Go to first page"}),x.jsx($B,{className:"h-4 w-4"})]}),x.jsxs(ht,{variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:[x.jsx("span",{className:"sr-only",children:"Go to previous page"}),x.jsx(AB,{className:"h-4 w-4"})]}),x.jsxs(ht,{variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:[x.jsx("span",{className:"sr-only",children:"Go to next page"}),x.jsx(Bk,{className:"h-4 w-4"})]}),x.jsxs(ht,{variant:"ghost",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:[x.jsx("span",{className:"sr-only",children:"Go to last page"}),x.jsx(kB,{className:"h-4 w-4"})]})]})]})]})}function yte({columns:e,data:t,Toolbar:n}){var h;const[r,o]=d.useState({}),[i,s]=d.useState({}),[a,l]=d.useState([]),[c,u]=d.useState([]),f=Ree({data:t,columns:e,state:{sorting:c,columnVisibility:i,rowSelection:r,columnFilters:a},enableRowSelection:!0,onRowSelectionChange:o,onSortingChange:u,onColumnFiltersChange:l,onColumnVisibilityChange:s,getCoreRowModel:mee(),getFilteredRowModel:yee(),getPaginationRowModel:bee(),getSortedRowModel:Eee(),getFacetedRowModel:wee(),getFacetedUniqueValues:_ee()});return x.jsxs("div",{className:"space-y-4",children:[n&&x.jsx(n,{table:f}),x.jsxs(LM,{children:[x.jsx(VM,{className:"rounded-lg",children:f.getHeaderGroups().map(p=>x.jsx(Vf,{className:"bg-primary",children:p.headers.map(g=>x.jsx(jM,{className:"border border-accent",colSpan:g.colSpan,children:g.isPlaceholder?null:kT(g.column.columnDef.header,g.getContext())},g.id))},p.id))}),x.jsx(FM,{className:"border border-accent",children:(h=f.getRowModel().rows)!=null&&h.length?f.getRowModel().rows.map(p=>x.jsx(Vf,{className:"hover:bg-accent","data-state":p.getIsSelected()&&"selected",children:p.getVisibleCells().map(g=>x.jsx(N0,{children:kT(g.column.columnDef.cell,g.getContext())},g.id))},p.id)):x.jsx(Vf,{children:x.jsx(N0,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]}),x.jsx(vte,{table:f})]})}function wte(e){const[t,n]=d.useState([]),{toast:r}=Dt();return d.useEffect(()=>{if(e!=""){const o=uE.listenStockUser(e,(i,s)=>{s?r({title:"Error",description:s,variant:"destructive"}):(n(i?i.items:[]),console.log("updated items"))});return()=>{o()}}},[]),t}function _te(){const e=Ur(),t=wte(e?e.id:"");return x.jsx(yte,{columns:NZ,data:t||[],Toolbar:MZ})}function Ete(){const{toast:e}=Dt(),[t,n]=d.useState(""),[r,o]=d.useState(0),[i,s]=d.useState(1),[a,l]=d.useState(""),[c,u]=d.useState(null),f=["Informatique et High-Tech","Meubles et Dcoration","Vtements et Accessoires","Sports et Fitness","Jeux et Jouets","Autres"],[h,p]=d.useState(null),g=Ur(),[m,w]=d.useState(!1),v=d.useMemo(()=>t===""||r<0||i<0||a===""||c===null||h===null,[t,r,i,a,h,c]),y=d.useRef(null);async function E(_){if(_.preventDefault(),w(()=>!0),c){if(!c.type.startsWith("image/")){e({title:"Error",description:"Le fichier slectionn n'est pas une image.",variant:"destructive"}),w(!1);return}try{const b=Fk(jk,`${Date.now()}_${c.name}`);await Lk(b,c);const S=await Vk(b),C={stockId:g?g.stockId:"None",name:t,initial_price:r,quantity:i,description:a,imgUrl:S,category:f[h??0]},T=await tm.createItem(C);T.success?e({title:"Success",description:"L'article a t ajout avec succs!",variant:"default"}):e({title:"Error",description:`${T.message}`,variant:"destructive"})}catch(b){console.error(b),e({title:"Error",description:"Une erreur est survenue lors de l'upload de l'image.",variant:"destructive"})}}else e({title:"Error",description:"Veuillez choisir une image.",variant:"destructive"});w(!1)}return x.jsxs("div",{className:"text-primary flex flex-col justify-center items-center h-full gap-6 max-w-60",children:[x.jsx("h2",{className:"text-3xl font-bold",children:"Ajouter un article"}),x.jsx("div",{className:"flex flex-col gap-4",children:x.jsxs("div",{className:"flex flex-row gap-4",children:[x.jsxs("div",{children:[x.jsxs("div",{children:[x.jsx(In,{htmlFor:"nameField",children:" Nom "}),x.jsx(Ft,{value:t,onChange:_=>n(_.target.value)})]}),x.jsxs("div",{children:[x.jsx(In,{htmlFor:"priceField",children:" Prix "}),x.jsx(Ft,{type:"number",min:"0",value:r,onChange:_=>o(Number(_.target.value))})]}),x.jsxs("div",{children:[x.jsx(In,{htmlFor:"quantityField",children:" Quantit "}),x.jsx(Ft,{type:"number",min:"1",value:i,onChange:_=>s(Number(_.target.value))})]}),x.jsxs("div",{children:[x.jsx(In,{htmlFor:"ImageField",children:" Image"}),x.jsxs("div",{className:"flex flex-row items-center",children:[x.jsx(ht,{onClick:()=>{var _;return(_=y.current)==null?void 0:_.click()},children:"Choisir image"}),x.jsx(Ft,{onChange:_=>{var b;return u(((b=_.target.files)==null?void 0:b[0])??null)},accept:"image/*",ref:y,type:"file",className:"hidden"}),x.jsx("span",{className:"ml-2",children:c==null?void 0:c.name})]})]})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex flex-col mb-4",children:[x.jsx(In,{htmlFor:"descriptionField",children:" Description "}),x.jsx(h1,{value:a,onChange:_=>l(_.target.value)})]}),x.jsx("div",{children:x.jsx(f1,{values:f,index:h,placeholder:"Categories",onChange:_=>p(_),label:_=>_})})]})]})}),x.jsx(ht,{isLoading:m,disabled:v,onClick:E,type:"submit",className:"w-80",children:"Crer produit"})]})}function xte(){const[e,t]=d.useState(!1);return x.jsxs(Ss,{children:[x.jsxs(Ju,{className:"flex justify-between item-center gap-4",children:[x.jsx(mE,{children:" Les Produits"}),x.jsxs(Ga,{open:e,onOpenChange:t,children:[x.jsx(Ka,{label:"Ajout un produit",icon:x.jsx(hE,{size:24})}),x.jsx(qa,{title:"",size:"w-full md:w-3/6",isOpen:e,children:x.jsx(Ete,{})})]})]}),x.jsx(fl,{children:x.jsx(_te,{})})]})}function bte(){const e=Fr();return dE(e.pathname),x.jsx(xte,{})}function Ste(){const{toast:e}=Dt(),[t,n]=d.useState(null),[r,o]=d.useState(null),[i,s]=d.useState(!1),a=Ur(),l=a?a.id:"",c=d.useMemo(()=>t===null,[t]);d.useEffect(()=>{l!=""&&(async()=>{try{const p=await uE.getStockUser(l);p.success?o(p.data):e({title:"Error",description:"L'extraction des articles du stock a chou.",variant:"destructive"})}catch(p){console.error(p),e({title:"Error",description:"Erreur ct serveur"})}})()},[e,l]);async function u(h){h.preventDefault(),s(!0);const p=r==null?void 0:r.items[t??0];if(!p){e({title:"Error",description:"Please select an item."}),s(!1);return}const g={itemId:p.id,sellerId:l},m=await Yu.createAuction(g);m.success?e({title:"Success",description:"L'enchre a t cre avec succs!",variant:"default"}):e({title:"Error",description:m.message,variant:"destructive"}),s(!1)}const f=d.useMemo(()=>(r==null?void 0:r.items.map(h=>h.name))||[],[r]);return x.jsxs("div",{className:"text-primary flex flex-col justify-center items-center h-full gap-6 max-w-60",children:[x.jsx("h2",{className:"text-3xl font-bold",children:"Crer enchre"}),x.jsxs("div",{className:"flex flex-col items-center gap-4 w-1/4",children:[x.jsx("div",{children:x.jsx(f1,{values:f,index:t,placeholder:"Article",onChange:h=>n(h),label:h=>h})}),x.jsx(ht,{isLoading:i,disabled:c,onClick:u,type:"submit",className:"w-2/3",children:"Crer"})]})]})}function tO(e){return x.jsx("ul",{className:"flex flex-col",children:e.elements.map((t,n)=>x.jsx("li",{className:Y("p-4 border-b border-contrast hover:bg-accent cursor-pointer",e.activeElement===t&&"border-primary bg-primary hover:bg-primary"),onClick:r=>e.setActiveElement(t),children:e.display({element:t})},n))})}function Cte(){const e=Fr();dE(e.pathname);const[t,n]=d.useState(!1),r=SB(),[o,i]=d.useState(null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("h2",{className:"text-lg font-bold",children:" Les enchres "}),x.jsxs(Ga,{open:t,onOpenChange:n,children:[x.jsx(Ka,{label:"Crer un enchre",icon:x.jsx(hE,{size:24})}),x.jsx(qa,{title:"",isOpen:t,children:x.jsx(Ste,{})})]})]}),x.jsxs("div",{className:"grid grid-cols-3 items-center justify-center gap-4 pt-8",children:[x.jsx(Ss,{className:"w-fit h-fit",children:x.jsx(fl,{children:x.jsx(tO,{setActiveElement:i,activeElement:o,elements:r,display:({element:s})=>x.jsxs(x.Fragment,{children:["Ventes De ",s.item.name]})})})}),o&&x.jsx(nQ,{auction:o})]})]})}function Tte(){const e=Fr();dE(e.pathname);const t=CB(),[n,r]=d.useState(null);return x.jsxs("div",{className:"grid grid-cols-3 items-center justify-center gap-4 pt-8",children:[x.jsx(Ss,{className:"w-fit h-fit",children:x.jsx(fl,{className:"p-0 overflow-y-auto max-h-72",children:x.jsx(tO,{setActiveElement:r,activeElement:n,elements:t,display:({element:o})=>x.jsxs(x.Fragment,{children:["Ventes De ",o.item.name]})})})}),x.jsx("div",{className:"col-span-2",children:n&&x.jsx(rQ,{auction:n})})]})}const cd="NavigationMenu",[_1,Rte,Ite]=vl(cd),[O0,Pte,Ate]=vl(cd),[E1,Ane]=yr(cd,[Ite,Ate]),[$te,ks]=E1(cd),[kte,$ne]=E1(cd),Dte=d.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:o,defaultValue:i,delayDuration:s=200,skipDelayDuration:a=300,orientation:l="horizontal",dir:c,...u}=e,[f,h]=d.useState(null),p=Ae(t,I=>h(I)),g=xm(c),m=d.useRef(0),w=d.useRef(0),v=d.useRef(0),[y,E]=d.useState(!0),[_="",b]=hi({prop:r,onChange:I=>{const M=I!=="",B=a>0;M?(window.clearTimeout(v.current),B&&E(!1)):(window.clearTimeout(v.current),v.current=window.setTimeout(()=>E(!0),a)),o==null||o(I)},defaultProp:i}),S=d.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>b(""),150)},[b]),C=d.useCallback(I=>{window.clearTimeout(w.current),b(I)},[b]),T=d.useCallback(I=>{_===I?window.clearTimeout(w.current):m.current=window.setTimeout(()=>{window.clearTimeout(w.current),b(I)},s)},[_,b,s]);return d.useEffect(()=>()=>{window.clearTimeout(m.current),window.clearTimeout(w.current),window.clearTimeout(v.current)},[]),d.createElement(Nte,{scope:n,isRootMenu:!0,value:_,dir:g,orientation:l,rootNavigationMenu:f,onTriggerEnter:I=>{window.clearTimeout(m.current),y?T(I):C(I)},onTriggerLeave:()=>{window.clearTimeout(m.current),S()},onContentEnter:()=>window.clearTimeout(w.current),onContentLeave:S,onItemSelect:I=>{b(M=>M===I?"":I)},onItemDismiss:()=>b("")},d.createElement(ce.nav,D({"aria-label":"Main","data-orientation":l,dir:g},u,{ref:p})))}),Nte=e=>{const{scope:t,isRootMenu:n,rootNavigationMenu:r,dir:o,orientation:i,children:s,value:a,onItemSelect:l,onItemDismiss:c,onTriggerEnter:u,onTriggerLeave:f,onContentEnter:h,onContentLeave:p}=e,[g,m]=d.useState(null),[w,v]=d.useState(new Map),[y,E]=d.useState(null);return d.createElement($te,{scope:t,isRootMenu:n,rootNavigationMenu:r,value:a,previousValue:UM(a),baseId:dr(),dir:o,orientation:i,viewport:g,onViewportChange:m,indicatorTrack:y,onIndicatorTrackChange:E,onTriggerEnter:at(u),onTriggerLeave:at(f),onContentEnter:at(h),onContentLeave:at(p),onItemSelect:at(l),onItemDismiss:at(c),onViewportContentChange:d.useCallback((_,b)=>{v(S=>(S.set(_,b),new Map(S)))},[]),onViewportContentRemove:d.useCallback(_=>{v(b=>b.has(_)?(b.delete(_),new Map(b)):b)},[])},d.createElement(_1.Provider,{scope:t},d.createElement(kte,{scope:t,items:w},s)))},Mte="NavigationMenuList",Ote=d.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...r}=e,o=ks(Mte,n),i=d.createElement(ce.ul,D({"data-orientation":o.orientation},r,{ref:t}));return d.createElement(ce.div,{style:{position:"relative"},ref:o.onIndicatorTrackChange},d.createElement(_1.Slot,{scope:n},o.isRootMenu?d.createElement(rO,{asChild:!0},i):i))}),Lte="NavigationMenuItem",[Vte,nO]=E1(Lte),Fte=d.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:r,...o}=e,i=dr(),s=r||i||"LEGACY_REACT_AUTO_VALUE",a=d.useRef(null),l=d.useRef(null),c=d.useRef(null),u=d.useRef(()=>{}),f=d.useRef(!1),h=d.useCallback((g="start")=>{if(a.current){u.current();const m=L0(a.current);m.length&&x1(g==="start"?m:m.reverse())}},[]),p=d.useCallback(()=>{if(a.current){const g=L0(a.current);g.length&&(u.current=Kte(g))}},[]);return d.createElement(Vte,{scope:n,value:s,triggerRef:l,contentRef:a,focusProxyRef:c,wasEscapeCloseRef:f,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:p,onContentFocusOutside:p},d.createElement(ce.li,D({},o,{ref:t})))}),OT="NavigationMenuTrigger",jte=d.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,disabled:r,...o}=e,i=ks(OT,e.__scopeNavigationMenu),s=nO(OT,e.__scopeNavigationMenu),a=d.useRef(null),l=Ae(a,s.triggerRef,t),c=iO(i.baseId,s.value),u=sO(i.baseId,s.value),f=d.useRef(!1),h=d.useRef(!1),p=s.value===i.value;return d.createElement(d.Fragment,null,d.createElement(_1.ItemSlot,{scope:n,value:s.value},d.createElement(Gte,{asChild:!0},d.createElement(ce.button,D({id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":oO(p),"aria-expanded":p,"aria-controls":u},o,{ref:l,onPointerEnter:G(e.onPointerEnter,()=>{h.current=!1,s.wasEscapeCloseRef.current=!1}),onPointerMove:G(e.onPointerMove,V0(()=>{r||h.current||s.wasEscapeCloseRef.current||f.current||(i.onTriggerEnter(s.value),f.current=!0)})),onPointerLeave:G(e.onPointerLeave,V0(()=>{r||(i.onTriggerLeave(),f.current=!1)})),onClick:G(e.onClick,()=>{i.onItemSelect(s.value),h.current=p}),onKeyDown:G(e.onKeyDown,g=>{const w={horizontal:"ArrowDown",vertical:i.dir==="rtl"?"ArrowLeft":"ArrowRight"}[i.orientation];p&&g.key===w&&(s.onEntryKeyDown(),g.preventDefault())})})))),p&&d.createElement(d.Fragment,null,d.createElement(KQ,{"aria-hidden":!0,tabIndex:0,ref:s.focusProxyRef,onFocus:g=>{const m=s.contentRef.current,w=g.relatedTarget,v=w===a.current,y=m==null?void 0:m.contains(w);(v||!y)&&s.onFocusProxyEnter(v?"start":"end")}}),i.viewport&&d.createElement("span",{"aria-owns":u})))}),Jh="NavigationMenuContent",Ute=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ks(Jh,e.__scopeNavigationMenu),i=nO(Jh,e.__scopeNavigationMenu),s=Ae(i.contentRef,t),a=i.value===o.value,l={value:i.value,triggerRef:i.triggerRef,focusProxyRef:i.focusProxyRef,wasEscapeCloseRef:i.wasEscapeCloseRef,onContentFocusOutside:i.onContentFocusOutside,onRootContentClose:i.onRootContentClose,...r};return o.viewport?d.createElement(Bte,D({forceMount:n},l,{ref:s})):d.createElement(Zn,{present:n||a},d.createElement(zte,D({"data-state":oO(a)},l,{ref:s,onPointerEnter:G(e.onPointerEnter,o.onContentEnter),onPointerLeave:G(e.onPointerLeave,V0(o.onContentLeave)),style:{pointerEvents:!a&&o.isRootMenu?"none":void 0,...l.style}})))}),Bte=d.forwardRef((e,t)=>{const n=ks(Jh,e.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:o}=n;return dn(()=>{r(e.value,{ref:t,...e})},[e,t,r]),dn(()=>()=>o(e.value),[e.value,o]),null}),vv="navigationMenu.rootContentDismiss",zte=d.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:o,focusProxyRef:i,wasEscapeCloseRef:s,onRootContentClose:a,onContentFocusOutside:l,...c}=e,u=ks(Jh,n),f=d.useRef(null),h=Ae(f,t),p=iO(u.baseId,r),g=sO(u.baseId,r),m=Rte(n),w=d.useRef(null),{onItemDismiss:v}=u;d.useEffect(()=>{const E=f.current;if(u.isRootMenu&&E){const _=()=>{var b;v(),a(),E.contains(document.activeElement)&&((b=o.current)===null||b===void 0||b.focus())};return E.addEventListener(vv,_),()=>E.removeEventListener(vv,_)}},[u.isRootMenu,e.value,o,v,a]);const y=d.useMemo(()=>{const _=m().map(M=>M.value);u.dir==="rtl"&&_.reverse();const b=_.indexOf(u.value),S=_.indexOf(u.previousValue),C=r===u.value,T=S===_.indexOf(r);if(!C&&!T)return w.current;const I=(()=>{if(b!==S){if(C&&S!==-1)return b>S?"from-end":"from-start";if(T&&b!==-1)return b>S?"to-start":"to-end"}return null})();return w.current=I,I},[u.previousValue,u.value,u.dir,m,r]);return d.createElement(rO,{asChild:!0},d.createElement(hl,D({id:g,"aria-labelledby":p,"data-motion":y,"data-orientation":u.orientation},c,{ref:h,onDismiss:()=>{var E;const _=new Event(vv,{bubbles:!0,cancelable:!0});(E=f.current)===null||E===void 0||E.dispatchEvent(_)},onFocusOutside:G(e.onFocusOutside,E=>{var _;l();const b=E.target;(_=u.rootNavigationMenu)!==null&&_!==void 0&&_.contains(b)&&E.preventDefault()}),onPointerDownOutside:G(e.onPointerDownOutside,E=>{var _;const b=E.target,S=m().some(T=>{var I;return(I=T.ref.current)===null||I===void 0?void 0:I.contains(b)}),C=u.isRootMenu&&((_=u.viewport)===null||_===void 0?void 0:_.contains(b));(S||C||!u.isRootMenu)&&E.preventDefault()}),onKeyDown:G(e.onKeyDown,E=>{const _=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!_){const C=L0(E.currentTarget),T=document.activeElement,I=C.findIndex(j=>j===T),B=E.shiftKey?C.slice(0,I).reverse():C.slice(I+1,C.length);if(x1(B))E.preventDefault();else{var S;(S=i.current)===null||S===void 0||S.focus()}}}),onEscapeKeyDown:G(e.onEscapeKeyDown,E=>{s.current=!0})})))}),Hte="FocusGroup",rO=d.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...r}=e,o=ks(Hte,n);return d.createElement(O0.Provider,{scope:n},d.createElement(O0.Slot,{scope:n},d.createElement(ce.div,D({dir:o.dir},r,{ref:t}))))}),LT=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],Wte="FocusGroupItem",Gte=d.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...r}=e,o=Pte(n),i=ks(Wte,n);return d.createElement(O0.ItemSlot,{scope:n},d.createElement(ce.button,D({},r,{ref:t,onKeyDown:G(e.onKeyDown,s=>{if(["Home","End",...LT].includes(s.key)){let l=o().map(f=>f.ref.current);if([i.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(s.key)&&l.reverse(),LT.includes(s.key)){const f=l.indexOf(s.currentTarget);l=l.slice(f+1)}setTimeout(()=>x1(l)),s.preventDefault()}})})))});function L0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function x1(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}function Kte(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const n=t.dataset.tabindex;t.setAttribute("tabindex",n)})}}function oO(e){return e?"open":"closed"}function iO(e,t){return`${e}-trigger-${t}`}function sO(e,t){return`${e}-content-${t}`}function V0(e){return t=>t.pointerType==="mouse"?e(t):void 0}const qte=Dte,Qte=Ote,aO=Fte,Xte=jte,Yte=Ute,lO=({children:e,className:t})=>x.jsx(qte,{className:Y("sticky border border-primary bg-secondary",t),children:e}),Jte=({children:e,className:t})=>x.jsx(Qte,{className:Y("list-none",t),children:e}),Zte=({label:e,children:t})=>x.jsxs(aO,{children:[x.jsxs(Xte,{className:"flex select-none items-center justify-between gap-1 px-3 py-2  font-medium leading-none outline-none ",children:[e," "]}),x.jsx(Yte,{className:"absolute z-50 w-fit rounded-md border p-4 shadow-md bg-muted outline-none animate-in ",children:t})]}),ene=({href:e,label:t,className:n})=>x.jsx(aO,{className:n,children:x.jsx(uP,{to:e,children:t})}),tne=[{label:"Acceuil",href:"/"},{label:"Mes produits",href:"/mes_produits"},{label:"Mes enchres",href:"/mes_encheres"},{label:"Mes offres",href:"/mes_offres"}];function nne(){const e=Fr();return x.jsx(lO,{className:"h-full w-64",children:x.jsx(Jte,{className:"flex flex-col",children:tne.map((t,n)=>x.jsx(uP,{to:t.href,className:Y("px-4 py-6 cursor-pointer w-full",e.pathname===t.href&&"bg-primary hover:bg-muted"),children:t.label},n))})})}const cO="Avatar",[rne,kne]=yr(cO),[one,uO]=rne(cO),ine=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,i]=d.useState("idle");return d.createElement(one,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:i},d.createElement(ce.span,D({},r,{ref:t})))}),sne="AvatarImage",ane=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...i}=e,s=uO(sne,n),a=une(r),l=at(c=>{o(c),s.onImageLoadingStatusChange(c)});return dn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.createElement(ce.img,D({},i,{ref:t,src:r})):null}),lne="AvatarFallback",cne=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,i=uO(lne,n),[s,a]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&i.imageLoadingStatus!=="loaded"?d.createElement(ce.span,D({},o,{ref:t})):null});function une(e){const[t,n]=d.useState("idle");return d.useEffect(()=>{if(!e){n("error");return}let r=!0;const o=new window.Image,i=s=>()=>{r&&n(s)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,()=>{r=!1}},[e]),t}const dO=ine,fO=ane,hO=cne,pO=d.forwardRef(({className:e,...t},n)=>x.jsx(dO,{ref:n,className:Y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));pO.displayName=dO.displayName;const mO=d.forwardRef(({className:e,...t},n)=>x.jsx(fO,{ref:n,className:Y("aspect-square h-full w-full",e),...t}));mO.displayName=fO.displayName;const gO=d.forwardRef(({className:e,...t},n)=>x.jsx(hO,{ref:n,className:Y("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));gO.displayName=hO.displayName;function dne(){const e=d.useContext(rm),t=e==null?void 0:e.user,n=nl(),{toast:r}=Dt(),o=async()=>{const i=await nm.logout();i.success?(r({title:"Success",description:"Dconnexion russie",variant:"default"}),n("/")):r({title:"Error",description:`${i.message}`,variant:"destructive"})};return x.jsxs(lO,{className:"w-full flex justify-between items-center list-none px-8 py-1 h-20",children:[x.jsx(ene,{href:"/",label:x.jsx("label",{className:"cursor-pointer font-lg",children:"Auction System"})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(t1,{}),t?x.jsx(Zte,{label:x.jsx(fne,{}),children:x.jsx("button",{onClick:o,children:"Se dconnecter"})}):x.jsx(yp,{to:"/authentification",children:"Se connecter"})]})]})}const fne=()=>{const e=d.useContext(rm),t=e==null?void 0:e.user;return t?x.jsxs(x.Fragment,{children:[x.jsxs(pO,{children:[x.jsx(mO,{src:"https://api.dicebear.com/6.x/thumbs/svg"}),x.jsx(gO,{children:t.name})]}),t.name]}):null};function hne(){return x.jsxs(GE,{children:[x.jsxs("div",{className:"h-screen w-screen overflow-hidden",children:[x.jsx(dne,{}),x.jsxs("div",{className:"h-full w-full flex",children:[x.jsx(nne,{}),x.jsx("main",{className:"p-4 pb-32 overflow-y-scroll overflow-x w-full h-full",children:x.jsx(e4,{})})]})]}),x.jsx(r1,{})]})}const pne=[{path:"/",element:x.jsx(hne,{}),children:[{path:"/",element:x.jsx(oQ,{})},{path:"/mes_produits",element:x.jsx(bte,{})},{path:"/mes_encheres",element:x.jsx(Cte,{})},{path:"/mes_offres",element:x.jsx(Tte,{})}]},{path:"/authentification",element:x.jsx(_X,{})},{path:"/inscription",element:x.jsx(xX,{})}];const mne=a4(pne);yv.createRoot(document.getElementById("root")).render(x.jsx(mn.StrictMode,{children:x.jsx(wB,{children:x.jsx(JF,{router:mne})})}));
